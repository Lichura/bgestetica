function dtmlXMLLoaderObject(e,t,i,n){return this.xmlDoc="",this.async=void 0===i||i,this.onloadAction=e||null,this.mainObject=t||null,this.waitCall=null,this.rSeed=n||!1,this}function callerFunction(e,t){return this.handler=function(i){return i||(i=window.event),e(i,t),!0},this.handler}function getAbsoluteLeft(e){return getOffset(e).left}function getAbsoluteTop(e){return getOffset(e).top}function getOffsetSum(e){for(var t=0,i=0;e;)t+=parseInt(e.offsetTop),i+=parseInt(e.offsetLeft),e=e.offsetParent;return{top:t,left:i}}function getOffsetRect(e){var t=e.getBoundingClientRect(),i=document.body,n=document.documentElement,s=window.pageYOffset||n.scrollTop||i.scrollTop,r=window.pageXOffset||n.scrollLeft||i.scrollLeft,o=n.clientTop||i.clientTop||0,a=n.clientLeft||i.clientLeft||0,l=t.top+s-o,h=t.left+r-a;return{top:Math.round(l),left:Math.round(h)}}function getOffset(e){return e.getBoundingClientRect?getOffsetRect(e):getOffsetSum(e)}function convertStringToBoolean(e){switch("string"==typeof e&&(e=e.toLowerCase()),e){case"1":case"true":case"yes":case"y":case 1:case!0:return!0;default:return!1}}function getUrlSymbol(e){return-1!=e.indexOf("?")?"&":"?"}function dhtmlDragAndDropObject(){return window.dhtmlDragAndDrop?window.dhtmlDragAndDrop:(this.lastLanding=0,this.dragNode=0,this.dragStartNode=0,this.dragStartObject=0,this.tempDOMU=null,this.tempDOMM=null,this.waitDrag=0,window.dhtmlDragAndDrop=this,this)}function _dhtmlxError(){return this.catches||(this.catches=[]),this}function dhtmlXHeir(e,t){for(var i in t)"function"==typeof t[i]&&(e[i]=t[i]);return e}function dataProcessor(e){return this.serverProcessor=e,this.action_param="!nativeeditor_status",this.object=null,this.updatedRows=[],this.autoUpdate=!0,this.updateMode="cell",this._tMode="GET",this.post_delim="_",this._waitMode=0,this._in_progress={},this._invalid={},this.mandatoryFields=[],this.messages=[],this.styles={updated:"font-weight:bold;",inserted:"font-weight:bold;",deleted:"text-decoration : line-through;",invalid:"background-color:FFE0E0;",invalid_cell:"border-bottom:2px solid red;",error:"color:red;",clear:"font-weight:normal;text-decoration:none;"},this.enableUTFencoding(!0),dhtmlxEventable(this),this}!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function i(e){var t=!!e&&"length"in e&&e.length,i=fe.type(e);return"function"!==i&&!fe.isWindow(e)&&("array"===i||0===t||"number"==typeof t&&t>0&&t-1 in e)}function n(e,t,i){if(fe.isFunction(t))return fe.grep(e,function(e,n){return!!t.call(e,n,e)!==i});if(t.nodeType)return fe.grep(e,function(e){return e===t!==i});if("string"==typeof t){if(ke.test(t))return fe.filter(t,e,i);t=fe.filter(t,e)}return fe.grep(e,function(e){return fe.inArray(e,t)>-1!==i})}function s(e,t){do{e=e[t]}while(e&&1!==e.nodeType);return e}function r(e){var t={};return fe.each(e.match(Oe)||[],function(e,i){t[i]=!0}),t}function o(){ne.addEventListener?(ne.removeEventListener("DOMContentLoaded",a),e.removeEventListener("load",a)):(ne.detachEvent("onreadystatechange",a),e.detachEvent("onload",a))}function a(){(ne.addEventListener||"load"===e.event.type||"complete"===ne.readyState)&&(o(),fe.ready())}function l(e,t,i){if(i===undefined&&1===e.nodeType){var n="data-"+t.replace(Le,"-$1").toLowerCase();if("string"==typeof(i=e.getAttribute(n))){try{i="true"===i||"false"!==i&&("null"===i?null:+i+""===i?+i:Me.test(i)?fe.parseJSON(i):i)}catch(s){}fe.data(e,t,i)}else i=undefined}return i}function h(e){var t;for(t in e)if(("data"!==t||!fe.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function d(e,t,i,n){if(Ie(e)){var s,r,o=fe.expando,a=e.nodeType,l=a?fe.cache:e,h=a?e[o]:e[o]&&o;if(h&&l[h]&&(n||l[h].data)||i!==undefined||"string"!=typeof t)return h||(h=a?e[o]=ie.pop()||fe.guid++:o),l[h]||(l[h]=a?{}:{toJSON:fe.noop}),"object"!=typeof t&&"function"!=typeof t||(n?l[h]=fe.extend(l[h],t):l[h].data=fe.extend(l[h].data,t)),r=l[h],n||(r.data||(r.data={}),r=r.data),i!==undefined&&(r[fe.camelCase(t)]=i),"string"==typeof t?null==(s=r[t])&&(s=r[fe.camelCase(t)]):s=r,s}}function c(e,t,i){if(Ie(e)){var n,s,r=e.nodeType,o=r?fe.cache:e,a=r?e[fe.expando]:fe.expando;if(o[a]){if(t&&(n=i?o[a]:o[a].data)){s=(t=fe.isArray(t)?t.concat(fe.map(t,fe.camelCase)):t in n?[t]:(t=fe.camelCase(t))in n?[t]:t.split(" ")).length;for(;s--;)delete n[t[s]];if(i?!h(n):!fe.isEmptyObject(n))return}(i||(delete o[a].data,h(o[a])))&&(r?fe.cleanData([e],!0):ce.deleteExpando||o!=o.window?delete o[a]:o[a]=undefined)}}}function u(e,t,i,n){var s,r=1,o=20,a=n?function(){return n.cur()}:function(){return fe.css(e,t,"")},l=a(),h=i&&i[3]||(fe.cssNumber[t]?"":"px"),d=(fe.cssNumber[t]||"px"!==h&&+l)&&ze.exec(fe.css(e,t));if(d&&d[3]!==h){h=h||d[3],i=i||[],d=+l||1;do{d/=r=r||".5",fe.style(e,t,d+h)}while(r!==(r=a()/l)&&1!==r&&--o)}return i&&(d=+d||+l||0,s=i[1]?d+(i[1]+1)*i[2]:+i[2],n&&(n.unit=h,n.start=d,n.end=s)),s}function f(e){var t=Xe.split("|"),i=e.createDocumentFragment();if(i.createElement)for(;t.length;)i.createElement(t.pop());return i}function p(e,t){var i,n,s=0,r="undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t||"*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll(t||"*"):undefined;if(!r)for(r=[],i=e.childNodes||e;null!=(n=i[s]);s++)!t||fe.nodeName(n,t)?r.push(n):fe.merge(r,p(n,t));return t===undefined||t&&fe.nodeName(e,t)?fe.merge([e],r):r}function _(e,t){for(var i,n=0;null!=(i=e[n]);n++)fe._data(i,"globalEval",!t||fe._data(t[n],"globalEval"))}function g(e){qe.test(e.type)&&(e.defaultChecked=e.checked)}function m(e,t,i,n,s){for(var r,o,a,l,h,d,c,u=e.length,m=f(t),v=[],y=0;y<u;y++)if((o=e[y])||0===o)if("object"===fe.type(o))fe.merge(v,o.nodeType?[o]:o);else if(Ge.test(o)){for(l=l||m.appendChild(t.createElement("div")),h=(Ve.exec(o)||["",""])[1].toLowerCase(),c=Ke[h]||Ke._default,l.innerHTML=c[1]+fe.htmlPrefilter(o)+c[2],r=c[0];r--;)l=l.lastChild;if(!ce.leadingWhitespace&&Ye.test(o)&&v.push(t.createTextNode(Ye.exec(o)[0])),!ce.tbody)for(r=(o="table"!==h||$e.test(o)?"<table>"!==c[1]||$e.test(o)?0:l:l.firstChild)&&o.childNodes.length;r--;)fe.nodeName(d=o.childNodes[r],"tbody")&&!d.childNodes.length&&o.removeChild(d);for(fe.merge(v,l.childNodes),l.textContent="";l.firstChild;)l.removeChild(l.firstChild);l=m.lastChild}else v.push(t.createTextNode(o));for(l&&m.removeChild(l),ce.appendChecked||fe.grep(p(v,"input"),g),y=0;o=v[y++];)if(n&&fe.inArray(o,n)>-1)s&&s.push(o);else if(a=fe.contains(o.ownerDocument,o),l=p(m.appendChild(o),"script"),a&&_(l),i)for(r=0;o=l[r++];)Ue.test(o.type||"")&&i.push(o);return l=null,m}function v(){return!0}function y(){return!1}function b(){try{return ne.activeElement}catch(e){}}function x(e,t,i,n,s,r){var o,a;if("object"==typeof t){"string"!=typeof i&&(n=n||i,i=undefined);for(a in t)x(e,a,i,n,t[a],r);return e}if(null==n&&null==s?(s=i,n=i=undefined):null==s&&("string"==typeof i?(s=n,n=undefined):(s=n,n=i,i=undefined)),!1===s)s=y;else if(!s)return e;return 1===r&&(o=s,(s=function(e){return fe().off(e),o.apply(this,arguments)}).guid=o.guid||(o.guid=fe.guid++)),e.each(function(){fe.event.add(this,t,s,n,i)})}function w(e,t){return fe.nodeName(e,"table")&&fe.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function k(e){return e.type=(null!==fe.find.attr(e,"type"))+"/"+e.type,e}function E(e){var t=at.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function C(e,t){if(1===t.nodeType&&fe.hasData(e)){var i,n,s,r=fe._data(e),o=fe._data(t,r),a=r.events;if(a){delete o.handle,o.events={};for(i in a)for(n=0,s=a[i].length;n<s;n++)fe.event.add(t,i,a[i][n])}o.data&&(o.data=fe.extend({},o.data))}}function D(e,t){var i,n,s;if(1===t.nodeType){if(i=t.nodeName.toLowerCase(),!ce.noCloneEvent&&t[fe.expando]){s=fe._data(t);for(n in s.events)fe.removeEvent(t,n,s.handle);t.removeAttribute(fe.expando)}"script"===i&&t.text!==e.text?(k(t).text=e.text,E(t)):"object"===i?(t.parentNode&&(t.outerHTML=e.outerHTML),ce.html5Clone&&e.innerHTML&&!fe.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===i&&qe.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===i?t.defaultSelected=t.selected=e.defaultSelected:"input"!==i&&"textarea"!==i||(t.defaultValue=e.defaultValue)}}function T(e,t,i,n){t=re.apply([],t);var s,r,o,a,l,h,d=0,c=e.length,u=c-1,f=t[0],_=fe.isFunction(f);if(_||c>1&&"string"==typeof f&&!ce.checkClone&&ot.test(f))return e.each(function(s){var r=e.eq(s);_&&(t[0]=f.call(this,s,r.html())),T(r,t,i,n)});if(c&&(s=(h=m(t,e[0].ownerDocument,!1,e,n)).firstChild,1===h.childNodes.length&&(h=s),s||n)){for(o=(a=fe.map(p(h,"script"),k)).length;d<c;d++)r=h,d!==u&&(r=fe.clone(r,!0,!0),o&&fe.merge(a,p(r,"script"))),i.call(e[d],r,d);if(o)for(l=a[a.length-1].ownerDocument,fe.map(a,E),d=0;d<o;d++)r=a[d],Ue.test(r.type||"")&&!fe._data(r,"globalEval")&&fe.contains(l,r)&&(r.src?fe._evalUrl&&fe._evalUrl(r.src):fe.globalEval((r.text||r.textContent||r.innerHTML||"").replace(lt,"")));h=s=null}return e}function S(e,t,i){for(var n,s=t?fe.filter(t,e):e,r=0;null!=(n=s[r]);r++)i||1!==n.nodeType||fe.cleanData(p(n)),n.parentNode&&(i&&fe.contains(n.ownerDocument,n)&&_(p(n,"script")),n.parentNode.removeChild(n));return e}function A(e,t){var i=fe(t.createElement(e)).appendTo(t.body),n=fe.css(i[0],"display");return i.detach(),n}function O(e){var t=ne,i=ct[e];return i||("none"!==(i=A(e,t))&&i||((t=((dt=(dt||fe("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement))[0].contentWindow||dt[0].contentDocument).document).write(),t.close(),i=A(e,t),dt.detach()),ct[e]=i),i}function N(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}function I(e){if(e in Dt)return e;for(var t=e.charAt(0).toUpperCase()+e.slice(1),i=Ct.length;i--;)if((e=Ct[i]+t)in Dt)return e}function M(e,t){for(var i,n,s,r=[],o=0,a=e.length;o<a;o++)(n=e[o]).style&&(r[o]=fe._data(n,"olddisplay"),i=n.style.display,t?(r[o]||"none"!==i||(n.style.display=""),""===n.style.display&&We(n)&&(r[o]=fe._data(n,"olddisplay",O(n.nodeName)))):(s=We(n),(i&&"none"!==i||!s)&&fe._data(n,"olddisplay",s?i:fe.css(n,"display"))));for(o=0;o<a;o++)(n=e[o]).style&&(t&&"none"!==n.style.display&&""!==n.style.display||(n.style.display=t?r[o]||"":"none"));return e}function L(e,t,i){var n=wt.exec(t);return n?Math.max(0,n[1]-(i||0))+(n[2]||"px"):t}function P(e,t,i,n,s){for(var r=i===(n?"border":"content")?4:"width"===t?1:0,o=0;r<4;r+=2)"margin"===i&&(o+=fe.css(e,i+Fe[r],!0,s)),n?("content"===i&&(o-=fe.css(e,"padding"+Fe[r],!0,s)),"margin"!==i&&(o-=fe.css(e,"border"+Fe[r]+"Width",!0,s))):(o+=fe.css(e,"padding"+Fe[r],!0,s),"padding"!==i&&(o+=fe.css(e,"border"+Fe[r]+"Width",!0,s)));return o}function H(e,t,i){var n=!0,s="width"===t?e.offsetWidth:e.offsetHeight,r=gt(e),o=ce.boxSizing&&"border-box"===fe.css(e,"boxSizing",!1,r);if(s<=0||null==s){if(((s=mt(e,t,r))<0||null==s)&&(s=e.style[t]),ft.test(s))return s;n=o&&(ce.boxSizingReliable()||s===e.style[t]),s=parseFloat(s)||0}return s+P(e,t,i||(o?"border":"content"),n,r)+"px"}function j(e,t,i,n,s){return new j.prototype.init(e,t,i,n,s)}function R(){return e.setTimeout(function(){Tt=undefined}),Tt=fe.now()}function z(e,t){var i,n={height:e},s=0;for(t=t?1:0;s<4;s+=2-t)n["margin"+(i=Fe[s])]=n["padding"+i]=e;return t&&(n.opacity=n.width=e),n}function F(e,t,i){for(var n,s=(q.tweeners[t]||[]).concat(q.tweeners["*"]),r=0,o=s.length;r<o;r++)if(n=s[r].call(i,t,e))return n}function W(e,t,i){var n,s,r,o,a,l,h,d=this,c={},u=e.style,f=e.nodeType&&We(e),p=fe._data(e,"fxshow");i.queue||(null==(a=fe._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,l=a.empty.fire,a.empty.fire=function(){a.unqueued||l()}),a.unqueued++,d.always(function(){d.always(function(){a.unqueued--,fe.queue(e,"fx").length||a.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(i.overflow=[u.overflow,u.overflowX,u.overflowY],"inline"===("none"===(h=fe.css(e,"display"))?fe._data(e,"olddisplay")||O(e.nodeName):h)&&"none"===fe.css(e,"float")&&(ce.inlineBlockNeedsLayout&&"inline"!==O(e.nodeName)?u.zoom=1:u.display="inline-block")),i.overflow&&(u.overflow="hidden",ce.shrinkWrapBlocks()||d.always(function(){u.overflow=i.overflow[0],u.overflowX=i.overflow[1],u.overflowY=i.overflow[2]}));for(n in t)if(s=t[n],Lt.exec(s)){if(delete t[n],r=r||"toggle"===s,s===(f?"hide":"show")){if("show"!==s||!p||p[n]===undefined)continue;f=!0}c[n]=p&&p[n]||fe.style(e,n)}else h=undefined;if(fe.isEmptyObject(c))"inline"===("none"===h?O(e.nodeName):h)&&(u.display=h);else{p?"hidden"in p&&(f=p.hidden):p=fe._data(e,"fxshow",{}),r&&(p.hidden=!f),f?fe(e).show():d.done(function(){fe(e).hide()}),d.done(function(){var t;fe._removeData(e,"fxshow");for(t in c)fe.style(e,t,c[t])});for(n in c)o=F(f?p[n]:0,n,d),n in p||(p[n]=o.start,f&&(o.end=o.start,o.start="width"===n||"height"===n?1:0))}}function B(e,t){var i,n,s,r,o;for(i in e)if(s=t[n=fe.camelCase(i)],r=e[i],fe.isArray(r)&&(s=r[1],r=e[i]=r[0]),i!==n&&(e[n]=r,delete e[i]),(o=fe.cssHooks[n])&&"expand"in o){r=o.expand(r),delete e[n];for(i in r)i in e||(e[i]=r[i],t[i]=s)}else t[n]=s}function q(e,t,i){var n,s,r=0,o=q.prefilters.length,a=fe.Deferred().always(function(){delete l.elem}),l=function(){if(s)return!1;for(var t=Tt||R(),i=Math.max(0,h.startTime+h.duration-t),n=1-(i/h.duration||0),r=0,o=h.tweens.length;r<o;r++)h.tweens[r].run(n);return a.notifyWith(e,[h,n,i]),n<1&&o?i:(a.resolveWith(e,[h]),!1)},h=a.promise({elem:e,props:fe.extend({},t),opts:fe.extend(!0,{specialEasing:{},easing:fe.easing._default},i),originalProperties:t,originalOptions:i,startTime:Tt||R(),duration:i.duration,tweens:[],createTween:function(t,i){var n=fe.Tween(e,h.opts,t,i,h.opts.specialEasing[t]||h.opts.easing);return h.tweens.push(n),n},stop:function(t){var i=0,n=t?h.tweens.length:0;if(s)return this;for(s=!0;i<n;i++)h.tweens[i].run(1);return t?(a.notifyWith(e,[h,1,0]),a.resolveWith(e,[h,t])):a.rejectWith(e,[h,t]),this}}),d=h.props;for(B(d,h.opts.specialEasing);r<o;r++)if(n=q.prefilters[r].call(h,e,d,h.opts))return fe.isFunction(n.stop)&&(fe._queueHooks(h.elem,h.opts.queue).stop=fe.proxy(n.stop,n)),n;return fe.map(d,F,h),fe.isFunction(h.opts.start)&&h.opts.start.call(e,h),fe.fx.timer(fe.extend(l,{elem:e,anim:h,queue:h.opts.queue})),h.progress(h.opts.progress).done(h.opts.done,h.opts.complete).fail(h.opts.fail).always(h.opts.always)}function V(e){return fe.attr(e,"class")||""}function U(e){return function(t,i){"string"!=typeof t&&(i=t,t="*");var n,s=0,r=t.toLowerCase().match(Oe)||[];if(fe.isFunction(i))for(;n=r[s++];)"+"===n.charAt(0)?(n=n.slice(1)||"*",(e[n]=e[n]||[]).unshift(i)):(e[n]=e[n]||[]).push(i)}}function Y(e,t,i,n){function s(a){var l;return r[a]=!0,fe.each(e[a]||[],function(e,a){var h=a(t,i,n);return"string"!=typeof h||o||r[h]?o?!(l=h):void 0:(t.dataTypes.unshift(h),s(h),!1)}),l}var r={},o=e===ri;return s(t.dataTypes[0])||!r["*"]&&s("*")}function X(e,t){var i,n,s=fe.ajaxSettings.flatOptions||{};for(n in t)t[n]!==undefined&&((s[n]?e:i||(i={}))[n]=t[n]);return i&&fe.extend(!0,e,i),e}function K(e,t,i){for(var n,s,r,o,a=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),s===undefined&&(s=e.mimeType||t.getResponseHeader("Content-Type"));if(s)for(o in a)if(a[o]&&a[o].test(s)){l.unshift(o);break}if(l[0]in i)r=l[0];else{for(o in i){if(!l[0]||e.converters[o+" "+l[0]]){r=o;break}n||(n=o)}r=r||n}if(r)return r!==l[0]&&l.unshift(r),i[r]}function G(e,t,i,n){var s,r,o,a,l,h={},d=e.dataTypes.slice();if(d[1])for(o in e.converters)h[o.toLowerCase()]=e.converters[o];for(r=d.shift();r;)if(e.responseFields[r]&&(i[e.responseFields[r]]=t),!l&&n&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=r,r=d.shift())if("*"===r)r=l;else if("*"!==l&&l!==r){if(!(o=h[l+" "+r]||h["* "+r]))for(s in h)if((a=s.split(" "))[1]===r&&(o=h[l+" "+a[0]]||h["* "+a[0]])){!0===o?o=h[s]:!0!==h[s]&&(r=a[0],d.unshift(a[1]));break}if(!0!==o)if(o&&e["throws"])t=o(t);else try{t=o(t)}catch(c){return{state:"parsererror",error:o?c:"No conversion from "+l+" to "+r}}}return{state:"success",data:t}}function $(e){return e.style&&e.style.display||fe.css(e,"display")}function Q(e){if(!fe.contains(e.ownerDocument||ne,e))return!0;for(;e&&1===e.nodeType;){if("none"===$(e)||"hidden"===e.type)return!0;e=e.parentNode}return!1}function J(e,t,i,n){var s;if(fe.isArray(t))fe.each(t,function(t,s){i||di.test(e)?n(e,s):J(e+"["+("object"==typeof s&&null!=s?t:"")+"]",s,i,n)});else if(i||"object"!==fe.type(t))n(e,t);else for(s in t)J(e+"["+s+"]",t[s],i,n)}function Z(){try{return new e.XMLHttpRequest}catch(t){}}function ee(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function te(e){return fe.isWindow(e)?e:9===e.nodeType&&(e.defaultView||e.parentWindow)}var ie=[],ne=e.document,se=ie.slice,re=ie.concat,oe=ie.push,ae=ie.indexOf,le={},he=le.toString,de=le.hasOwnProperty,ce={},ue="1.12.4",fe=function(e,t){return new fe.fn.init(e,t)},pe=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,_e=/^-ms-/,ge=/-([\da-z])/gi,me=function(e,t){return t.toUpperCase()};fe.fn=fe.prototype={jquery:ue,constructor:fe,selector:"",length:0,toArray:function(){return se.call(this)},get:function(e){return null!=e?e<0?this[e+this.length]:this[e]:se.call(this)},pushStack:function(e){var t=fe.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e){return fe.each(this,e)},map:function(e){return this.pushStack(fe.map(this,function(t,i){return e.call(t,i,t)}))},slice:function(){return this.pushStack(se.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,i=+e+(e<0?t:0);return this.pushStack(i>=0&&i<t?[this[i]]:[])},end:function(){return this.prevObject||this.constructor()},push:oe,sort:ie.sort,splice:ie.splice},fe.extend=fe.fn.extend=function(){var e,t,i,n,s,r,o=arguments[0]||{},a=1,l=arguments.length,h=!1;for("boolean"==typeof o&&(h=o,o=arguments[a]||{},a++),"object"==typeof o||fe.isFunction(o)||(o={}),a===l&&(o=this,a--);a<l;a++)if(null!=(s=arguments[a]))for(n in s)e=o[n],o!==(i=s[n])&&(h&&i&&(fe.isPlainObject(i)||(t=fe.isArray(i)))?(t?(t=!1,r=e&&fe.isArray(e)?e:[]):r=e&&fe.isPlainObject(e)?e:{},o[n]=fe.extend(h,r,i)):i!==undefined&&(o[n]=i));return o},fe.extend({expando:"jQuery"+(ue+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===fe.type(e)},isArray:Array.isArray||function(e){return"array"===fe.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){var t=e&&e.toString();return!fe.isArray(e)&&t-parseFloat(t)+1>=0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},isPlainObject:function(e){var t;if(!e||"object"!==fe.type(e)||e.nodeType||fe.isWindow(e))return!1;try{if(e.constructor&&!de.call(e,"constructor")&&!de.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(i){return!1}if(!ce.ownFirst)for(t in e)return de.call(e,t);for(t in e);return t===undefined||de.call(e,t)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?le[he.call(e)]||"object":typeof e},globalEval:function(t){t&&fe.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(_e,"ms-").replace(ge,me)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t){var n,s=0;if(i(e))for(n=e.length;s<n&&!1!==t.call(e[s],s,e[s]);s++);else for(s in e)if(!1===t.call(e[s],s,e[s]))break;return e},trim:function(e){return null==e?"":(e+"").replace(pe,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(i(Object(e))?fe.merge(n,"string"==typeof e?[e]:e):oe.call(n,e)),n},inArray:function(e,t,i){var n;if(t){if(ae)return ae.call(t,e,i);for(n=t.length,i=i?i<0?Math.max(0,n+i):i:0;i<n;i++)if(i in t&&t[i]===e)return i}return-1},merge:function(e,t){for(var i=+t.length,n=0,s=e.length;n<i;)e[s++]=t[n++];if(i!=i)for(;t[n]!==undefined;)e[s++]=t[n++];return e.length=s,e},grep:function(e,t,i){for(var n=[],s=0,r=e.length,o=!i;s<r;s++)!t(e[s],s)!==o&&n.push(e[s]);return n},map:function(e,t,n){var s,r,o=0,a=[];if(i(e))for(s=e.length;o<s;o++)null!=(r=t(e[o],o,n))&&a.push(r);else for(o in e)null!=(r=t(e[o],o,n))&&a.push(r);return re.apply([],a)},guid:1,proxy:function(e,t){var i,n,s;return"string"==typeof t&&(s=e[t],t=e,e=s),fe.isFunction(e)?(i=se.call(arguments,2),(n=function(){return e.apply(t||this,i.concat(se.call(arguments)))}).guid=e.guid=e.guid||fe.guid++,n):undefined},now:function(){return+new Date},support:ce}),"function"==typeof Symbol&&(fe.fn[Symbol.iterator]=ie[Symbol.iterator]),fe.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){le["[object "+t+"]"]=t.toLowerCase()});var ve=function(e){function t(e,t,i,n){var s,r,o,a,l,h,c,f,p=t&&t.ownerDocument,_=t?t.nodeType:9;if(i=i||[],"string"!=typeof e||!e||1!==_&&9!==_&&11!==_)return i;if(!n&&((t?t.ownerDocument||t:F)!==I&&N(t),t=t||I,L)){if(11!==_&&(h=me.exec(e)))if(s=h[1]){if(9===_){if(!(o=t.getElementById(s)))return i;if(o.id===s)return i.push(o),i}else if(p&&(o=p.getElementById(s))&&R(t,o)&&o.id===s)return i.push(o),i}else{if(h[2])return J.apply(i,t.getElementsByTagName(e)),i;if((s=h[3])&&x.getElementsByClassName&&t.getElementsByClassName)return J.apply(i,t.getElementsByClassName(s)),i}if(x.qsa&&!U[e+" "]&&(!P||!P.test(e))){if(1!==_)p=t,f=e;else if("object"!==t.nodeName.toLowerCase()){for((a=t.getAttribute("id"))?a=a.replace(ye,"\\$&"):t.setAttribute("id",a=z),r=(c=C(e)).length,l=ue.test(a)?"#"+a:"[id='"+a+"']";r--;)c[r]=l+" "+u(c[r]);f=c.join(","),p=ve.test(e)&&d(t.parentNode)||t}if(f)try{return J.apply(i,p.querySelectorAll(f)),i}catch(g){}finally{a===z&&t.removeAttribute("id")}}}return T(e.replace(ae,"$1"),t,i,n)}function i(){function e(i,n){return t.push(i+" ")>w.cacheLength&&delete e[t.shift()],e[i+" "]=n}var t=[];return e}function n(e){return e[z]=!0,e}function s(e){var t=I.createElement("div");try{return!!e(t)}catch(i){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function r(e,t){for(var i=e.split("|"),n=i.length;n--;)w.attrHandle[i[n]]=t}function o(e,t){var i=t&&e,n=i&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||X)-(~e.sourceIndex||X);if(n)return n;if(i)for(;i=i.nextSibling;)if(i===t)return-1;return e?1:-1}function a(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function l(e){return function(t){var i=t.nodeName.toLowerCase();return("input"===i||"button"===i)&&t.type===e}}function h(e){return n(function(t){return t=+t,n(function(i,n){for(var s,r=e([],i.length,t),o=r.length;o--;)i[s=r[o]]&&(i[s]=!(n[s]=i[s]))})})}function d(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function c(){}function u(e){for(var t=0,i=e.length,n="";t<i;t++)n+=e[t].value;return n}function f(e,t,i){var n=t.dir,s=i&&"parentNode"===n,r=B++;return t.first?function(t,i,r){for(;t=t[n];)if(1===t.nodeType||s)return e(t,i,r)}:function(t,i,o){var a,l,h,d=[W,r];if(o){for(;t=t[n];)if((1===t.nodeType||s)&&e(t,i,o))return!0}else for(;t=t[n];)if(1===t.nodeType||s){if((a=(l=(h=t[z]||(t[z]={}))[t.uniqueID]||(h[t.uniqueID]={}))[n])&&a[0]===W&&a[1]===r)return d[2]=a[2];if(l[n]=d,d[2]=e(t,i,o))return!0}}}function p(e){return e.length>1?function(t,i,n){for(var s=e.length;s--;)if(!e[s](t,i,n))return!1;return!0}:e[0]}function _(e,i,n){for(var s=0,r=i.length;s<r;s++)t(e,i[s],n);return n}function g(e,t,i,n,s){for(var r,o=[],a=0,l=e.length,h=null!=t;a<l;a++)(r=e[a])&&(i&&!i(r,n,s)||(o.push(r),h&&t.push(a)));return o}function m(e,t,i,s,r,o){return s&&!s[z]&&(s=m(s)),r&&!r[z]&&(r=m(r,o)),n(function(n,o,a,l){var h,d,c,u=[],f=[],p=o.length,m=n||_(t||"*",a.nodeType?[a]:a,[]),v=!e||!n&&t?m:g(m,u,e,a,l),y=i?r||(n?e:p||s)?[]:o:v;if(i&&i(v,y,a,l),s)for(h=g(y,f),s(h,[],a,l),d=h.length;d--;)(c=h[d])&&(y[f[d]]=!(v[f[d]]=c));if(n){if(r||e){if(r){for(h=[],d=y.length;d--;)(c=y[d])&&h.push(v[d]=c);r(null,y=[],h,l)}for(d=y.length;d--;)(c=y[d])&&(h=r?ee(n,c):u[d])>-1&&(n[h]=!(o[h]=c))}}else y=g(y===o?y.splice(p,y.length):y),r?r(null,o,y,l):J.apply(o,y)})}function v(e){for(var t,i,n,s=e.length,r=w.relative[e[0].type],o=r||w.relative[" "],a=r?1:0,l=f(function(e){return e===t},o,!0),h=f(function(e){return ee(t,e)>-1},o,!0),d=[function(e,i,n){var s=!r&&(n||i!==S)||((t=i).nodeType?l(e,i,n):h(e,i,n));return t=null,s}];a<s;a++)if(i=w.relative[e[a].type])d=[f(p(d),i)];else{if((i=w.filter[e[a].type].apply(null,e[a].matches))[z]){for(n=++a;n<s&&!w.relative[e[n].type];n++);return m(a>1&&p(d),a>1&&u(e.slice(0,a-1).concat({value:" "===e[a-2].type?"*":""})).replace(ae,"$1"),i,a<n&&v(e.slice(a,n)),n<s&&v(e=e.slice(n)),n<s&&u(e))}d.push(i)}return p(d)}function y(e,i){var s=i.length>0,r=e.length>0,o=function(n,o,a,l,h){var d,c,u,f=0,p="0",_=n&&[],m=[],v=S,y=n||r&&w.find.TAG("*",h),b=W+=null==v?1:Math.random()||.1,x=y.length;for(h&&(S=o===I||o||h);p!==x&&null!=(d=y[p]);p++){if(r&&d){for(c=0,o||d.ownerDocument===I||(N(d),a=!L);u=e[c++];)if(u(d,o||I,a)){l.push(d);break}h&&(W=b)}s&&((d=!u&&d)&&f--,n&&_.push(d))}if(f+=p,s&&p!==f){for(c=0;u=i[c++];)u(_,m,o,a);if(n){if(f>0)for(;p--;)_[p]||m[p]||(m[p]=$.call(l));m=g(m)}J.apply(l,m),h&&!n&&m.length>0&&f+i.length>1&&t.uniqueSort(l)}return h&&(W=b,S=v),_};return s?n(o):o}var b,x,w,k,E,C,D,T,S,A,O,N,I,M,L,P,H,j,R,z="sizzle"+1*new Date,F=e.document,W=0,B=0,q=i(),V=i(),U=i(),Y=function(e,t){return e===t&&(O=!0),0},X=1<<31,K={}.hasOwnProperty,G=[],$=G.pop,Q=G.push,J=G.push,Z=G.slice,ee=function(e,t){for(var i=0,n=e.length;i<n;i++)if(e[i]===t)return i;return-1},te="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ie="[\\x20\\t\\r\\n\\f]",ne="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",se="\\["+ie+"*("+ne+")(?:"+ie+"*([*^$|!~]?=)"+ie+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ne+"))|)"+ie+"*\\]",re=":("+ne+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+se+")*)|.*)\\)|)",oe=new RegExp(ie+"+","g"),ae=new RegExp("^"+ie+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ie+"+$","g"),le=new RegExp("^"+ie+"*,"+ie+"*"),he=new RegExp("^"+ie+"*([>+~]|"+ie+")"+ie+"*"),de=new RegExp("="+ie+"*([^\\]'\"]*?)"+ie+"*\\]","g"),ce=new RegExp(re),ue=new RegExp("^"+ne+"$"),fe={ID:new RegExp("^#("+ne+")"),CLASS:new RegExp("^\\.("+ne+")"),TAG:new RegExp("^("+ne+"|[*])"),ATTR:new RegExp("^"+se),PSEUDO:new RegExp("^"+re),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ie+"*(even|odd|(([+-]|)(\\d*)n|)"+ie+"*(?:([+-]|)"+ie+"*(\\d+)|))"+ie+"*\\)|)","i"),bool:new RegExp("^(?:"+te+")$","i"),needsContext:new RegExp("^"+ie+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ie+"*((?:-\\d)?\\d*)"+ie+"*\\)|)(?=[^-]|$)","i")},pe=/^(?:input|select|textarea|button)$/i,_e=/^h\d$/i,ge=/^[^{]+\{\s*\[native \w/,me=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ve=/[+~]/,ye=/'|\\/g,be=new RegExp("\\\\([\\da-f]{1,6}"+ie+"?|("+ie+")|.)","ig"),xe=function(e,t,i){var n="0x"+t-65536;return n!=n||i?t:n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)},we=function(){N()};try{J.apply(G=Z.call(F.childNodes),F.childNodes),G[F.childNodes.length].nodeType}catch(ke){J={apply:G.length?function(e,t){Q.apply(e,Z.call(t))}:function(e,t){for(var i=e.length,n=0;e[i++]=t[n++];);e.length=i-1}}}x=t.support={},E=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},N=t.setDocument=function(e){var t,i,n=e?e.ownerDocument||e:F;return n!==I&&9===n.nodeType&&n.documentElement?(M=(I=n).documentElement,L=!E(I),(i=I.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",we,!1):i.attachEvent&&i.attachEvent("onunload",we)),x.attributes=s(function(e){return e.className="i",!e.getAttribute("className")}),x.getElementsByTagName=s(function(e){return e.appendChild(I.createComment("")),!e.getElementsByTagName("*").length}),x.getElementsByClassName=ge.test(I.getElementsByClassName),x.getById=s(function(e){return M.appendChild(e).id=z,!I.getElementsByName||!I.getElementsByName(z).length}),x.getById?(w.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&L){var i=t.getElementById(e);return i?[i]:[]}},w.filter.ID=function(e){var t=e.replace(be,xe);return function(e){return e.getAttribute("id")===t}}):(delete w.find.ID,w.filter.ID=function(e){var t=e.replace(be,xe);return function(e){var i="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return i&&i.value===t}}),w.find.TAG=x.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):x.qsa?t.querySelectorAll(e):void 0}:function(e,t){var i,n=[],s=0,r=t.getElementsByTagName(e);if("*"===e){for(;i=r[s++];)1===i.nodeType&&n.push(i);return n}return r},w.find.CLASS=x.getElementsByClassName&&function(e,t){if("undefined"!=typeof t.getElementsByClassName&&L)return t.getElementsByClassName(e)},H=[],P=[],(x.qsa=ge.test(I.querySelectorAll))&&(s(function(e){M.appendChild(e).innerHTML="<a id='"+z+"'></a><select id='"+z+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&P.push("[*^$]="+ie+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||P.push("\\["+ie+"*(?:value|"+te+")"),e.querySelectorAll("[id~="+z+"-]").length||P.push("~="),e.querySelectorAll(":checked").length||P.push(":checked"),e.querySelectorAll("a#"+z+"+*").length||P.push(".#.+[+~]")}),s(function(e){var t=I.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&P.push("name"+ie+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||P.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),P.push(",.*:")})),(x.matchesSelector=ge.test(j=M.matches||M.webkitMatchesSelector||M.mozMatchesSelector||M.oMatchesSelector||M.msMatchesSelector))&&s(function(e){x.disconnectedMatch=j.call(e,"div"),j.call(e,"[s!='']:x"),H.push("!=",re)}),P=P.length&&new RegExp(P.join("|")),H=H.length&&new RegExp(H.join("|")),t=ge.test(M.compareDocumentPosition),R=t||ge.test(M.contains)?function(e,t){var i=9===e.nodeType?e.documentElement:e,n=t&&t.parentNode;return e===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):e.compareDocumentPosition&&16&e.compareDocumentPosition(n)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},Y=t?function(e,t){if(e===t)return O=!0,0;var i=!e.compareDocumentPosition-!t.compareDocumentPosition;return i||(1&(i=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!x.sortDetached&&t.compareDocumentPosition(e)===i?e===I||e.ownerDocument===F&&R(F,e)?-1:t===I||t.ownerDocument===F&&R(F,t)?1:A?ee(A,e)-ee(A,t):0:4&i?-1:1)}:function(e,t){if(e===t)return O=!0,0;var i,n=0,s=e.parentNode,r=t.parentNode,a=[e],l=[t];if(!s||!r)return e===I?-1:t===I?1:s?-1:r?1:A?ee(A,e)-ee(A,t):0;if(s===r)return o(e,t);for(i=e;i=i.parentNode;)a.unshift(i);for(i=t;i=i.parentNode;)l.unshift(i);for(;a[n]===l[n];)n++;return n?o(a[n],l[n]):a[n]===F?-1:l[n]===F?1:0},I):I},t.matches=function(e,i){return t(e,null,null,i)},t.matchesSelector=function(e,i){if((e.ownerDocument||e)!==I&&N(e),i=i.replace(de,"='$1']"),x.matchesSelector&&L&&!U[i+" "]&&(!H||!H.test(i))&&(!P||!P.test(i)))try{var n=j.call(e,i);if(n||x.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(ke){}return t(i,I,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==I&&N(e),R(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==I&&N(e);var i=w.attrHandle[t.toLowerCase()],n=i&&K.call(w.attrHandle,t.toLowerCase())?i(e,t,!L):undefined;return n!==undefined?n:x.attributes||!L?e.getAttribute(t):(n=e.getAttributeNode(t))&&n.specified?n.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,i=[],n=0,s=0;if(O=!x.detectDuplicates,A=!x.sortStable&&e.slice(0),e.sort(Y),O){for(;t=e[s++];)t===e[s]&&(n=i.push(s));for(;n--;)e.splice(i[n],1)}return A=null,e},k=t.getText=function(e){var t,i="",n=0,s=e.nodeType;if(s){if(1===s||9===s||11===s){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)i+=k(e)}else if(3===s||4===s)return e.nodeValue}else for(;t=e[n++];)i+=k(t);return i},(w=t.selectors={cacheLength:50,createPseudo:n,match:fe,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(be,xe),e[3]=(e[3]||e[4]||e[5]||"").replace(be,xe),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},
PSEUDO:function(e){var t,i=!e[6]&&e[2];return fe.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":i&&ce.test(i)&&(t=C(i,!0))&&(t=i.indexOf(")",i.length-t)-i.length)&&(e[0]=e[0].slice(0,t),e[2]=i.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(be,xe).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=q[e+" "];return t||(t=new RegExp("(^|"+ie+")"+e+"("+ie+"|$)"))&&q(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,i,n){return function(s){var r=t.attr(s,e);return null==r?"!="===i:!i||(r+="","="===i?r===n:"!="===i?r!==n:"^="===i?n&&0===r.indexOf(n):"*="===i?n&&r.indexOf(n)>-1:"$="===i?n&&r.slice(-n.length)===n:"~="===i?(" "+r.replace(oe," ")+" ").indexOf(n)>-1:"|="===i&&(r===n||r.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,i,n,s){var r="nth"!==e.slice(0,3),o="last"!==e.slice(-4),a="of-type"===t;return 1===n&&0===s?function(e){return!!e.parentNode}:function(t,i,l){var h,d,c,u,f,p,_=r!==o?"nextSibling":"previousSibling",g=t.parentNode,m=a&&t.nodeName.toLowerCase(),v=!l&&!a,y=!1;if(g){if(r){for(;_;){for(u=t;u=u[_];)if(a?u.nodeName.toLowerCase()===m:1===u.nodeType)return!1;p=_="only"===e&&!p&&"nextSibling"}return!0}if(p=[o?g.firstChild:g.lastChild],o&&v){for(y=(f=(h=(d=(c=(u=g)[z]||(u[z]={}))[u.uniqueID]||(c[u.uniqueID]={}))[e]||[])[0]===W&&h[1])&&h[2],u=f&&g.childNodes[f];u=++f&&u&&u[_]||(y=f=0)||p.pop();)if(1===u.nodeType&&++y&&u===t){d[e]=[W,f,y];break}}else if(v&&(y=f=(h=(d=(c=(u=t)[z]||(u[z]={}))[u.uniqueID]||(c[u.uniqueID]={}))[e]||[])[0]===W&&h[1]),!1===y)for(;(u=++f&&u&&u[_]||(y=f=0)||p.pop())&&((a?u.nodeName.toLowerCase()!==m:1!==u.nodeType)||!++y||(v&&((d=(c=u[z]||(u[z]={}))[u.uniqueID]||(c[u.uniqueID]={}))[e]=[W,y]),u!==t)););return(y-=s)===n||y%n==0&&y/n>=0}}},PSEUDO:function(e,i){var s,r=w.pseudos[e]||w.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return r[z]?r(i):r.length>1?(s=[e,e,"",i],w.setFilters.hasOwnProperty(e.toLowerCase())?n(function(e,t){for(var n,s=r(e,i),o=s.length;o--;)e[n=ee(e,s[o])]=!(t[n]=s[o])}):function(e){return r(e,0,s)}):r}},pseudos:{not:n(function(e){var t=[],i=[],s=D(e.replace(ae,"$1"));return s[z]?n(function(e,t,i,n){for(var r,o=s(e,null,n,[]),a=e.length;a--;)(r=o[a])&&(e[a]=!(t[a]=r))}):function(e,n,r){return t[0]=e,s(t,null,r,i),t[0]=null,!i.pop()}}),has:n(function(e){return function(i){return t(e,i).length>0}}),contains:n(function(e){return e=e.replace(be,xe),function(t){return(t.textContent||t.innerText||k(t)).indexOf(e)>-1}}),lang:n(function(e){return ue.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(be,xe).toLowerCase(),function(t){var i;do{if(i=L?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(i=i.toLowerCase())===e||0===i.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var i=e.location&&e.location.hash;return i&&i.slice(1)===t.id},root:function(e){return e===M},focus:function(e){return e===I.activeElement&&(!I.hasFocus||I.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!w.pseudos.empty(e)},header:function(e){return _e.test(e.nodeName)},input:function(e){return pe.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:h(function(){return[0]}),last:h(function(e,t){return[t-1]}),eq:h(function(e,t,i){return[i<0?i+t:i]}),even:h(function(e,t){for(var i=0;i<t;i+=2)e.push(i);return e}),odd:h(function(e,t){for(var i=1;i<t;i+=2)e.push(i);return e}),lt:h(function(e,t,i){for(var n=i<0?i+t:i;--n>=0;)e.push(n);return e}),gt:h(function(e,t,i){for(var n=i<0?i+t:i;++n<t;)e.push(n);return e})}}).pseudos.nth=w.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[b]=a(b);for(b in{submit:!0,reset:!0})w.pseudos[b]=l(b);return c.prototype=w.filters=w.pseudos,w.setFilters=new c,C=t.tokenize=function(e,i){var n,s,r,o,a,l,h,d=V[e+" "];if(d)return i?0:d.slice(0);for(a=e,l=[],h=w.preFilter;a;){n&&!(s=le.exec(a))||(s&&(a=a.slice(s[0].length)||a),l.push(r=[])),n=!1,(s=he.exec(a))&&(n=s.shift(),r.push({value:n,type:s[0].replace(ae," ")}),a=a.slice(n.length));for(o in w.filter)!(s=fe[o].exec(a))||h[o]&&!(s=h[o](s))||(n=s.shift(),r.push({value:n,type:o,matches:s}),a=a.slice(n.length));if(!n)break}return i?a.length:a?t.error(e):V(e,l).slice(0)},D=t.compile=function(e,t){var i,n=[],s=[],r=U[e+" "];if(!r){for(t||(t=C(e)),i=t.length;i--;)(r=v(t[i]))[z]?n.push(r):s.push(r);(r=U(e,y(s,n))).selector=e}return r},T=t.select=function(e,t,i,n){var s,r,o,a,l,h="function"==typeof e&&e,c=!n&&C(e=h.selector||e);if(i=i||[],1===c.length){if((r=c[0]=c[0].slice(0)).length>2&&"ID"===(o=r[0]).type&&x.getById&&9===t.nodeType&&L&&w.relative[r[1].type]){if(!(t=(w.find.ID(o.matches[0].replace(be,xe),t)||[])[0]))return i;h&&(t=t.parentNode),e=e.slice(r.shift().value.length)}for(s=fe.needsContext.test(e)?0:r.length;s--&&(o=r[s],!w.relative[a=o.type]);)if((l=w.find[a])&&(n=l(o.matches[0].replace(be,xe),ve.test(r[0].type)&&d(t.parentNode)||t))){if(r.splice(s,1),!(e=n.length&&u(r)))return J.apply(i,n),i;break}}return(h||D(e,c))(n,t,!L,i,!t||ve.test(e)&&d(t.parentNode)||t),i},x.sortStable=z.split("").sort(Y).join("")===z,x.detectDuplicates=!!O,N(),x.sortDetached=s(function(e){return 1&e.compareDocumentPosition(I.createElement("div"))}),s(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||r("type|href|height|width",function(e,t,i){if(!i)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),x.attributes&&s(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||r("value",function(e,t,i){if(!i&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),s(function(e){return null==e.getAttribute("disabled")})||r(te,function(e,t,i){var n;if(!i)return!0===e[t]?t.toLowerCase():(n=e.getAttributeNode(t))&&n.specified?n.value:null}),t}(e);fe.find=ve,fe.expr=ve.selectors,fe.expr[":"]=fe.expr.pseudos,fe.uniqueSort=fe.unique=ve.uniqueSort,fe.text=ve.getText,fe.isXMLDoc=ve.isXML,fe.contains=ve.contains;var ye=function(e,t,i){for(var n=[],s=i!==undefined;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(s&&fe(e).is(i))break;n.push(e)}return n},be=function(e,t){for(var i=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&i.push(e);return i},xe=fe.expr.match.needsContext,we=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,ke=/^.[^:#\[\.,]*$/;fe.filter=function(e,t,i){var n=t[0];return i&&(e=":not("+e+")"),1===t.length&&1===n.nodeType?fe.find.matchesSelector(n,e)?[n]:[]:fe.find.matches(e,fe.grep(t,function(e){return 1===e.nodeType}))},fe.fn.extend({find:function(e){var t,i=[],n=this,s=n.length;if("string"!=typeof e)return this.pushStack(fe(e).filter(function(){for(t=0;t<s;t++)if(fe.contains(n[t],this))return!0}));for(t=0;t<s;t++)fe.find(e,n[t],i);return(i=this.pushStack(s>1?fe.unique(i):i)).selector=this.selector?this.selector+" "+e:e,i},filter:function(e){return this.pushStack(n(this,e||[],!1))},not:function(e){return this.pushStack(n(this,e||[],!0))},is:function(e){return!!n(this,"string"==typeof e&&xe.test(e)?fe(e):e||[],!1).length}});var Ee,Ce=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(fe.fn.init=function(e,t,i){var n,s;if(!e)return this;if(i=i||Ee,"string"==typeof e){if(!(n="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:Ce.exec(e))||!n[1]&&t)return!t||t.jquery?(t||i).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof fe?t[0]:t,fe.merge(this,fe.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:ne,!0)),we.test(n[1])&&fe.isPlainObject(t))for(n in t)fe.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}if((s=ne.getElementById(n[2]))&&s.parentNode){if(s.id!==n[2])return Ee.find(e);this.length=1,this[0]=s}return this.context=ne,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):fe.isFunction(e)?"undefined"!=typeof i.ready?i.ready(e):e(fe):(e.selector!==undefined&&(this.selector=e.selector,this.context=e.context),fe.makeArray(e,this))}).prototype=fe.fn,Ee=fe(ne);var De=/^(?:parents|prev(?:Until|All))/,Te={children:!0,contents:!0,next:!0,prev:!0};fe.fn.extend({has:function(e){var t,i=fe(e,this),n=i.length;return this.filter(function(){for(t=0;t<n;t++)if(fe.contains(this,i[t]))return!0})},closest:function(e,t){for(var i,n=0,s=this.length,r=[],o=xe.test(e)||"string"!=typeof e?fe(e,t||this.context):0;n<s;n++)for(i=this[n];i&&i!==t;i=i.parentNode)if(i.nodeType<11&&(o?o.index(i)>-1:1===i.nodeType&&fe.find.matchesSelector(i,e))){r.push(i);break}return this.pushStack(r.length>1?fe.uniqueSort(r):r)},index:function(e){return e?"string"==typeof e?fe.inArray(this[0],fe(e)):fe.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(fe.uniqueSort(fe.merge(this.get(),fe(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),fe.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return ye(e,"parentNode")},parentsUntil:function(e,t,i){return ye(e,"parentNode",i)},next:function(e){return s(e,"nextSibling")},prev:function(e){return s(e,"previousSibling")},nextAll:function(e){return ye(e,"nextSibling")},prevAll:function(e){return ye(e,"previousSibling")},nextUntil:function(e,t,i){return ye(e,"nextSibling",i)},prevUntil:function(e,t,i){return ye(e,"previousSibling",i)},siblings:function(e){return be((e.parentNode||{}).firstChild,e)},children:function(e){return be(e.firstChild)},contents:function(e){return fe.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:fe.merge([],e.childNodes)}},function(e,t){fe.fn[e]=function(i,n){var s=fe.map(this,t,i);return"Until"!==e.slice(-5)&&(n=i),n&&"string"==typeof n&&(s=fe.filter(n,s)),this.length>1&&(Te[e]||(s=fe.uniqueSort(s)),De.test(e)&&(s=s.reverse())),this.pushStack(s)}});var Se,Ae,Oe=/\S+/g;fe.Callbacks=function(e){e="string"==typeof e?r(e):fe.extend({},e);var t,i,n,s,o=[],a=[],l=-1,h=function(){for(s=e.once,n=t=!0;a.length;l=-1)for(i=a.shift();++l<o.length;)!1===o[l].apply(i[0],i[1])&&e.stopOnFalse&&(l=o.length,i=!1);e.memory||(i=!1),t=!1,s&&(o=i?[]:"")},d={add:function(){return o&&(i&&!t&&(l=o.length-1,a.push(i)),function n(t){fe.each(t,function(t,i){fe.isFunction(i)?e.unique&&d.has(i)||o.push(i):i&&i.length&&"string"!==fe.type(i)&&n(i)})}(arguments),i&&!t&&h()),this},remove:function(){return fe.each(arguments,function(e,t){for(var i;(i=fe.inArray(t,o,i))>-1;)o.splice(i,1),i<=l&&l--}),this},has:function(e){return e?fe.inArray(e,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return s=a=[],o=i="",this},disabled:function(){return!o},lock:function(){return s=!0,i||d.disable(),this},locked:function(){return!!s},fireWith:function(e,i){return s||(i=[e,(i=i||[]).slice?i.slice():i],a.push(i),t||h()),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!n}};return d},fe.extend({Deferred:function(e){var t=[["resolve","done",fe.Callbacks("once memory"),"resolved"],["reject","fail",fe.Callbacks("once memory"),"rejected"],["notify","progress",fe.Callbacks("memory")]],i="pending",n={state:function(){return i},always:function(){return s.done(arguments).fail(arguments),this},then:function(){var e=arguments;return fe.Deferred(function(i){fe.each(t,function(t,r){var o=fe.isFunction(e[t])&&e[t];s[r[1]](function(){var e=o&&o.apply(this,arguments);e&&fe.isFunction(e.promise)?e.promise().progress(i.notify).done(i.resolve).fail(i.reject):i[r[0]+"With"](this===n?i.promise():this,o?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?fe.extend(e,n):n}},s={};return n.pipe=n.then,fe.each(t,function(e,r){var o=r[2],a=r[3];n[r[1]]=o.add,a&&o.add(function(){i=a},t[1^e][2].disable,t[2][2].lock),s[r[0]]=function(){return s[r[0]+"With"](this===s?n:this,arguments),this},s[r[0]+"With"]=o.fireWith}),n.promise(s),e&&e.call(s,s),s},when:function(e){var t,i,n,s=0,r=se.call(arguments),o=r.length,a=1!==o||e&&fe.isFunction(e.promise)?o:0,l=1===a?e:fe.Deferred(),h=function(e,i,n){return function(s){i[e]=this,n[e]=arguments.length>1?se.call(arguments):s,n===t?l.notifyWith(i,n):--a||l.resolveWith(i,n)}};if(o>1)for(t=new Array(o),i=new Array(o),n=new Array(o);s<o;s++)r[s]&&fe.isFunction(r[s].promise)?r[s].promise().progress(h(s,i,t)).done(h(s,n,r)).fail(l.reject):--a;return a||l.resolveWith(n,r),l.promise()}}),fe.fn.ready=function(e){return fe.ready.promise().done(e),this},fe.extend({isReady:!1,readyWait:1,holdReady:function(e){e?fe.readyWait++:fe.ready(!0)},ready:function(e){(!0===e?--fe.readyWait:fe.isReady)||(fe.isReady=!0,!0!==e&&--fe.readyWait>0||(Se.resolveWith(ne,[fe]),fe.fn.triggerHandler&&(fe(ne).triggerHandler("ready"),fe(ne).off("ready"))))}}),fe.ready.promise=function(t){if(!Se)if(Se=fe.Deferred(),"complete"===ne.readyState||"loading"!==ne.readyState&&!ne.documentElement.doScroll)e.setTimeout(fe.ready);else if(ne.addEventListener)ne.addEventListener("DOMContentLoaded",a),e.addEventListener("load",a);else{ne.attachEvent("onreadystatechange",a),e.attachEvent("onload",a);var i=!1;try{i=null==e.frameElement&&ne.documentElement}catch(n){}i&&i.doScroll&&function s(){if(!fe.isReady){try{i.doScroll("left")}catch(n){return e.setTimeout(s,50)}o(),fe.ready()}}()}return Se.promise(t)},fe.ready.promise();for(Ae in fe(ce))break;ce.ownFirst="0"===Ae,ce.inlineBlockNeedsLayout=!1,fe(function(){var e,t,i,n;(i=ne.getElementsByTagName("body")[0])&&i.style&&(t=ne.createElement("div"),(n=ne.createElement("div")).style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",i.appendChild(n).appendChild(t),"undefined"!=typeof t.style.zoom&&(t.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",ce.inlineBlockNeedsLayout=e=3===t.offsetWidth,e&&(i.style.zoom=1)),i.removeChild(n))}),function(){var e=ne.createElement("div");ce.deleteExpando=!0;try{delete e.test}catch(t){ce.deleteExpando=!1}e=null}();var Ne,Ie=function(e){var t=fe.noData[(e.nodeName+" ").toLowerCase()],i=+e.nodeType||1;return(1===i||9===i)&&(!t||!0!==t&&e.getAttribute("classid")===t)},Me=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Le=/([A-Z])/g;fe.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return!!(e=e.nodeType?fe.cache[e[fe.expando]]:e[fe.expando])&&!h(e)},data:function(e,t,i){return d(e,t,i)},removeData:function(e,t){return c(e,t)},_data:function(e,t,i){return d(e,t,i,!0)},_removeData:function(e,t){return c(e,t,!0)}}),fe.fn.extend({data:function(e,t){var i,n,s,r=this[0],o=r&&r.attributes;if(e===undefined){if(this.length&&(s=fe.data(r),1===r.nodeType&&!fe._data(r,"parsedAttrs"))){for(i=o.length;i--;)o[i]&&0===(n=o[i].name).indexOf("data-")&&l(r,n=fe.camelCase(n.slice(5)),s[n]);fe._data(r,"parsedAttrs",!0)}return s}return"object"==typeof e?this.each(function(){fe.data(this,e)}):arguments.length>1?this.each(function(){fe.data(this,e,t)}):r?l(r,e,fe.data(r,e)):undefined},removeData:function(e){return this.each(function(){fe.removeData(this,e)})}}),fe.extend({queue:function(e,t,i){var n;if(e)return t=(t||"fx")+"queue",n=fe._data(e,t),i&&(!n||fe.isArray(i)?n=fe._data(e,t,fe.makeArray(i)):n.push(i)),n||[]},dequeue:function(e,t){t=t||"fx";var i=fe.queue(e,t),n=i.length,s=i.shift(),r=fe._queueHooks(e,t),o=function(){fe.dequeue(e,t)};"inprogress"===s&&(s=i.shift(),n--),s&&("fx"===t&&i.unshift("inprogress"),delete r.stop,s.call(e,o,r)),!n&&r&&r.empty.fire()},_queueHooks:function(e,t){var i=t+"queueHooks";return fe._data(e,i)||fe._data(e,i,{empty:fe.Callbacks("once memory").add(function(){fe._removeData(e,t+"queue"),fe._removeData(e,i)})})}}),fe.fn.extend({queue:function(e,t){var i=2;return"string"!=typeof e&&(t=e,e="fx",i--),arguments.length<i?fe.queue(this[0],e):t===undefined?this:this.each(function(){var i=fe.queue(this,e,t);fe._queueHooks(this,e),"fx"===e&&"inprogress"!==i[0]&&fe.dequeue(this,e)})},dequeue:function(e){return this.each(function(){fe.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var i,n=1,s=fe.Deferred(),r=this,o=this.length,a=function(){--n||s.resolveWith(r,[r])};for("string"!=typeof e&&(t=e,e=undefined),e=e||"fx";o--;)(i=fe._data(r[o],e+"queueHooks"))&&i.empty&&(n++,i.empty.add(a));return a(),s.promise(t)}}),ce.shrinkWrapBlocks=function(){return null!=Ne?Ne:(Ne=!1,(t=ne.getElementsByTagName("body")[0])&&t.style?(e=ne.createElement("div"),(i=ne.createElement("div")).style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",t.appendChild(i).appendChild(e),"undefined"!=typeof e.style.zoom&&(e.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",e.appendChild(ne.createElement("div")).style.width="5px",Ne=3!==e.offsetWidth),t.removeChild(i),Ne):void 0);var e,t,i};var Pe,He,je,Re=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ze=new RegExp("^(?:([+-])=|)("+Re+")([a-z%]*)$","i"),Fe=["Top","Right","Bottom","Left"],We=function(e,t){return e=t||e,"none"===fe.css(e,"display")||!fe.contains(e.ownerDocument,e)},Be=function(e,t,i,n,s,r,o){var a=0,l=e.length,h=null==i;if("object"===fe.type(i)){s=!0;for(a in i)Be(e,t,a,i[a],!0,r,o)}else if(n!==undefined&&(s=!0,fe.isFunction(n)||(o=!0),h&&(o?(t.call(e,n),t=null):(h=t,t=function(e,t,i){return h.call(fe(e),i)})),t))for(;a<l;a++)t(e[a],i,o?n:n.call(e[a],a,t(e[a],i)));return s?e:h?t.call(e):l?t(e[0],i):r},qe=/^(?:checkbox|radio)$/i,Ve=/<([\w:-]+)/,Ue=/^$|\/(?:java|ecma)script/i,Ye=/^\s+/,Xe="abbr|article|aside|audio|bdi|canvas|data|datalist|details|dialog|figcaption|figure|footer|header|hgroup|main|mark|meter|nav|output|picture|progress|section|summary|template|time|video";Pe=ne.createElement("div"),He=ne.createDocumentFragment(),je=ne.createElement("input"),Pe.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",ce.leadingWhitespace=3===Pe.firstChild.nodeType,ce.tbody=!Pe.getElementsByTagName("tbody").length,ce.htmlSerialize=!!Pe.getElementsByTagName("link").length,ce.html5Clone="<:nav></:nav>"!==ne.createElement("nav").cloneNode(!0).outerHTML,je.type="checkbox",je.checked=!0,He.appendChild(je),ce.appendChecked=je.checked,Pe.innerHTML="<textarea>x</textarea>",ce.noCloneChecked=!!Pe.cloneNode(!0).lastChild.defaultValue,He.appendChild(Pe),(je=ne.createElement("input")).setAttribute("type","radio"),je.setAttribute("checked","checked"),je.setAttribute("name","t"),Pe.appendChild(je),ce.checkClone=Pe.cloneNode(!0).cloneNode(!0).lastChild.checked,ce.noCloneEvent=!!Pe.addEventListener,Pe[fe.expando]=1,ce.attributes=!Pe.getAttribute(fe.expando);var Ke={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:ce.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]};Ke.optgroup=Ke.option,Ke.tbody=Ke.tfoot=Ke.colgroup=Ke.caption=Ke.thead,Ke.th=Ke.td;var Ge=/<|&#?\w+;/,$e=/<tbody/i;!function(){var t,i,n=ne.createElement("div");for(t in{submit:!0,change:!0,focusin:!0})i="on"+t,(ce[t]=i in e)||(n.setAttribute(i,"t"),ce[t]=!1===n.attributes[i].expando);n=null}();var Qe=/^(?:input|select|textarea)$/i,Je=/^key/,Ze=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,et=/^(?:focusinfocus|focusoutblur)$/,tt=/^([^.]*)(?:\.(.+)|)/;fe.event={global:{},add:function(e,t,i,n,s){var r,o,a,l,h,d,c,u,f,p,_,g=fe._data(e);if(g){for(i.handler&&(i=(l=i).handler,s=l.selector),i.guid||(i.guid=fe.guid++),(o=g.events)||(o=g.events={}),(d=g.handle)||((d=g.handle=function(e){return void 0===fe||e&&fe.event.triggered===e.type?undefined:fe.event.dispatch.apply(d.elem,arguments)}).elem=e),a=(t=(t||"").match(Oe)||[""]).length;a--;)f=_=(r=tt.exec(t[a])||[])[1],p=(r[2]||"").split(".").sort(),f&&(h=fe.event.special[f]||{},f=(s?h.delegateType:h.bindType)||f,h=fe.event.special[f]||{},c=fe.extend({type:f,origType:_,data:n,handler:i,guid:i.guid,selector:s,needsContext:s&&fe.expr.match.needsContext.test(s),namespace:p.join(".")},l),(u=o[f])||((u=o[f]=[]).delegateCount=0,h.setup&&!1!==h.setup.call(e,n,p,d)||(e.addEventListener?e.addEventListener(f,d,!1):e.attachEvent&&e.attachEvent("on"+f,d))),h.add&&(h.add.call(e,c),c.handler.guid||(c.handler.guid=i.guid)),s?u.splice(u.delegateCount++,0,c):u.push(c),fe.event.global[f]=!0);e=null}},remove:function(e,t,i,n,s){var r,o,a,l,h,d,c,u,f,p,_,g=fe.hasData(e)&&fe._data(e);if(g&&(d=g.events)){for(h=(t=(t||"").match(Oe)||[""]).length;h--;)if(f=_=(a=tt.exec(t[h])||[])[1],p=(a[2]||"").split(".").sort(),f){for(c=fe.event.special[f]||{},u=d[f=(n?c.delegateType:c.bindType)||f]||[],a=a[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=r=u.length;r--;)o=u[r],!s&&_!==o.origType||i&&i.guid!==o.guid||a&&!a.test(o.namespace)||n&&n!==o.selector&&("**"!==n||!o.selector)||(u.splice(r,1),o.selector&&u.delegateCount--,c.remove&&c.remove.call(e,o));l&&!u.length&&(c.teardown&&!1!==c.teardown.call(e,p,g.handle)||fe.removeEvent(e,f,g.handle),delete d[f])}else for(f in d)fe.event.remove(e,f+t[h],i,n,!0);fe.isEmptyObject(d)&&(delete g.handle,fe._removeData(e,"events"))}},trigger:function(t,i,n,s){var r,o,a,l,h,d,c,u=[n||ne],f=de.call(t,"type")?t.type:t,p=de.call(t,"namespace")?t.namespace.split("."):[];if(a=d=n=n||ne,3!==n.nodeType&&8!==n.nodeType&&!et.test(f+fe.event.triggered)&&(f.indexOf(".")>-1&&(f=(p=f.split(".")).shift(),p.sort()),o=f.indexOf(":")<0&&"on"+f,(t=t[fe.expando]?t:new fe.Event(f,"object"==typeof t&&t)).isTrigger=s?2:3,t.namespace=p.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=undefined,t.target||(t.target=n),i=null==i?[t]:fe.makeArray(i,[t]),h=fe.event.special[f]||{},s||!h.trigger||!1!==h.trigger.apply(n,i))){if(!s&&!h.noBubble&&!fe.isWindow(n)){for(l=h.delegateType||f,et.test(l+f)||(a=a.parentNode);a;a=a.parentNode)u.push(a),d=a;d===(n.ownerDocument||ne)&&u.push(d.defaultView||d.parentWindow||e)}for(c=0;(a=u[c++])&&!t.isPropagationStopped();)t.type=c>1?l:h.bindType||f,(r=(fe._data(a,"events")||{})[t.type]&&fe._data(a,"handle"))&&r.apply(a,i),(r=o&&a[o])&&r.apply&&Ie(a)&&(t.result=r.apply(a,i),!1===t.result&&t.preventDefault());if(t.type=f,!s&&!t.isDefaultPrevented()&&(!h._default||!1===h._default.apply(u.pop(),i))&&Ie(n)&&o&&n[f]&&!fe.isWindow(n)){(d=n[o])&&(n[o]=null),fe.event.triggered=f;try{n[f]()}catch(_){}fe.event.triggered=undefined,d&&(n[o]=d)}return t.result}},dispatch:function(e){e=fe.event.fix(e);var t,i,n,s,r,o=[],a=se.call(arguments),l=(fe._data(this,"events")||{})[e.type]||[],h=fe.event.special[e.type]||{};if(a[0]=e,e.delegateTarget=this,!h.preDispatch||!1!==h.preDispatch.call(this,e)){for(o=fe.event.handlers.call(this,e,l),t=0;(s=o[t++])&&!e.isPropagationStopped();)for(e.currentTarget=s.elem,i=0;(r=s.handlers[i++])&&!e.isImmediatePropagationStopped();)e.rnamespace&&!e.rnamespace.test(r.namespace)||(e.handleObj=r,e.data=r.data,(n=((fe.event.special[r.origType]||{}).handle||r.handler).apply(s.elem,a))!==undefined&&!1===(e.result=n)&&(e.preventDefault(),e.stopPropagation()));return h.postDispatch&&h.postDispatch.call(this,e),e.result}},handlers:function(e,t){var i,n,s,r,o=[],a=t.delegateCount,l=e.target;if(a&&l.nodeType&&("click"!==e.type||isNaN(e.button)||e.button<1))for(;l!=this;l=l.parentNode||this)if(1===l.nodeType&&(!0!==l.disabled||"click"!==e.type)){for(n=[],i=0;i<a;i++)n[s=(r=t[i]).selector+" "]===undefined&&(n[s]=r.needsContext?fe(s,this).index(l)>-1:fe.find(s,this,null,[l]).length),n[s]&&n.push(r);n.length&&o.push({elem:l,handlers:n})}return a<t.length&&o.push({elem:this,handlers:t.slice(a)}),o},fix:function(e){if(e[fe.expando])return e;var t,i,n,s=e.type,r=e,o=this.fixHooks[s];for(o||(this.fixHooks[s]=o=Ze.test(s)?this.mouseHooks:Je.test(s)?this.keyHooks:{}),n=o.props?this.props.concat(o.props):this.props,e=new fe.Event(r),t=n.length;t--;)e[i=n[t]]=r[i];return e.target||(e.target=r.srcElement||ne),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,o.filter?o.filter(e,r):e},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var i,n,s,r=t.button,o=t.fromElement;return null==e.pageX&&null!=t.clientX&&(s=(n=e.target.ownerDocument||ne).documentElement,i=n.body,e.pageX=t.clientX+(s&&s.scrollLeft||i&&i.scrollLeft||0)-(s&&s.clientLeft||i&&i.clientLeft||0),e.pageY=t.clientY+(s&&s.scrollTop||i&&i.scrollTop||0)-(s&&s.clientTop||i&&i.clientTop||0)),!e.relatedTarget&&o&&(e.relatedTarget=o===e.target?t.toElement:o),e.which||r===undefined||(e.which=1&r?1:2&r?3:4&r?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==b()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){if(this===b()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if(fe.nodeName(this,"input")&&"checkbox"===this.type&&this.click)return this.click(),!1},_default:function(e){return fe.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){e.result!==undefined&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,i){var n=fe.extend(new fe.Event,i,{type:e,isSimulated:!0});fe.event.trigger(n,null,t),n.isDefaultPrevented()&&i.preventDefault()}},fe.removeEvent=ne.removeEventListener?function(e,t,i){e.removeEventListener&&e.removeEventListener(t,i)}:function(e,t,i){var n="on"+t;e.detachEvent&&("undefined"==typeof e[n]&&(e[n]=null),e.detachEvent(n,i))},fe.Event=function(e,t){if(!(this instanceof fe.Event))return new fe.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.defaultPrevented===undefined&&!1===e.returnValue?v:y):this.type=e,t&&fe.extend(this,t),this.timeStamp=e&&e.timeStamp||fe.now(),this[fe.expando]=!0},fe.Event.prototype={constructor:fe.Event,isDefaultPrevented:y,isPropagationStopped:y,isImmediatePropagationStopped:y,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=v,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=v,e&&!this.isSimulated&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=v,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},fe.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){fe.event.special[e]={delegateType:t,bindType:t,handle:function(e){var i,n=this,s=e.relatedTarget,r=e.handleObj;return s&&(s===n||fe.contains(n,s))||(e.type=r.origType,i=r.handler.apply(this,arguments),e.type=t),i}}}),ce.submit||(fe.event.special.submit={setup:function(){if(fe.nodeName(this,"form"))return!1;fe.event.add(this,"click._submit keypress._submit",function(e){var t=e.target,i=fe.nodeName(t,"input")||fe.nodeName(t,"button")?fe.prop(t,"form"):undefined;i&&!fe._data(i,"submit")&&(fe.event.add(i,"submit._submit",function(e){e._submitBubble=!0}),fe._data(i,"submit",!0))})},postDispatch:function(e){e._submitBubble&&(delete e._submitBubble,this.parentNode&&!e.isTrigger&&fe.event.simulate("submit",this.parentNode,e))},teardown:function(){if(fe.nodeName(this,"form"))return!1;fe.event.remove(this,"._submit")}}),ce.change||(fe.event.special.change={setup:function(){if(Qe.test(this.nodeName))return"checkbox"!==this.type&&"radio"!==this.type||(fe.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._justChanged=!0)}),fe.event.add(this,"click._change",function(e){this._justChanged&&!e.isTrigger&&(this._justChanged=!1),fe.event.simulate("change",this,e)})),!1;fe.event.add(this,"beforeactivate._change",function(e){var t=e.target;Qe.test(t.nodeName)&&!fe._data(t,"change")&&(fe.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||fe.event.simulate("change",this.parentNode,e)}),fe._data(t,"change",!0))})},handle:function(e){var t=e.target;if(this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type)return e.handleObj.handler.apply(this,arguments)},teardown:function(){return fe.event.remove(this,"._change"),!Qe.test(this.nodeName)}}),ce.focusin||fe.each({focus:"focusin",blur:"focusout"},function(e,t){var i=function(e){fe.event.simulate(t,e.target,fe.event.fix(e))};fe.event.special[t]={setup:function(){var n=this.ownerDocument||this,s=fe._data(n,t);s||n.addEventListener(e,i,!0),fe._data(n,t,(s||0)+1)},teardown:function(){var n=this.ownerDocument||this,s=fe._data(n,t)-1;s?fe._data(n,t,s):(n.removeEventListener(e,i,!0),fe._removeData(n,t))}}}),fe.fn.extend({on:function(e,t,i,n){return x(this,e,t,i,n)},one:function(e,t,i,n){return x(this,e,t,i,n,1)},off:function(e,t,i){var n,s;if(e&&e.preventDefault&&e.handleObj)return n=e.handleObj,fe(e.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof e){for(s in e)this.off(s,t,e[s]);return this}return!1!==t&&"function"!=typeof t||(i=t,t=undefined),!1===i&&(i=y),this.each(function(){fe.event.remove(this,e,i,t)})},trigger:function(e,t){return this.each(function(){fe.event.trigger(e,t,this)})},triggerHandler:function(e,t){var i=this[0];if(i)return fe.event.trigger(e,t,i,!0)}});var it=/ jQuery\d+="(?:null|\d+)"/g,nt=new RegExp("<(?:"+Xe+")[\\s/>]","i"),st=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,rt=/<script|<style|<link/i,ot=/checked\s*(?:[^=]|=\s*.checked.)/i,at=/^true\/(.*)/,lt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,ht=f(ne).appendChild(ne.createElement("div"));fe.extend({htmlPrefilter:function(e){return e.replace(st,"<$1></$2>")},clone:function(e,t,i){var n,s,r,o,a,l=fe.contains(e.ownerDocument,e);if(ce.html5Clone||fe.isXMLDoc(e)||!nt.test("<"+e.nodeName+">")?r=e.cloneNode(!0):(ht.innerHTML=e.outerHTML,ht.removeChild(r=ht.firstChild)),!(ce.noCloneEvent&&ce.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||fe.isXMLDoc(e)))for(n=p(r),a=p(e),o=0;null!=(s=a[o]);++o)n[o]&&D(s,n[o]);if(t)if(i)for(a=a||p(e),n=n||p(r),o=0;null!=(s=a[o]);o++)C(s,n[o]);else C(e,r);return(n=p(r,"script")).length>0&&_(n,!l&&p(e,"script")),n=a=s=null,r},cleanData:function(e,t){for(var i,n,s,r,o=0,a=fe.expando,l=fe.cache,h=ce.attributes,d=fe.event.special;null!=(i=e[o]);o++)if((t||Ie(i))&&(r=(s=i[a])&&l[s])){if(r.events)for(n in r.events)d[n]?fe.event.remove(i,n):fe.removeEvent(i,n,r.handle);l[s]&&(delete l[s],h||"undefined"==typeof i.removeAttribute?i[a]=undefined:i.removeAttribute(a),ie.push(s))}}}),fe.fn.extend({domManip:T,detach:function(e){return S(this,e,!0)},remove:function(e){return S(this,e)},text:function(e){return Be(this,function(e){return e===undefined?fe.text(this):this.empty().append((this[0]&&this[0].ownerDocument||ne).createTextNode(e))},null,e,arguments.length)},append:function(){return T(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||w(this,e).appendChild(e)})},prepend:function(){return T(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=w(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return T(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return T(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&fe.cleanData(p(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&fe.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){
return e=null!=e&&e,t=null==t?e:t,this.map(function(){return fe.clone(this,e,t)})},html:function(e){return Be(this,function(e){var t=this[0]||{},i=0,n=this.length;if(e===undefined)return 1===t.nodeType?t.innerHTML.replace(it,""):undefined;if("string"==typeof e&&!rt.test(e)&&(ce.htmlSerialize||!nt.test(e))&&(ce.leadingWhitespace||!Ye.test(e))&&!Ke[(Ve.exec(e)||["",""])[1].toLowerCase()]){e=fe.htmlPrefilter(e);try{for(;i<n;i++)1===(t=this[i]||{}).nodeType&&(fe.cleanData(p(t,!1)),t.innerHTML=e);t=0}catch(s){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return T(this,arguments,function(t){var i=this.parentNode;fe.inArray(this,e)<0&&(fe.cleanData(p(this)),i&&i.replaceChild(t,this))},e)}}),fe.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){fe.fn[e]=function(e){for(var i,n=0,s=[],r=fe(e),o=r.length-1;n<=o;n++)i=n===o?this:this.clone(!0),fe(r[n])[t](i),oe.apply(s,i.get());return this.pushStack(s)}});var dt,ct={HTML:"block",BODY:"block"},ut=/^margin/,ft=new RegExp("^("+Re+")(?!px)[a-z%]+$","i"),pt=function(e,t,i,n){var s,r,o={};for(r in t)o[r]=e.style[r],e.style[r]=t[r];s=i.apply(e,n||[]);for(r in t)e.style[r]=o[r];return s},_t=ne.documentElement;!function(){function t(){var t,d,c=ne.documentElement;c.appendChild(l),h.style.cssText="-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",i=s=a=!1,n=o=!0,e.getComputedStyle&&(d=e.getComputedStyle(h),i="1%"!==(d||{}).top,a="2px"===(d||{}).marginLeft,s="4px"===(d||{width:"4px"}).width,h.style.marginRight="50%",n="4px"===(d||{marginRight:"4px"}).marginRight,(t=h.appendChild(ne.createElement("div"))).style.cssText=h.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",t.style.marginRight=t.style.width="0",h.style.width="1px",o=!parseFloat((e.getComputedStyle(t)||{}).marginRight),h.removeChild(t)),h.style.display="none",(r=0===h.getClientRects().length)&&(h.style.display="",h.innerHTML="<table><tr><td></td><td>t</td></tr></table>",h.childNodes[0].style.borderCollapse="separate",(t=h.getElementsByTagName("td"))[0].style.cssText="margin:0;border:0;padding:0;display:none",(r=0===t[0].offsetHeight)&&(t[0].style.display="",t[1].style.display="none",r=0===t[0].offsetHeight)),c.removeChild(l)}var i,n,s,r,o,a,l=ne.createElement("div"),h=ne.createElement("div");h.style&&(h.style.cssText="float:left;opacity:.5",ce.opacity="0.5"===h.style.opacity,ce.cssFloat=!!h.style.cssFloat,h.style.backgroundClip="content-box",h.cloneNode(!0).style.backgroundClip="",ce.clearCloneStyle="content-box"===h.style.backgroundClip,(l=ne.createElement("div")).style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",h.innerHTML="",l.appendChild(h),ce.boxSizing=""===h.style.boxSizing||""===h.style.MozBoxSizing||""===h.style.WebkitBoxSizing,fe.extend(ce,{reliableHiddenOffsets:function(){return null==i&&t(),r},boxSizingReliable:function(){return null==i&&t(),s},pixelMarginRight:function(){return null==i&&t(),n},pixelPosition:function(){return null==i&&t(),i},reliableMarginRight:function(){return null==i&&t(),o},reliableMarginLeft:function(){return null==i&&t(),a}}))}();var gt,mt,vt=/^(top|right|bottom|left)$/;e.getComputedStyle?(gt=function(t){var i=t.ownerDocument.defaultView;return i&&i.opener||(i=e),i.getComputedStyle(t)},mt=function(e,t,i){var n,s,r,o,a=e.style;return""!==(o=(i=i||gt(e))?i.getPropertyValue(t)||i[t]:undefined)&&o!==undefined||fe.contains(e.ownerDocument,e)||(o=fe.style(e,t)),i&&!ce.pixelMarginRight()&&ft.test(o)&&ut.test(t)&&(n=a.width,s=a.minWidth,r=a.maxWidth,a.minWidth=a.maxWidth=a.width=o,o=i.width,a.width=n,a.minWidth=s,a.maxWidth=r),o===undefined?o:o+""}):_t.currentStyle&&(gt=function(e){return e.currentStyle},mt=function(e,t,i){var n,s,r,o,a=e.style;return null==(o=(i=i||gt(e))?i[t]:undefined)&&a&&a[t]&&(o=a[t]),ft.test(o)&&!vt.test(t)&&(n=a.left,(r=(s=e.runtimeStyle)&&s.left)&&(s.left=e.currentStyle.left),a.left="fontSize"===t?"1em":o,o=a.pixelLeft+"px",a.left=n,r&&(s.left=r)),o===undefined?o:o+""||"auto"});var yt=/alpha\([^)]*\)/i,bt=/opacity\s*=\s*([^)]*)/i,xt=/^(none|table(?!-c[ea]).+)/,wt=new RegExp("^("+Re+")(.*)$","i"),kt={position:"absolute",visibility:"hidden",display:"block"},Et={letterSpacing:"0",fontWeight:"400"},Ct=["Webkit","O","Moz","ms"],Dt=ne.createElement("div").style;fe.extend({cssHooks:{opacity:{get:function(e,t){if(t){var i=mt(e,"opacity");return""===i?"1":i}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":ce.cssFloat?"cssFloat":"styleFloat"},style:function(e,t,i,n){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var s,r,o,a=fe.camelCase(t),l=e.style;if(t=fe.cssProps[a]||(fe.cssProps[a]=I(a)||a),o=fe.cssHooks[t]||fe.cssHooks[a],i===undefined)return o&&"get"in o&&(s=o.get(e,!1,n))!==undefined?s:l[t];if("string"===(r=typeof i)&&(s=ze.exec(i))&&s[1]&&(i=u(e,t,s),r="number"),null!=i&&i==i&&("number"===r&&(i+=s&&s[3]||(fe.cssNumber[a]?"":"px")),ce.clearCloneStyle||""!==i||0!==t.indexOf("background")||(l[t]="inherit"),!(o&&"set"in o&&(i=o.set(e,i,n))===undefined)))try{l[t]=i}catch(h){}}},css:function(e,t,i,n){var s,r,o,a=fe.camelCase(t);return t=fe.cssProps[a]||(fe.cssProps[a]=I(a)||a),(o=fe.cssHooks[t]||fe.cssHooks[a])&&"get"in o&&(r=o.get(e,!0,i)),r===undefined&&(r=mt(e,t,n)),"normal"===r&&t in Et&&(r=Et[t]),""===i||i?(s=parseFloat(r),!0===i||isFinite(s)?s||0:r):r}}),fe.each(["height","width"],function(e,t){fe.cssHooks[t]={get:function(e,i,n){if(i)return xt.test(fe.css(e,"display"))&&0===e.offsetWidth?pt(e,kt,function(){return H(e,t,n)}):H(e,t,n)},set:function(e,i,n){var s=n&&gt(e);return L(e,i,n?P(e,t,n,ce.boxSizing&&"border-box"===fe.css(e,"boxSizing",!1,s),s):0)}}}),ce.opacity||(fe.cssHooks.opacity={get:function(e,t){return bt.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var i=e.style,n=e.currentStyle,s=fe.isNumeric(t)?"alpha(opacity="+100*t+")":"",r=n&&n.filter||i.filter||"";i.zoom=1,(t>=1||""===t)&&""===fe.trim(r.replace(yt,""))&&i.removeAttribute&&(i.removeAttribute("filter"),""===t||n&&!n.filter)||(i.filter=yt.test(r)?r.replace(yt,s):r+" "+s)}}),fe.cssHooks.marginRight=N(ce.reliableMarginRight,function(e,t){if(t)return pt(e,{display:"inline-block"},mt,[e,"marginRight"])}),fe.cssHooks.marginLeft=N(ce.reliableMarginLeft,function(e,t){if(t)return(parseFloat(mt(e,"marginLeft"))||(fe.contains(e.ownerDocument,e)?e.getBoundingClientRect().left-pt(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}):0))+"px"}),fe.each({margin:"",padding:"",border:"Width"},function(e,t){fe.cssHooks[e+t]={expand:function(i){for(var n=0,s={},r="string"==typeof i?i.split(" "):[i];n<4;n++)s[e+Fe[n]+t]=r[n]||r[n-2]||r[0];return s}},ut.test(e)||(fe.cssHooks[e+t].set=L)}),fe.fn.extend({css:function(e,t){return Be(this,function(e,t,i){var n,s,r={},o=0;if(fe.isArray(t)){for(n=gt(e),s=t.length;o<s;o++)r[t[o]]=fe.css(e,t[o],!1,n);return r}return i!==undefined?fe.style(e,t,i):fe.css(e,t)},e,t,arguments.length>1)},show:function(){return M(this,!0)},hide:function(){return M(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){We(this)?fe(this).show():fe(this).hide()})}}),fe.Tween=j,j.prototype={constructor:j,init:function(e,t,i,n,s,r){this.elem=e,this.prop=i,this.easing=s||fe.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=n,this.unit=r||(fe.cssNumber[i]?"":"px")},cur:function(){var e=j.propHooks[this.prop];return e&&e.get?e.get(this):j.propHooks._default.get(this)},run:function(e){var t,i=j.propHooks[this.prop];return this.options.duration?this.pos=t=fe.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):j.propHooks._default.set(this),this}},j.prototype.init.prototype=j.prototype,j.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=fe.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){fe.fx.step[e.prop]?fe.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[fe.cssProps[e.prop]]&&!fe.cssHooks[e.prop]?e.elem[e.prop]=e.now:fe.style(e.elem,e.prop,e.now+e.unit)}}},j.propHooks.scrollTop=j.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},fe.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},fe.fx=j.prototype.init,fe.fx.step={};var Tt,St,At,Ot,Nt,It,Mt,Lt=/^(?:toggle|show|hide)$/,Pt=/queueHooks$/;fe.Animation=fe.extend(q,{tweeners:{"*":[function(e,t){var i=this.createTween(e,t);return u(i.elem,e,ze.exec(t),i),i}]},tweener:function(e,t){fe.isFunction(e)?(t=e,e=["*"]):e=e.match(Oe);for(var i,n=0,s=e.length;n<s;n++)i=e[n],q.tweeners[i]=q.tweeners[i]||[],q.tweeners[i].unshift(t)},prefilters:[W],prefilter:function(e,t){t?q.prefilters.unshift(e):q.prefilters.push(e)}}),fe.speed=function(e,t,i){var n=e&&"object"==typeof e?fe.extend({},e):{complete:i||!i&&t||fe.isFunction(e)&&e,duration:e,easing:i&&t||t&&!fe.isFunction(t)&&t};return n.duration=fe.fx.off?0:"number"==typeof n.duration?n.duration:n.duration in fe.fx.speeds?fe.fx.speeds[n.duration]:fe.fx.speeds._default,null!=n.queue&&!0!==n.queue||(n.queue="fx"),n.old=n.complete,n.complete=function(){fe.isFunction(n.old)&&n.old.call(this),n.queue&&fe.dequeue(this,n.queue)},n},fe.fn.extend({fadeTo:function(e,t,i,n){return this.filter(We).css("opacity",0).show().end().animate({opacity:t},e,i,n)},animate:function(e,t,i,n){var s=fe.isEmptyObject(e),r=fe.speed(t,i,n),o=function(){var t=q(this,fe.extend({},e),r);(s||fe._data(this,"finish"))&&t.stop(!0)};return o.finish=o,s||!1===r.queue?this.each(o):this.queue(r.queue,o)},stop:function(e,t,i){var n=function(e){var t=e.stop;delete e.stop,t(i)};return"string"!=typeof e&&(i=t,t=e,e=undefined),t&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t=!0,s=null!=e&&e+"queueHooks",r=fe.timers,o=fe._data(this);if(s)o[s]&&o[s].stop&&n(o[s]);else for(s in o)o[s]&&o[s].stop&&Pt.test(s)&&n(o[s]);for(s=r.length;s--;)r[s].elem!==this||null!=e&&r[s].queue!==e||(r[s].anim.stop(i),t=!1,r.splice(s,1));!t&&i||fe.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,i=fe._data(this),n=i[e+"queue"],s=i[e+"queueHooks"],r=fe.timers,o=n?n.length:0;for(i.finish=!0,fe.queue(this,e,[]),s&&s.stop&&s.stop.call(this,!0),t=r.length;t--;)r[t].elem===this&&r[t].queue===e&&(r[t].anim.stop(!0),r.splice(t,1));for(t=0;t<o;t++)n[t]&&n[t].finish&&n[t].finish.call(this);delete i.finish})}}),fe.each(["toggle","show","hide"],function(e,t){var i=fe.fn[t];fe.fn[t]=function(e,n,s){return null==e||"boolean"==typeof e?i.apply(this,arguments):this.animate(z(t,!0),e,n,s)}}),fe.each({slideDown:z("show"),slideUp:z("hide"),slideToggle:z("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){fe.fn[e]=function(e,i,n){return this.animate(t,e,i,n)}}),fe.timers=[],fe.fx.tick=function(){var e,t=fe.timers,i=0;for(Tt=fe.now();i<t.length;i++)(e=t[i])()||t[i]!==e||t.splice(i--,1);t.length||fe.fx.stop(),Tt=undefined},fe.fx.timer=function(e){fe.timers.push(e),e()?fe.fx.start():fe.timers.pop()},fe.fx.interval=13,fe.fx.start=function(){St||(St=e.setInterval(fe.fx.tick,fe.fx.interval))},fe.fx.stop=function(){e.clearInterval(St),St=null},fe.fx.speeds={slow:600,fast:200,_default:400},fe.fn.delay=function(t,i){return t=fe.fx?fe.fx.speeds[t]||t:t,i=i||"fx",this.queue(i,function(i,n){var s=e.setTimeout(i,t);n.stop=function(){e.clearTimeout(s)}})},Ot=ne.createElement("input"),Nt=ne.createElement("div"),It=ne.createElement("select"),Mt=It.appendChild(ne.createElement("option")),(Nt=ne.createElement("div")).setAttribute("className","t"),Nt.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",At=Nt.getElementsByTagName("a")[0],Ot.setAttribute("type","checkbox"),Nt.appendChild(Ot),(At=Nt.getElementsByTagName("a")[0]).style.cssText="top:1px",ce.getSetAttribute="t"!==Nt.className,ce.style=/top/.test(At.getAttribute("style")),ce.hrefNormalized="/a"===At.getAttribute("href"),ce.checkOn=!!Ot.value,ce.optSelected=Mt.selected,ce.enctype=!!ne.createElement("form").enctype,It.disabled=!0,ce.optDisabled=!Mt.disabled,(Ot=ne.createElement("input")).setAttribute("value",""),ce.input=""===Ot.getAttribute("value"),Ot.value="t",Ot.setAttribute("type","radio"),ce.radioValue="t"===Ot.value;var Ht=/\r/g,jt=/[\x20\t\r\n\f]+/g;fe.fn.extend({val:function(e){var t,i,n,s=this[0];return arguments.length?(n=fe.isFunction(e),this.each(function(i){var s;1===this.nodeType&&(null==(s=n?e.call(this,i,fe(this).val()):e)?s="":"number"==typeof s?s+="":fe.isArray(s)&&(s=fe.map(s,function(e){return null==e?"":e+""})),(t=fe.valHooks[this.type]||fe.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&t.set(this,s,"value")!==undefined||(this.value=s))})):s?(t=fe.valHooks[s.type]||fe.valHooks[s.nodeName.toLowerCase()])&&"get"in t&&(i=t.get(s,"value"))!==undefined?i:"string"==typeof(i=s.value)?i.replace(Ht,""):null==i?"":i:void 0}}),fe.extend({valHooks:{option:{get:function(e){var t=fe.find.attr(e,"value");return null!=t?t:fe.trim(fe.text(e)).replace(jt," ")}},select:{get:function(e){for(var t,i,n=e.options,s=e.selectedIndex,r="select-one"===e.type||s<0,o=r?null:[],a=r?s+1:n.length,l=s<0?a:r?s:0;l<a;l++)if(((i=n[l]).selected||l===s)&&(ce.optDisabled?!i.disabled:null===i.getAttribute("disabled"))&&(!i.parentNode.disabled||!fe.nodeName(i.parentNode,"optgroup"))){if(t=fe(i).val(),r)return t;o.push(t)}return o},set:function(e,t){for(var i,n,s=e.options,r=fe.makeArray(t),o=s.length;o--;)if(n=s[o],fe.inArray(fe.valHooks.option.get(n),r)>-1)try{n.selected=i=!0}catch(a){n.scrollHeight}else n.selected=!1;return i||(e.selectedIndex=-1),s}}}}),fe.each(["radio","checkbox"],function(){fe.valHooks[this]={set:function(e,t){if(fe.isArray(t))return e.checked=fe.inArray(fe(e).val(),t)>-1}},ce.checkOn||(fe.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var Rt,zt,Ft=fe.expr.attrHandle,Wt=/^(?:checked|selected)$/i,Bt=ce.getSetAttribute,qt=ce.input;fe.fn.extend({attr:function(e,t){return Be(this,fe.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){fe.removeAttr(this,e)})}}),fe.extend({attr:function(e,t,i){var n,s,r=e.nodeType;if(3!==r&&8!==r&&2!==r)return"undefined"==typeof e.getAttribute?fe.prop(e,t,i):(1===r&&fe.isXMLDoc(e)||(t=t.toLowerCase(),s=fe.attrHooks[t]||(fe.expr.match.bool.test(t)?zt:Rt)),i!==undefined?null===i?void fe.removeAttr(e,t):s&&"set"in s&&(n=s.set(e,i,t))!==undefined?n:(e.setAttribute(t,i+""),i):s&&"get"in s&&null!==(n=s.get(e,t))?n:null==(n=fe.find.attr(e,t))?undefined:n)},attrHooks:{type:{set:function(e,t){if(!ce.radioValue&&"radio"===t&&fe.nodeName(e,"input")){var i=e.value;return e.setAttribute("type",t),i&&(e.value=i),t}}}},removeAttr:function(e,t){var i,n,s=0,r=t&&t.match(Oe);if(r&&1===e.nodeType)for(;i=r[s++];)n=fe.propFix[i]||i,fe.expr.match.bool.test(i)?qt&&Bt||!Wt.test(i)?e[n]=!1:e[fe.camelCase("default-"+i)]=e[n]=!1:fe.attr(e,i,""),e.removeAttribute(Bt?i:n)}}),zt={set:function(e,t,i){return!1===t?fe.removeAttr(e,i):qt&&Bt||!Wt.test(i)?e.setAttribute(!Bt&&fe.propFix[i]||i,i):e[fe.camelCase("default-"+i)]=e[i]=!0,i}},fe.each(fe.expr.match.bool.source.match(/\w+/g),function(e,t){var i=Ft[t]||fe.find.attr;qt&&Bt||!Wt.test(t)?Ft[t]=function(e,t,n){var s,r;return n||(r=Ft[t],Ft[t]=s,s=null!=i(e,t,n)?t.toLowerCase():null,Ft[t]=r),s}:Ft[t]=function(e,t,i){if(!i)return e[fe.camelCase("default-"+t)]?t.toLowerCase():null}}),qt&&Bt||(fe.attrHooks.value={set:function(e,t,i){if(!fe.nodeName(e,"input"))return Rt&&Rt.set(e,t,i);e.defaultValue=t}}),Bt||(Rt={set:function(e,t,i){var n=e.getAttributeNode(i);if(n||e.setAttributeNode(n=e.ownerDocument.createAttribute(i)),n.value=t+="","value"===i||t===e.getAttribute(i))return t}},Ft.id=Ft.name=Ft.coords=function(e,t,i){var n;if(!i)return(n=e.getAttributeNode(t))&&""!==n.value?n.value:null},fe.valHooks.button={get:function(e,t){var i=e.getAttributeNode(t);if(i&&i.specified)return i.value},set:Rt.set},fe.attrHooks.contenteditable={set:function(e,t,i){Rt.set(e,""!==t&&t,i)}},fe.each(["width","height"],function(e,t){fe.attrHooks[t]={set:function(e,i){if(""===i)return e.setAttribute(t,"auto"),i}}})),ce.style||(fe.attrHooks.style={get:function(e){return e.style.cssText||undefined},set:function(e,t){return e.style.cssText=t+""}});var Vt=/^(?:input|select|textarea|button|object)$/i,Ut=/^(?:a|area)$/i;fe.fn.extend({prop:function(e,t){return Be(this,fe.prop,e,t,arguments.length>1)},removeProp:function(e){return e=fe.propFix[e]||e,this.each(function(){try{this[e]=undefined,delete this[e]}catch(t){}})}}),fe.extend({prop:function(e,t,i){var n,s,r=e.nodeType;if(3!==r&&8!==r&&2!==r)return 1===r&&fe.isXMLDoc(e)||(t=fe.propFix[t]||t,s=fe.propHooks[t]),i!==undefined?s&&"set"in s&&(n=s.set(e,i,t))!==undefined?n:e[t]=i:s&&"get"in s&&null!==(n=s.get(e,t))?n:e[t]},propHooks:{tabIndex:{get:function(e){var t=fe.find.attr(e,"tabindex");return t?parseInt(t,10):Vt.test(e.nodeName)||Ut.test(e.nodeName)&&e.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),ce.hrefNormalized||fe.each(["href","src"],function(e,t){fe.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),ce.optSelected||(fe.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),fe.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){fe.propFix[this.toLowerCase()]=this}),ce.enctype||(fe.propFix.enctype="encoding");var Yt=/[\t\r\n\f]/g;fe.fn.extend({addClass:function(e){var t,i,n,s,r,o,a,l=0;if(fe.isFunction(e))return this.each(function(t){fe(this).addClass(e.call(this,t,V(this)))});if("string"==typeof e&&e)for(t=e.match(Oe)||[];i=this[l++];)if(s=V(i),n=1===i.nodeType&&(" "+s+" ").replace(Yt," ")){for(o=0;r=t[o++];)n.indexOf(" "+r+" ")<0&&(n+=r+" ");s!==(a=fe.trim(n))&&fe.attr(i,"class",a)}return this},removeClass:function(e){var t,i,n,s,r,o,a,l=0;if(fe.isFunction(e))return this.each(function(t){fe(this).removeClass(e.call(this,t,V(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof e&&e)for(t=e.match(Oe)||[];i=this[l++];)if(s=V(i),n=1===i.nodeType&&(" "+s+" ").replace(Yt," ")){for(o=0;r=t[o++];)for(;n.indexOf(" "+r+" ")>-1;)n=n.replace(" "+r+" "," ");s!==(a=fe.trim(n))&&fe.attr(i,"class",a)}return this},toggleClass:function(e,t){var i=typeof e;return"boolean"==typeof t&&"string"===i?t?this.addClass(e):this.removeClass(e):fe.isFunction(e)?this.each(function(i){fe(this).toggleClass(e.call(this,i,V(this),t),t)}):this.each(function(){var t,n,s,r;if("string"===i)for(n=0,s=fe(this),r=e.match(Oe)||[];t=r[n++];)s.hasClass(t)?s.removeClass(t):s.addClass(t);else e!==undefined&&"boolean"!==i||((t=V(this))&&fe._data(this,"__className__",t),fe.attr(this,"class",t||!1===e?"":fe._data(this,"__className__")||""))})},hasClass:function(e){var t,i,n=0;for(t=" "+e+" ";i=this[n++];)if(1===i.nodeType&&(" "+V(i)+" ").replace(Yt," ").indexOf(t)>-1)return!0;return!1}}),fe.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){fe.fn[t]=function(e,i){return arguments.length>0?this.on(t,null,e,i):this.trigger(t)}}),fe.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}});var Xt=e.location,Kt=fe.now(),Gt=/\?/,$t=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;fe.parseJSON=function(t){if(e.JSON&&e.JSON.parse)return e.JSON.parse(t+"");var i,n=null,s=fe.trim(t+"");return s&&!fe.trim(s.replace($t,function(e,t,s,r){return i&&t&&(n=0),0===n?e:(i=s||t,n+=!r-!s,"")}))?Function("return "+s)():fe.error("Invalid JSON: "+t)},fe.parseXML=function(t){var i,n;if(!t||"string"!=typeof t)return null;try{e.DOMParser?(n=new e.DOMParser,i=n.parseFromString(t,"text/xml")):((i=new e.ActiveXObject("Microsoft.XMLDOM")).async="false",i.loadXML(t))}catch(s){i=undefined}return i&&i.documentElement&&!i.getElementsByTagName("parsererror").length||fe.error("Invalid XML: "+t),i};var Qt=/#.*$/,Jt=/([?&])_=[^&]*/,Zt=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,ei=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,ti=/^(?:GET|HEAD)$/,ii=/^\/\//,ni=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,si={},ri={},oi="*/".concat("*"),ai=Xt.href,li=ni.exec(ai.toLowerCase())||[];fe.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ai,type:"GET",isLocal:ei.test(li[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":oi,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":fe.parseJSON,"text xml":fe.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?X(X(e,fe.ajaxSettings),t):X(fe.ajaxSettings,e)},ajaxPrefilter:U(si),ajaxTransport:U(ri),ajax:function(t,i){function n(t,i,n,s){var r,c,v,y,x,k=i;2!==b&&(b=2,l&&e.clearTimeout(l),d=undefined,a=s||"",w.readyState=t>0?4:0,r=t>=200&&t<300||304===t,n&&(y=K(u,w,n)),y=G(u,y,w,r),r?(u.ifModified&&((x=w.getResponseHeader("Last-Modified"))&&(fe.lastModified[o]=x),(x=w.getResponseHeader("etag"))&&(fe.etag[o]=x)),204===t||"HEAD"===u.type?k="nocontent":304===t?k="notmodified":(k=y.state,c=y.data,r=!(v=y.error))):(v=k,!t&&k||(k="error",t<0&&(t=0))),w.status=t,w.statusText=(i||k)+"",r?_.resolveWith(f,[c,k,w]):_.rejectWith(f,[w,k,v]),w.statusCode(m),m=undefined,h&&p.trigger(r?"ajaxSuccess":"ajaxError",[w,u,r?c:v]),g.fireWith(f,[w,k]),h&&(p.trigger("ajaxComplete",[w,u]),--fe.active||fe.event.trigger("ajaxStop")))}"object"==typeof t&&(i=t,t=undefined),i=i||{};var s,r,o,a,l,h,d,c,u=fe.ajaxSetup({},i),f=u.context||u,p=u.context&&(f.nodeType||f.jquery)?fe(f):fe.event,_=fe.Deferred(),g=fe.Callbacks("once memory"),m=u.statusCode||{},v={},y={},b=0,x="canceled",w={readyState:0,getResponseHeader:function(e){var t;if(2===b){if(!c)for(c={};t=Zt.exec(a);)c[t[1].toLowerCase()]=t[2];t=c[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===b?a:null},setRequestHeader:function(e,t){var i=e.toLowerCase();return b||(e=y[i]=y[i]||e,v[e]=t),this},overrideMimeType:function(e){return b||(u.mimeType=e),this},statusCode:function(e){var t;if(e)if(b<2)for(t in e)m[t]=[m[t],e[t]];else w.always(e[w.status]);return this},abort:function(e){var t=e||x;return d&&d.abort(t),n(0,t),this}};if(_.promise(w).complete=g.add,w.success=w.done,w.error=w.fail,u.url=((t||u.url||ai)+"").replace(Qt,"").replace(ii,li[1]+"//"),u.type=i.method||i.type||u.method||u.type,u.dataTypes=fe.trim(u.dataType||"*").toLowerCase().match(Oe)||[""],null==u.crossDomain&&(s=ni.exec(u.url.toLowerCase()),u.crossDomain=!(!s||s[1]===li[1]&&s[2]===li[2]&&(s[3]||("http:"===s[1]?"80":"443"))===(li[3]||("http:"===li[1]?"80":"443")))),u.data&&u.processData&&"string"!=typeof u.data&&(u.data=fe.param(u.data,u.traditional)),Y(si,u,i,w),2===b)return w;(h=fe.event&&u.global)&&0==fe.active++&&fe.event.trigger("ajaxStart"),u.type=u.type.toUpperCase(),u.hasContent=!ti.test(u.type),o=u.url,u.hasContent||(u.data&&(o=u.url+=(Gt.test(o)?"&":"?")+u.data,delete u.data),!1===u.cache&&(u.url=Jt.test(o)?o.replace(Jt,"$1_="+Kt++):o+(Gt.test(o)?"&":"?")+"_="+Kt++)),u.ifModified&&(fe.lastModified[o]&&w.setRequestHeader("If-Modified-Since",fe.lastModified[o]),fe.etag[o]&&w.setRequestHeader("If-None-Match",fe.etag[o])),(u.data&&u.hasContent&&!1!==u.contentType||i.contentType)&&w.setRequestHeader("Content-Type",u.contentType),w.setRequestHeader("Accept",u.dataTypes[0]&&u.accepts[u.dataTypes[0]]?u.accepts[u.dataTypes[0]]+("*"!==u.dataTypes[0]?", "+oi+"; q=0.01":""):u.accepts["*"]);for(r in u.headers)w.setRequestHeader(r,u.headers[r]);if(u.beforeSend&&(!1===u.beforeSend.call(f,w,u)||2===b))return w.abort();x="abort";for(r in{success:1,error:1,complete:1})w[r](u[r]);if(d=Y(ri,u,i,w)){if(w.readyState=1,h&&p.trigger("ajaxSend",[w,u]),2===b)return w;u.async&&u.timeout>0&&(l=e.setTimeout(function(){w.abort("timeout")},u.timeout));try{b=1,d.send(v,n)}catch(k){if(!(b<2))throw k;n(-1,k)}}else n(-1,"No Transport");return w},getJSON:function(e,t,i){return fe.get(e,t,i,"json")},getScript:function(e,t){return fe.get(e,undefined,t,"script")}}),fe.each(["get","post"],function(e,t){fe[t]=function(e,i,n,s){return fe.isFunction(i)&&(s=s||n,n=i,i=undefined),fe.ajax(fe.extend({url:e,type:t,dataType:s,data:i,success:n},fe.isPlainObject(e)&&e))}}),fe._evalUrl=function(e){return fe.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,"throws":!0})},fe.fn.extend({wrapAll:function(e){if(fe.isFunction(e))return this.each(function(t){fe(this).wrapAll(e.call(this,t))});if(this[0]){var t=fe(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return fe.isFunction(e)?this.each(function(t){fe(this).wrapInner(e.call(this,t))}):this.each(function(){var t=fe(this),i=t.contents();i.length?i.wrapAll(e):t.append(e)})},wrap:function(e){var t=fe.isFunction(e);return this.each(function(i){fe(this).wrapAll(t?e.call(this,i):e)})},unwrap:function(){return this.parent().each(function(){fe.nodeName(this,"body")||fe(this).replaceWith(this.childNodes)}).end()}}),fe.expr.filters.hidden=function(e){return ce.reliableHiddenOffsets()?e.offsetWidth<=0&&e.offsetHeight<=0&&!e.getClientRects().length:Q(e)},fe.expr.filters.visible=function(e){return!fe.expr.filters.hidden(e)};var hi=/%20/g,di=/\[\]$/,ci=/\r?\n/g,ui=/^(?:submit|button|image|reset|file)$/i,fi=/^(?:input|select|textarea|keygen)/i;fe.param=function(e,t){var i,n=[],s=function(e,t){t=fe.isFunction(t)?t():null==t?"":t,n[n.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(t===undefined&&(t=fe.ajaxSettings&&fe.ajaxSettings.traditional),fe.isArray(e)||e.jquery&&!fe.isPlainObject(e))fe.each(e,function(){s(this.name,this.value)});else for(i in e)J(i,e[i],t,s);return n.join("&").replace(hi,"+")},fe.fn.extend({serialize:function(){return fe.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=fe.prop(this,"elements");return e?fe.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!fe(this).is(":disabled")&&fi.test(this.nodeName)&&!ui.test(e)&&(this.checked||!qe.test(e))}).map(function(e,t){var i=fe(this).val();return null==i?null:fe.isArray(i)?fe.map(i,function(e){return{name:t.name,value:e.replace(ci,"\r\n")}}):{name:t.name,value:i.replace(ci,"\r\n")}}).get()}}),fe.ajaxSettings.xhr=e.ActiveXObject!==undefined?function(){return this.isLocal?ee():ne.documentMode>8?Z():/^(get|post|head|put|delete|options)$/i.test(this.type)&&Z()||ee()}:Z;var pi=0,_i={},gi=fe.ajaxSettings.xhr();e.attachEvent&&e.attachEvent("onunload",function(){for(var e in _i)_i[e](undefined,!0)}),ce.cors=!!gi&&"withCredentials"in gi,(gi=ce.ajax=!!gi)&&fe.ajaxTransport(function(t){var i;if(!t.crossDomain||ce.cors)return{send:function(n,s){var r,o=t.xhr(),a=++pi;if(o.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(r in t.xhrFields)o[r]=t.xhrFields[r];t.mimeType&&o.overrideMimeType&&o.overrideMimeType(t.mimeType),t.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(r in n)n[r]!==undefined&&o.setRequestHeader(r,n[r]+"");o.send(t.hasContent&&t.data||null),i=function(e,n){var r,l,h;if(i&&(n||4===o.readyState))if(delete _i[a],i=undefined,o.onreadystatechange=fe.noop,n)4!==o.readyState&&o.abort();else{h={},r=o.status,"string"==typeof o.responseText&&(h.text=o.responseText);try{l=o.statusText}catch(d){l=""}r||!t.isLocal||t.crossDomain?1223===r&&(r=204):r=h.text?200:404}h&&s(r,l,h,o.getAllResponseHeaders())},t.async?4===o.readyState?e.setTimeout(i):o.onreadystatechange=_i[a]=i:i()},abort:function(){i&&i(undefined,!0)}}}),fe.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return fe.globalEval(e),e}}}),fe.ajaxPrefilter("script",function(e){e.cache===undefined&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),fe.ajaxTransport("script",function(e){if(e.crossDomain){var t,i=ne.head||fe("head")[0]||ne.documentElement;return{send:function(n,s){(t=ne.createElement("script")).async=!0,e.scriptCharset&&(t.charset=e.scriptCharset),t.src=e.url,t.onload=t.onreadystatechange=function(e,i){(i||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,t.parentNode&&t.parentNode.removeChild(t),t=null,i||s(200,"success"))},i.insertBefore(t,i.firstChild)},abort:function(){t&&t.onload(undefined,!0)}}}});var mi=[],vi=/(=)\?(?=&|$)|\?\?/;fe.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=mi.pop()||fe.expando+"_"+Kt++;return this[e]=!0,e}}),fe.ajaxPrefilter("json jsonp",function(t,i,n){var s,r,o,a=!1!==t.jsonp&&(vi.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&vi.test(t.data)&&"data");if(a||"jsonp"===t.dataTypes[0])return s=t.jsonpCallback=fe.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a?t[a]=t[a].replace(vi,"$1"+s):!1!==t.jsonp&&(t.url+=(Gt.test(t.url)?"&":"?")+t.jsonp+"="+s),t.converters["script json"]=function(){return o||fe.error(s+" was not called"),o[0]},t.dataTypes[0]="json",r=e[s],e[s]=function(){o=arguments},n.always(function(){r===undefined?fe(e).removeProp(s):e[s]=r,t[s]&&(t.jsonpCallback=i.jsonpCallback,mi.push(s)),o&&fe.isFunction(r)&&r(o[0]),o=r=undefined}),"script"}),fe.parseHTML=function(e,t,i){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(i=t,t=!1),t=t||ne;var n=we.exec(e),s=!i&&[];return n?[t.createElement(n[1])]:(n=m([e],t,s),s&&s.length&&fe(s).remove(),fe.merge([],n.childNodes))};var yi=fe.fn.load;fe.fn.load=function(e,t,i){if("string"!=typeof e&&yi)return yi.apply(this,arguments);var n,s,r,o=this,a=e.indexOf(" ");return a>-1&&(n=fe.trim(e.slice(a,e.length)),e=e.slice(0,a)),fe.isFunction(t)?(i=t,t=undefined):t&&"object"==typeof t&&(s="POST"),o.length>0&&fe.ajax({url:e,type:s||"GET",dataType:"html",data:t}).done(function(e){r=arguments,o.html(n?fe("<div>").append(fe.parseHTML(e)).find(n):e)}).always(i&&function(e,t){o.each(function(){i.apply(this,r||[e.responseText,t,e])})}),this},fe.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){fe.fn[t]=function(e){return this.on(t,e)}}),fe.expr.filters.animated=function(e){return fe.grep(fe.timers,function(t){return e===t.elem}).length},fe.offset={setOffset:function(e,t,i){var n,s,r,o,a,l,h=fe.css(e,"position"),d=fe(e),c={};"static"===h&&(e.style.position="relative"),a=d.offset(),r=fe.css(e,"top"),l=fe.css(e,"left"),("absolute"===h||"fixed"===h)&&fe.inArray("auto",[r,l])>-1?(o=(n=d.position()).top,s=n.left):(o=parseFloat(r)||0,s=parseFloat(l)||0),fe.isFunction(t)&&(t=t.call(e,i,fe.extend({},a))),null!=t.top&&(c.top=t.top-a.top+o),null!=t.left&&(c.left=t.left-a.left+s),"using"in t?t.using.call(e,c):d.css(c)}},fe.fn.extend({offset:function(e){if(arguments.length)return e===undefined?this:this.each(function(t){fe.offset.setOffset(this,e,t)});var t,i,n={top:0,left:0},s=this[0],r=s&&s.ownerDocument;return r?(t=r.documentElement,fe.contains(t,s)?("undefined"!=typeof s.getBoundingClientRect&&(n=s.getBoundingClientRect()),i=te(r),{top:n.top+(i.pageYOffset||t.scrollTop)-(t.clientTop||0),left:n.left+(i.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}):n):void 0},position:function(){if(this[0]){var e,t,i={top:0,left:0},n=this[0];return"fixed"===fe.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),fe.nodeName(e[0],"html")||(i=e.offset()),i.top+=fe.css(e[0],"borderTopWidth",!0),i.left+=fe.css(e[0],"borderLeftWidth",!0)),{
top:t.top-i.top-fe.css(n,"marginTop",!0),left:t.left-i.left-fe.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&!fe.nodeName(e,"html")&&"static"===fe.css(e,"position");)e=e.offsetParent;return e||_t})}}),fe.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var i=/Y/.test(t);fe.fn[e]=function(n){return Be(this,function(e,n,s){var r=te(e);if(s===undefined)return r?t in r?r[t]:r.document.documentElement[n]:e[n];r?r.scrollTo(i?fe(r).scrollLeft():s,i?s:fe(r).scrollTop()):e[n]=s},e,n,arguments.length,null)}}),fe.each(["top","left"],function(e,t){fe.cssHooks[t]=N(ce.pixelPosition,function(e,i){if(i)return i=mt(e,t),ft.test(i)?fe(e).position()[t]+"px":i})}),fe.each({Height:"height",Width:"width"},function(e,t){fe.each({padding:"inner"+e,content:t,"":"outer"+e},function(i,n){fe.fn[n]=function(n,s){var r=arguments.length&&(i||"boolean"!=typeof n),o=i||(!0===n||!0===s?"margin":"border");return Be(this,function(t,i,n){var s;return fe.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(s=t.documentElement,Math.max(t.body["scroll"+e],s["scroll"+e],t.body["offset"+e],s["offset"+e],s["client"+e])):n===undefined?fe.css(t,i,o):fe.style(t,i,n,o)},t,r?n:undefined,r,null)}})}),fe.fn.extend({bind:function(e,t,i){return this.on(e,null,t,i)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,i,n){return this.on(t,e,i,n)},undelegate:function(e,t,i){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",i)}}),fe.fn.size=function(){return this.length},fe.fn.andSelf=fe.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return fe});var bi=e.jQuery,xi=e.$;return fe.noConflict=function(t){return e.$===fe&&(e.$=xi),t&&e.jQuery===fe&&(e.jQuery=bi),fe},t||(e.jQuery=e.$=fe),fe}),function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t(require,exports,module):e.Tether=t()}(this,function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e){var i=e.getBoundingClientRect(),n={};for(var s in i)n[s]=i[s];if(e.ownerDocument!==document){var r=e.ownerDocument.defaultView.frameElement;if(r){var o=t(r);n.top+=o.top,n.bottom+=o.top,n.left+=o.left,n.right+=o.left}}return n}function i(e){var t=(getComputedStyle(e)||{}).position,i=[];if("fixed"===t)return[e];for(var n=e;(n=n.parentNode)&&n&&1===n.nodeType;){var s=undefined;try{s=getComputedStyle(n)}catch(h){}if(void 0===s||null===s)return i.push(n),i;var r=s,o=r.overflow,a=r.overflowX,l=r.overflowY;/(auto|scroll)/.test(o+l+a)&&("absolute"!==t||["relative","absolute","fixed"].indexOf(s.position)>=0)&&i.push(n)}return i.push(e.ownerDocument.body),e.ownerDocument!==document&&i.push(e.ownerDocument.defaultView),i}function n(){k&&document.body.removeChild(k),k=null}function s(e){var i=undefined;e===document?(i=document,e=document.documentElement):i=e.ownerDocument;var n=i.documentElement,s=t(e),r=D();return s.top-=r.top,s.left-=r.left,"undefined"==typeof s.width&&(s.width=document.body.scrollWidth-s.left-s.right),"undefined"==typeof s.height&&(s.height=document.body.scrollHeight-s.top-s.bottom),s.top=s.top-n.clientTop,s.left=s.left-n.clientLeft,s.right=i.body.clientWidth-s.width-s.left,s.bottom=i.body.clientHeight-s.height-s.top,s}function r(e){return e.offsetParent||document.documentElement}function o(){if(T)return T;var e=document.createElement("div");e.style.width="100%",e.style.height="200px";var t=document.createElement("div");a(t.style,{position:"absolute",top:0,left:0,pointerEvents:"none",visibility:"hidden",width:"200px",height:"150px",overflow:"hidden"}),t.appendChild(e),document.body.appendChild(t);var i=e.offsetWidth;t.style.overflow="scroll";var n=e.offsetWidth;i===n&&(n=t.clientWidth),document.body.removeChild(t);var s=i-n;return T={width:s,height:s}}function a(){var e=arguments.length<=0||arguments[0]===undefined?{}:arguments[0],t=[];return Array.prototype.push.apply(t,arguments),t.slice(1).forEach(function(t){if(t)for(var i in t)({}).hasOwnProperty.call(t,i)&&(e[i]=t[i])}),e}function l(e,t){if("undefined"!=typeof e.classList)t.split(" ").forEach(function(t){t.trim()&&e.classList.remove(t)});else{var i=new RegExp("(^| )"+t.split(" ").join("|")+"( |$)","gi"),n=c(e).replace(i," ");u(e,n)}}function h(e,t){if("undefined"!=typeof e.classList)t.split(" ").forEach(function(t){t.trim()&&e.classList.add(t)});else{l(e,t);var i=c(e)+" "+t;u(e,i)}}function d(e,t){if("undefined"!=typeof e.classList)return e.classList.contains(t);var i=c(e);return new RegExp("(^| )"+t+"( |$)","gi").test(i)}function c(e){return e.className instanceof e.ownerDocument.defaultView.SVGAnimatedString?e.className.baseVal:e.className}function u(e,t){e.setAttribute("class",t)}function f(e,t,i){i.forEach(function(i){-1===t.indexOf(i)&&d(e,i)&&l(e,i)}),t.forEach(function(t){d(e,t)||h(e,t)})}function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _(e,t){var i=arguments.length<=2||arguments[2]===undefined?1:arguments[2];return e+i>=t&&t>=e-i}function g(){return"undefined"!=typeof performance&&"undefined"!=typeof performance.now?performance.now():+new Date}function m(){for(var e={top:0,left:0},t=arguments.length,i=Array(t),n=0;n<t;n++)i[n]=arguments[n];return i.forEach(function(t){var i=t.top,n=t.left;"string"==typeof i&&(i=parseFloat(i,10)),"string"==typeof n&&(n=parseFloat(n,10)),e.top+=i,e.left+=n}),e}function v(e,t){return"string"==typeof e.left&&-1!==e.left.indexOf("%")&&(e.left=parseFloat(e.left,10)/100*t.width),"string"==typeof e.top&&-1!==e.top.indexOf("%")&&(e.top=parseFloat(e.top,10)/100*t.height),e}function y(e,t){return"scrollParent"===t?t=e.scrollParents[0]:"window"===t&&(t=[pageXOffset,pageYOffset,innerWidth+pageXOffset,innerHeight+pageYOffset]),t===document&&(t=t.documentElement),"undefined"!=typeof t.nodeType&&function(){var e=t,i=s(t),n=i,r=getComputedStyle(t);if(t=[n.left,n.top,i.width+n.left,i.height+n.top],e.ownerDocument!==document){var o=e.ownerDocument.defaultView;t[0]+=o.pageXOffset,t[1]+=o.pageYOffset,t[2]+=o.pageXOffset,t[3]+=o.pageYOffset}$.forEach(function(e,i){"Top"===(e=e[0].toUpperCase()+e.substr(1))||"Left"===e?t[i]+=parseFloat(r["border"+e+"Width"]):t[i]-=parseFloat(r["border"+e+"Width"])})}(),t}var b=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),x=undefined;void 0===x&&(x={modules:[]});var w,k=null,E=(w=0,function(){return++w}),C={},D=function(){var e=k;e&&document.body.contains(e)||((e=document.createElement("div")).setAttribute("data-tether-id",E()),a(e.style,{top:0,left:0,position:"absolute"}),document.body.appendChild(e),k=e);var i=e.getAttribute("data-tether-id");return"undefined"==typeof C[i]&&(C[i]=t(e),A(function(){delete C[i]})),C[i]},T=null,S=[],A=function(e){S.push(e)},O=function(){for(var e=undefined;e=S.pop();)e()},N=function(){function t(){e(this,t)}return b(t,[{key:"on",value:function(e,t,i){var n=!(arguments.length<=3||arguments[3]===undefined)&&arguments[3];"undefined"==typeof this.bindings&&(this.bindings={}),"undefined"==typeof this.bindings[e]&&(this.bindings[e]=[]),this.bindings[e].push({handler:t,ctx:i,once:n})}},{key:"once",value:function(e,t,i){this.on(e,t,i,!0)}},{key:"off",value:function(e,t){if("undefined"!=typeof this.bindings&&"undefined"!=typeof this.bindings[e])if(void 0===t)delete this.bindings[e];else for(var i=0;i<this.bindings[e].length;)this.bindings[e][i].handler===t?this.bindings[e].splice(i,1):++i}},{key:"trigger",value:function(e){if("undefined"!=typeof this.bindings&&this.bindings[e]){for(var t=0,i=arguments.length,n=Array(i>1?i-1:0),s=1;s<i;s++)n[s-1]=arguments[s];for(;t<this.bindings[e].length;){var r=this.bindings[e][t],o=r.handler,a=r.ctx,l=r.once,h=a;void 0===h&&(h=this),o.apply(h,n),l?this.bindings[e].splice(t,1):++t}}}}]),t}();x.Utils={getActualBoundingClientRect:t,getScrollParents:i,getBounds:s,getOffsetParent:r,extend:a,addClass:h,removeClass:l,hasClass:d,updateClasses:f,defer:A,flush:O,uniqueId:E,Evented:N,getScrollBarSize:o,removeUtilElements:n};var I=function(){function e(e,t){var i=[],n=!0,s=!1,r=undefined;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done)&&(i.push(o.value),!t||i.length!==t);n=!0);}catch(l){s=!0,r=l}finally{try{!n&&a["return"]&&a["return"]()}finally{if(s)throw r}}return i}return function(t,i){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),M=(b=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),function(e,t,i){for(var n=!0;n;){var s=e,r=t,o=i;n=!1,null===s&&(s=Function.prototype);var a=Object.getOwnPropertyDescriptor(s,r);if(a!==undefined){if("value"in a)return a.value;var l=a.get;return l===undefined?undefined:l.call(o)}var h=Object.getPrototypeOf(s);if(null===h)return undefined;e=h,t=r,i=o,n=!0,a=h=undefined}});if(void 0===x)throw new Error("You must include the utils.js file before tether.js");var L,P,H,j,i=(Q=x.Utils).getScrollParents,r=(s=Q.getBounds,Q.getOffsetParent),h=(a=Q.extend,Q.addClass),l=Q.removeClass,o=(f=Q.updateClasses,A=Q.defer,O=Q.flush,Q.getScrollBarSize),n=Q.removeUtilElements,R=function(){if("undefined"==typeof document)return"";for(var e=document.createElement("div"),t=["transform","WebkitTransform","OTransform","MozTransform","msTransform"],i=0;i<t.length;++i){var n=t[i];if(e.style[n]!==undefined)return n}}(),z=[],F=function(){z.forEach(function(e){e.position(!1)}),O()};L=null,P=null,H=null,j=function J(){if(void 0!==P&&P>16)return P=Math.min(P-16,250),void(H=setTimeout(J,250));void 0!==L&&g()-L<10||(null!=H&&(clearTimeout(H),H=null),L=g(),F(),P=g()-L)},"undefined"!=typeof window&&"undefined"!=typeof window.addEventListener&&["resize","scroll","touchmove"].forEach(function(e){window.addEventListener(e,j)});var W={center:"center",left:"right",right:"left"},B={middle:"middle",top:"bottom",bottom:"top"},q={top:0,left:0,middle:"50%",center:"50%",bottom:"100%",right:"100%"},V=function(e,t){var i=e.left,n=e.top;return"auto"===i&&(i=W[t.left]),"auto"===n&&(n=B[t.top]),{left:i,top:n}},U=function(e){var t=e.left,i=e.top;return"undefined"!=typeof q[e.left]&&(t=q[e.left]),"undefined"!=typeof q[e.top]&&(i=q[e.top]),{left:t,top:i}},Y=function(e){var t=e.split(" "),i=I(t,2);return{top:i[0],left:i[1]}},X=Y,K=function(){function t(i){var n=this;e(this,t),M(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.position=this.position.bind(this),z.push(this),this.history=[],this.setOptions(i,!1),x.modules.forEach(function(e){"undefined"!=typeof e.initialize&&e.initialize.call(n)}),this.position()}return p(t,N),b(t,[{key:"getClass",value:function(){var e=arguments.length<=0||arguments[0]===undefined?"":arguments[0],t=this.options.classes;return void 0!==t&&t[e]?this.options.classes[e]:this.options.classPrefix?this.options.classPrefix+"-"+e:e}},{key:"setOptions",value:function(e){var t=this,n=arguments.length<=1||arguments[1]===undefined||arguments[1],s={offset:"0 0",targetOffset:"0 0",targetAttachment:"auto auto",classPrefix:"tether"};this.options=a(s,e);var r=this.options,o=r.element,l=r.target,d=r.targetModifier;if(this.element=o,this.target=l,this.targetModifier=d,"viewport"===this.target?(this.target=document.body,this.targetModifier="visible"):"scroll-handle"===this.target&&(this.target=document.body,this.targetModifier="scroll-handle"),["element","target"].forEach(function(e){if("undefined"==typeof t[e])throw new Error("Tether Error: Both element and target must be defined");"undefined"!=typeof t[e].jquery?t[e]=t[e][0]:"string"==typeof t[e]&&(t[e]=document.querySelector(t[e]))}),h(this.element,this.getClass("element")),!1!==this.options.addTargetClasses&&h(this.target,this.getClass("target")),!this.options.attachment)throw new Error("Tether Error: You must provide an attachment");this.targetAttachment=X(this.options.targetAttachment),this.attachment=X(this.options.attachment),this.offset=Y(this.options.offset),this.targetOffset=Y(this.options.targetOffset),"undefined"!=typeof this.scrollParents&&this.disable(),"scroll-handle"===this.targetModifier?this.scrollParents=[this.target]:this.scrollParents=i(this.target),!1!==this.options.enabled&&this.enable(n)}},{key:"getTargetBounds",value:function(){if("undefined"==typeof this.targetModifier)return s(this.target);if("visible"===this.targetModifier)return this.target===document.body?{top:pageYOffset,left:pageXOffset,height:innerHeight,width:innerWidth}:((o={height:(e=s(this.target)).height,width:e.width,top:e.top,left:e.left}).height=Math.min(o.height,e.height-(pageYOffset-e.top)),o.height=Math.min(o.height,e.height-(e.top+e.height-(pageYOffset+innerHeight))),o.height=Math.min(innerHeight,o.height),o.height-=2,o.width=Math.min(o.width,e.width-(pageXOffset-e.left)),o.width=Math.min(o.width,e.width-(e.left+e.width-(pageXOffset+innerWidth))),o.width=Math.min(innerWidth,o.width),o.width-=2,o.top<pageYOffset&&(o.top=pageYOffset),o.left<pageXOffset&&(o.left=pageXOffset),o);if("scroll-handle"===this.targetModifier){var e=undefined,t=this.target;t===document.body?(t=document.documentElement,e={left:pageXOffset,top:pageYOffset,height:innerHeight,width:innerWidth}):e=s(t);var i=getComputedStyle(t),n=0;(t.scrollWidth>t.clientWidth||[i.overflow,i.overflowX].indexOf("scroll")>=0||this.target!==document.body)&&(n=15);var r=e.height-parseFloat(i.borderTopWidth)-parseFloat(i.borderBottomWidth)-n,o={width:15,height:.975*r*(r/t.scrollHeight),left:e.left+e.width-parseFloat(i.borderLeftWidth)-15},a=0;r<408&&this.target===document.body&&(a=-11e-5*Math.pow(r,2)-.00727*r+22.58),this.target!==document.body&&(o.height=Math.max(o.height,24));var l=this.target.scrollTop/(t.scrollHeight-r);return o.top=l*(r-o.height-a)+e.top+parseFloat(i.borderTopWidth),this.target===document.body&&(o.height=Math.max(o.height,24)),o}}},{key:"clearCache",value:function(){this._cache={}}},{key:"cache",value:function(e,t){return"undefined"==typeof this._cache&&(this._cache={}),"undefined"==typeof this._cache[e]&&(this._cache[e]=t.call(this)),this._cache[e]}},{key:"enable",value:function(){var e=this,t=arguments.length<=0||arguments[0]===undefined||arguments[0];!1!==this.options.addTargetClasses&&h(this.target,this.getClass("enabled")),h(this.element,this.getClass("enabled")),this.enabled=!0,this.scrollParents.forEach(function(t){t!==e.target.ownerDocument&&t.addEventListener("scroll",e.position)}),t&&this.position()}},{key:"disable",value:function(){var e=this;l(this.target,this.getClass("enabled")),l(this.element,this.getClass("enabled")),this.enabled=!1,"undefined"!=typeof this.scrollParents&&this.scrollParents.forEach(function(t){t.removeEventListener("scroll",e.position)})}},{key:"destroy",value:function(){var e=this;this.disable(),z.forEach(function(t,i){t===e&&z.splice(i,1)}),0===z.length&&n()}},{key:"updateAttachClasses",value:function(e,t){var i=this;e=e||this.attachment,t=t||this.targetAttachment;var n=["left","top","bottom","right","middle","center"];"undefined"!=typeof this._addAttachClasses&&this._addAttachClasses.length&&this._addAttachClasses.splice(0,this._addAttachClasses.length),"undefined"==typeof this._addAttachClasses&&(this._addAttachClasses=[]);var s=this._addAttachClasses;e.top&&s.push(this.getClass("element-attached")+"-"+e.top),e.left&&s.push(this.getClass("element-attached")+"-"+e.left),t.top&&s.push(this.getClass("target-attached")+"-"+t.top),t.left&&s.push(this.getClass("target-attached")+"-"+t.left);var r=[];n.forEach(function(e){r.push(i.getClass("element-attached")+"-"+e),r.push(i.getClass("target-attached")+"-"+e)}),A(function(){"undefined"!=typeof i._addAttachClasses&&(f(i.element,i._addAttachClasses,r),!1!==i.options.addTargetClasses&&f(i.target,i._addAttachClasses,r),delete i._addAttachClasses)})}},{key:"position",value:function(){var e=this,t=arguments.length<=0||arguments[0]===undefined||arguments[0];if(this.enabled){this.clearCache();var i=V(this.targetAttachment,this.attachment);this.updateAttachClasses(this.attachment,i);var n=this.cache("element-bounds",function(){return s(e.element)}),a=n.width,l=n.height;if(0===a&&0===l&&"undefined"!=typeof this.lastSize){var h=this.lastSize;a=h.width,l=h.height}else this.lastSize={width:a,height:l};var d=this.cache("target-bounds",function(){return e.getTargetBounds()}),c=d,u=v(U(this.attachment),{width:a,height:l}),f=v(U(i),c),p=v(this.offset,{width:a,height:l}),_=v(this.targetOffset,c);u=m(u,p),f=m(f,_);for(var g=d.left+f.left-u.left,y=d.top+f.top-u.top,b=0;b<x.modules.length;++b){var w=x.modules[b].position.call(this,{left:g,top:y,targetAttachment:i,targetPos:d,elementPos:n,offset:u,targetOffset:f,manualOffset:p,manualTargetOffset:_,scrollbarSize:D,attachment:this.attachment});if(!1===w)return!1;void 0!==w&&"object"==typeof w&&(y=w.top,g=w.left)}var k={page:{top:y,left:g},viewport:{top:y-pageYOffset,bottom:pageYOffset-y-l+innerHeight,left:g-pageXOffset,right:pageXOffset-g-a+innerWidth}},E=this.target.ownerDocument,C=E.defaultView,D=undefined;return C.innerHeight>E.documentElement.clientHeight&&(D=this.cache("scrollbar-size",o),k.viewport.bottom-=D.height),C.innerWidth>E.documentElement.clientWidth&&(D=this.cache("scrollbar-size",o),k.viewport.right-=D.width),-1!==["","static"].indexOf(E.body.style.position)&&-1!==["","static"].indexOf(E.body.parentElement.style.position)||(k.page.bottom=E.body.scrollHeight-y-l,k.page.right=E.body.scrollWidth-g-a),"undefined"!=typeof this.options.optimizations&&!1!==this.options.optimizations.moveElement&&"undefined"==typeof this.targetModifier&&function(){var t=e.cache("target-offsetparent",function(){return r(e.target)}),i=e.cache("target-offsetparent-bounds",function(){return s(t)}),n=getComputedStyle(t),o=i,a={};if(["Top","Left","Bottom","Right"].forEach(function(e){a[e.toLowerCase()]=parseFloat(n["border"+e+"Width"])}),i.right=E.body.scrollWidth-i.left-o.width+a.right,i.bottom=E.body.scrollHeight-i.top-o.height+a.bottom,k.page.top>=i.top+a.top&&k.page.bottom>=i.bottom&&k.page.left>=i.left+a.left&&k.page.right>=i.right){var l=t.scrollTop,h=t.scrollLeft;k.offset={top:k.page.top-i.top+l-a.top,left:k.page.left-i.left+h-a.left}}}(),this.move(k),this.history.unshift(k),this.history.length>3&&this.history.pop(),t&&O(),!0}}},{key:"move",value:function(e){var t=this;if("undefined"!=typeof this.element.parentNode){var i={};for(var n in e){i[n]={};for(var s in e[n]){for(var o=!1,l=0;l<this.history.length;++l){var h=this.history[l];if("undefined"!=typeof h[n]&&!_(h[n][s],e[n][s])){o=!0;break}}o||(i[n][s]=!0)}}var d={top:"",left:"",right:"",bottom:""},c=function(e,i){if(!1!==("undefined"!=typeof t.options.optimizations?t.options.optimizations.gpu:null)){var n=undefined,s=undefined;if(e.top?(d.top=0,n=i.top):(d.bottom=0,n=-i.bottom),e.left?(d.left=0,s=i.left):(d.right=0,s=-i.right),window.matchMedia)window.matchMedia("only screen and (min-resolution: 1.3dppx)").matches||window.matchMedia("only screen and (-webkit-min-device-pixel-ratio: 1.3)").matches||(s=Math.round(s),n=Math.round(n));d[R]="translateX("+s+"px) translateY("+n+"px)","msTransform"!==R&&(d[R]+=" translateZ(0)")}else e.top?d.top=i.top+"px":d.bottom=i.bottom+"px",e.left?d.left=i.left+"px":d.right=i.right+"px"},u=!1;if((i.page.top||i.page.bottom)&&(i.page.left||i.page.right)?(d.position="absolute",c(i.page,e.page)):(i.viewport.top||i.viewport.bottom)&&(i.viewport.left||i.viewport.right)?(d.position="fixed",c(i.viewport,e.viewport)):"undefined"!=typeof i.offset&&i.offset.top&&i.offset.left?function(){d.position="absolute";var n=t.cache("target-offsetparent",function(){return r(t.target)});r(t.element)!==n&&A(function(){t.element.parentNode.removeChild(t.element),n.appendChild(t.element)}),c(i.offset,e.offset),u=!0}():(d.position="absolute",c({top:!0,left:!0},e.page)),!u)if(this.options.bodyElement)this.options.bodyElement.appendChild(this.element);else{for(var f=!0,p=this.element.parentNode;p&&1===p.nodeType&&"BODY"!==p.tagName;){if("static"!==getComputedStyle(p).position){f=!1;break}p=p.parentNode}f||(this.element.parentNode.removeChild(this.element),this.element.ownerDocument.body.appendChild(this.element))}var g={},m=!1;for(var s in d){var v=d[s];this.element.style[s]!==v&&(m=!0,g[s]=v)}m&&A(function(){a(t.element.style,g),t.trigger("repositioned")})}}}]),t}();K.modules=[],x.position=F;var G=a(K,x),a=(I=function(){function e(e,t){var i=[],n=!0,s=!1,r=undefined;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done)&&(i.push(o.value),!t||i.length!==t);n=!0);}catch(l){s=!0,r=l}finally{try{!n&&a["return"]&&a["return"]()}finally{if(s)throw r}}return i}return function(t,i){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=(Q=x.Utils).getBounds,Q.extend),$=(f=Q.updateClasses,A=Q.defer,["left","top","right","bottom"]);x.modules.push({position:function(e){var t=this,i=e.top,n=e.left,r=e.targetAttachment;if(!this.options.constraints)return!0;var o=this.cache("element-bounds",function(){return s(t.element)}),l=o.height,h=o.width;if(0===h&&0===l&&"undefined"!=typeof this.lastSize){var d=this.lastSize;h=d.width,l=d.height}var c=this.cache("target-bounds",function(){return t.getTargetBounds()}),u=c.height,p=c.width,_=[this.getClass("pinned"),this.getClass("out-of-bounds")];this.options.constraints.forEach(function(e){var t=e.outOfBoundsClass,i=e.pinnedClass;t&&_.push(t),i&&_.push(i)}),_.forEach(function(e){["left","top","right","bottom"].forEach(function(t){_.push(e+"-"+t)})});var g=[],m=a({},r),v=a({},this.attachment);return this.options.constraints.forEach(function(e){var s=e.to,o=e.attachment,a=e.pin;void 0===o&&(o="");var d=undefined,c=undefined;if(o.indexOf(" ")>=0){var f=o.split(" "),_=I(f,2);c=_[0],d=_[1]}else d=c=o;var b=y(t,s);"target"!==c&&"both"!==c||(i<b[1]&&"top"===m.top&&(i+=u,m.top="bottom"),i+l>b[3]&&"bottom"===m.top&&(i-=u,m.top="top")),"together"===c&&("top"===m.top&&("bottom"===v.top&&i<b[1]?(i+=u,m.top="bottom",i+=l,v.top="top"):"top"===v.top&&i+l>b[3]&&i-(l-u)>=b[1]&&(i-=l-u,m.top="bottom",v.top="bottom")),"bottom"===m.top&&("top"===v.top&&i+l>b[3]?(i-=u,m.top="top",i-=l,v.top="bottom"):"bottom"===v.top&&i<b[1]&&i+(2*l-u)<=b[3]&&(i+=l-u,m.top="top",v.top="top")),"middle"===m.top&&(i+l>b[3]&&"top"===v.top?(i-=l,v.top="bottom"):i<b[1]&&"bottom"===v.top&&(i+=l,v.top="top"))),"target"!==d&&"both"!==d||(n<b[0]&&"left"===m.left&&(n+=p,m.left="right"),n+h>b[2]&&"right"===m.left&&(n-=p,m.left="left")),"together"===d&&(n<b[0]&&"left"===m.left?"right"===v.left?(n+=p,m.left="right",n+=h,v.left="left"):"left"===v.left&&(n+=p,m.left="right",n-=h,v.left="right"):n+h>b[2]&&"right"===m.left?"left"===v.left?(n-=p,m.left="left",n-=h,v.left="right"):"right"===v.left&&(n-=p,m.left="left",n+=h,v.left="left"):"center"===m.left&&(n+h>b[2]&&"left"===v.left?(n-=h,v.left="right"):n<b[0]&&"right"===v.left&&(n+=h,v.left="left"))),"element"!==c&&"both"!==c||(i<b[1]&&"bottom"===v.top&&(i+=l,v.top="top"),i+l>b[3]&&"top"===v.top&&(i-=l,v.top="bottom")),"element"!==d&&"both"!==d||(n<b[0]&&("right"===v.left?(n+=h,v.left="left"):"center"===v.left&&(n+=h/2,v.left="left")),n+h>b[2]&&("left"===v.left?(n-=h,v.left="right"):"center"===v.left&&(n-=h/2,v.left="right"))),"string"==typeof a?a=a.split(",").map(function(e){return e.trim()}):!0===a&&(a=["top","left","right","bottom"]),a=a||[];var x,w,k=[],E=[];i<b[1]&&(a.indexOf("top")>=0?(i=b[1],k.push("top")):E.push("top")),i+l>b[3]&&(a.indexOf("bottom")>=0?(i=b[3]-l,k.push("bottom")):E.push("bottom")),n<b[0]&&(a.indexOf("left")>=0?(n=b[0],k.push("left")):E.push("left")),n+h>b[2]&&(a.indexOf("right")>=0?(n=b[2]-h,k.push("right")):E.push("right")),k.length&&(x=undefined,x="undefined"!=typeof t.options.pinnedClass?t.options.pinnedClass:t.getClass("pinned"),g.push(x),k.forEach(function(e){g.push(x+"-"+e)})),E.length&&(w=undefined,w="undefined"!=typeof t.options.outOfBoundsClass?t.options.outOfBoundsClass:t.getClass("out-of-bounds"),g.push(w),E.forEach(function(e){g.push(w+"-"+e)})),(k.indexOf("left")>=0||k.indexOf("right")>=0)&&(v.left=m.left=!1),(k.indexOf("top")>=0||k.indexOf("bottom")>=0)&&(v.top=m.top=!1),m.top===r.top&&m.left===r.left&&v.top===t.attachment.top&&v.left===t.attachment.left||(t.updateAttachClasses(v,m),t.trigger("update",{attachment:v,targetAttachment:m}))}),A(function(){!1!==t.options.addTargetClasses&&f(t.target,g,_),f(t.element,g,_)}),{top:i,left:n}}});var Q,s=(Q=x.Utils).getBounds,f=Q.updateClasses;A=Q.defer;x.modules.push({position:function(e){var t=this,i=e.top,n=e.left,r=this.cache("element-bounds",function(){return s(t.element)}),o=r.height,a=r.width,l=this.getTargetBounds(),h=i+o,d=n+a,c=[];i<=l.bottom&&h>=l.top&&["left","right"].forEach(function(e){var t=l[e];t!==n&&t!==d||c.push(e)}),n<=l.right&&d>=l.left&&["top","bottom"].forEach(function(e){var t=l[e];t!==i&&t!==h||c.push(e)});var u=[],p=[],_=["left","top","right","bottom"];return u.push(this.getClass("abutted")),_.forEach(function(e){u.push(t.getClass("abutted")+"-"+e)}),c.length&&p.push(this.getClass("abutted")),c.forEach(function(e){p.push(t.getClass("abutted")+"-"+e)}),A(function(){!1!==t.options.addTargetClasses&&f(t.target,p,u),f(t.element,p,u)}),!0}});I=function(){function e(e,t){var i=[],n=!0,s=!1,r=undefined;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done)&&(i.push(o.value),!t||i.length!==t);n=!0);}catch(l){s=!0,r=l}finally{try{!n&&a["return"]&&a["return"]()}finally{if(s)throw r}}return i}return function(t,i){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();return x.modules.push({position:function(e){var t=e.top,i=e.left;if(this.options.shift){var n=this.options.shift;"function"==typeof this.options.shift&&(n=this.options.shift.call(this,{top:t,left:i}));var s=undefined,r=undefined;if("string"==typeof n){(n=n.split(" "))[1]=n[1]||n[0];var o=I(n,2);s=o[0],r=o[1],s=parseFloat(s,10),r=parseFloat(r,10)}else s=n.top,r=n.left;return{top:t+=s,left:i+=r}}}}),G}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){function t(t,n){var s,r,o,a=t.nodeName.toLowerCase();return"area"===a?(r=(s=t.parentNode).name,!(!t.href||!r||"map"!==s.nodeName.toLowerCase())&&(!!(o=e("img[usemap='#"+r+"']")[0])&&i(o))):(/^(input|select|textarea|button|object)$/.test(a)?!t.disabled:"a"===a?t.href||n:n)&&i(t)}function i(t){return e.expr.filters.visible(t)&&!e(t).parents().addBack().filter(function(){return"hidden"===e.css(this,"visibility")}).length}var n,s,r,o;e.ui=e.ui||{},e.extend(e.ui,{version:"1.11.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({scrollParent:function(t){var i=this.css("position"),n="absolute"===i,s=t?/(auto|scroll|hidden)/:/(auto|scroll)/,r=this.parents().filter(function(){var t=e(this);return(!n||"static"!==t.css("position"))&&s.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==i&&r.length?r:e(this[0].ownerDocument||document)},uniqueId:(n=0,function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++n)})}),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&e(this).removeAttr("id")})}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(i){return!!e.data(i,t)}}):function(t,i,n){return!!e.data(t,n[3])},focusable:function(i){return t(i,!isNaN(e.attr(i,"tabindex")))},tabbable:function(i){var n=e.attr(i,"tabindex"),s=isNaN(n);return(s||n>=0)&&t(i,!s)}}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],function(t,i){function n(t,i,n,r){return e.each(s,function(){i-=parseFloat(e.css(t,"padding"+this))||0,n&&(i-=parseFloat(e.css(t,"border"+this+"Width"))||0),r&&(i-=parseFloat(e.css(t,"margin"+this))||0)}),i}var s="Width"===i?["Left","Right"]:["Top","Bottom"],r=i.toLowerCase(),o={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+i]=function(t){return t===undefined?o["inner"+i].call(this):this.each(function(){e(this).css(r,n(this,t)+"px")})},e.fn["outer"+i]=function(t,s){return"number"!=typeof t?o["outer"+i].call(this,t):this.each(function(){e(this).css(r,n(this,t,!0,s)+"px")})}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=(s=e.fn.removeData,function(t){return arguments.length?s.call(this,e.camelCase(t)):s.call(this)})),e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),e.fn.extend({focus:(o=e.fn.focus,function(t,i){return"number"==typeof t?this.each(function(){var n=this;setTimeout(function(){e(n).focus(),i&&i.call(n)},t)}):o.apply(this,arguments)}),disableSelection:(r="onselectstart"in document.createElement("div")?"selectstart":"mousedown",function(){return this.bind(r+".ui-disableSelection",function(e){e.preventDefault()})}),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(t){if(t!==undefined)return this.css("zIndex",t);if(this.length)for(var i,n,s=e(this[0]);s.length&&s[0]!==document;){if(("absolute"===(i=s.css("position"))||"relative"===i||"fixed"===i)&&(n=parseInt(s.css("zIndex"),10),!isNaN(n)&&0!==n))return n;s=s.parent()}return 0}}),e.ui.plugin={add:function(t,i,n){var s,r=e.ui[t].prototype;for(s in n)r.plugins[s]=r.plugins[s]||[],r.plugins[s].push([i,n[s]])},call:function(e,t,i,n){var s,r=e.plugins[t];if(r&&(n||e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType))for(s=0;s<r.length;s++)e.options[r[s][0]]&&r[s][1].apply(e.element,i)}}}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){var t,i=0,n=Array.prototype.slice;return e.cleanData=(t=e.cleanData,function(i){var n,s,r;for(r=0;null!=(s=i[r]);r++)try{(n=e._data(s,"events"))&&n.remove&&e(s).triggerHandler("remove")}catch(o){}t(i)}),e.widget=function(t,i,n){var s,r,o,a,l={},h=t.split(".")[0];return t=t.split(".")[1],s=h+"-"+t,n||(n=i,i=e.Widget),e.expr[":"][s.toLowerCase()]=function(t){return!!e.data(t,s)},e[h]=e[h]||{},r=e[h][t],o=e[h][t]=function(e,t){if(!this._createWidget)return new o(e,t);arguments.length&&this._createWidget(e,t)},e.extend(o,r,{version:n.version,_proto:e.extend({},n),_childConstructors:[]}),(a=new i).options=e.widget.extend({},a.options),e.each(n,function(t,n){var s,r;e.isFunction(n)?l[t]=(s=function(){return i.prototype[t].apply(this,arguments)},r=function(e){return i.prototype[t].apply(this,e)},function(){var e,t=this._super,i=this._superApply;return this._super=s,this._superApply=r,e=n.apply(this,arguments),this._super=t,this._superApply=i,e}):l[t]=n}),o.prototype=e.widget.extend(a,{widgetEventPrefix:r?a.widgetEventPrefix||t:t},l,{constructor:o,namespace:h,widgetName:t,widgetFullName:s}),r?(e.each(r._childConstructors,function(t,i){var n=i.prototype;e.widget(n.namespace+"."+n.widgetName,o,i._proto)}),delete r._childConstructors):i._childConstructors.push(o),e.widget.bridge(t,o),o},e.widget.extend=function(t){for(var i,s,r=n.call(arguments,1),o=0,a=r.length;o<a;o++)for(i in r[o])s=r[o][i],r[o].hasOwnProperty(i)&&s!==undefined&&(e.isPlainObject(s)?t[i]=e.isPlainObject(t[i])?e.widget.extend({},t[i],s):e.widget.extend({},s):t[i]=s);return t},e.widget.bridge=function(t,i){var s=i.prototype.widgetFullName||t;e.fn[t]=function(r){var o="string"==typeof r,a=n.call(arguments,1),l=this;return o?this.each(function(){var i,n=e.data(this,s);return"instance"===r?(l=n,!1):n?e.isFunction(n[r])&&"_"!==r.charAt(0)?(i=n[r].apply(n,a))!==n&&i!==undefined?(l=i&&i.jquery?l.pushStack(i.get()):i,!1):void 0:e.error("no such method '"+r+"' for "+t+" widget instance"):e.error("cannot call methods on "+t+" prior to initialization; attempted to call method '"+r+"'")}):(a.length&&(r=e.widget.extend.apply(null,[r].concat(a))),this.each(function(){var t=e.data(this,s);t?(t.option(r||{}),t._init&&t._init()):e.data(this,s,new i(r,this))})),l}},e.Widget=function(){},
e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,n){n=e(n||this.defaultElement||this)[0],this.element=e(n),this.uuid=i++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=e(),this.hoverable=e(),this.focusable=e(),n!==this&&(e.data(n,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===n&&this.destroy()}}),this.document=e(n.style?n.ownerDocument:n.document||n),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(t,i){var n,s,r,o=t;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof t)if(o={},t=(n=t.split(".")).shift(),n.length){for(s=o[t]=e.widget.extend({},this.options[t]),r=0;r<n.length-1;r++)s[n[r]]=s[n[r]]||{},s=s[n[r]];if(t=n.pop(),1===arguments.length)return s[t]===undefined?null:s[t];s[t]=i}else{if(1===arguments.length)return this.options[t]===undefined?null:this.options[t];o[t]=i}return this._setOptions(o),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!t),t&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(t,i,n){var s,r=this;"boolean"!=typeof t&&(n=i,i=t,t=!1),n?(i=s=e(i),this.bindings=this.bindings.add(i)):(n=i,i=this.element,s=this.widget()),e.each(n,function(n,o){function a(){if(t||!0!==r.options.disabled&&!e(this).hasClass("ui-state-disabled"))return("string"==typeof o?r[o]:o).apply(r,arguments)}"string"!=typeof o&&(a.guid=o.guid=o.guid||a.guid||e.guid++);var l=n.match(/^([\w:-]*)\s*(.*)$/),h=l[1]+r.eventNamespace,d=l[2];d?s.delegate(d,h,a):i.bind(h,a)})},_off:function(t,i){i=(i||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.unbind(i).undelegate(i),this.bindings=e(this.bindings.not(t).get()),this.focusable=e(this.focusable.not(t).get()),this.hoverable=e(this.hoverable.not(t).get())},_delay:function(e,t){function i(){return("string"==typeof e?n[e]:e).apply(n,arguments)}var n=this;return setTimeout(i,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,i,n){var s,r,o=this.options[t];if(n=n||{},(i=e.Event(i)).type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),i.target=this.element[0],r=i.originalEvent)for(s in r)s in i||(i[s]=r[s]);return this.element.trigger(i,n),!(e.isFunction(o)&&!1===o.apply(this.element[0],[i].concat(n))||i.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,i){e.Widget.prototype["_"+t]=function(n,s,r){"string"==typeof s&&(s={effect:s});var o,a=s?!0===s||"number"==typeof s?i:s.effect||i:t;"number"==typeof(s=s||{})&&(s={duration:s}),o=!e.isEmptyObject(s),s.complete=r,s.delay&&n.delay(s.delay),o&&e.effects&&e.effects.effect[a]?n[t](s):a!==t&&n[a]?n[a](s.duration,s.easing,r):n.queue(function(i){e(this)[t](),r&&r.call(n[0]),i()})}}),e.widget}),function(e){"function"==typeof define&&define.amd?define(["jquery","./core","./widget"],e):e(jQuery)}(function(e){return e.widget("ui.accordion",{version:"1.11.4",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var t=this.options;this.prevShow=this.prevHide=e(),this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist"),t.collapsible||!1!==t.active&&null!=t.active||(t.active=0),this._processPanels(),t.active<0&&(t.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():e()}},_createIcons:function(){var t=this.options.icons;t&&(e("<span>").addClass("ui-accordion-header-icon ui-icon "+t.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(t.header).addClass(t.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var e;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").removeUniqueId(),this._destroyIcons(),e=this.headers.next().removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").css("display","").removeAttr("role").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeUniqueId(),"content"!==this.options.heightStyle&&e.css("height","")},_setOption:function(e,t){"active"!==e?("event"===e&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(t)),this._super(e,t),"collapsible"!==e||t||!1!==this.options.active||this._activate(0),"icons"===e&&(this._destroyIcons(),t&&this._createIcons()),"disabled"===e&&(this.element.toggleClass("ui-state-disabled",!!t).attr("aria-disabled",t),this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!t))):this._activate(t)},_keydown:function(t){if(!t.altKey&&!t.ctrlKey){var i=e.ui.keyCode,n=this.headers.length,s=this.headers.index(t.target),r=!1;switch(t.keyCode){case i.RIGHT:case i.DOWN:r=this.headers[(s+1)%n];break;case i.LEFT:case i.UP:r=this.headers[(s-1+n)%n];break;case i.SPACE:case i.ENTER:this._eventHandler(t);break;case i.HOME:r=this.headers[0];break;case i.END:r=this.headers[n-1]}r&&(e(t.target).attr("tabIndex",-1),e(r).attr("tabIndex",0),r.focus(),t.preventDefault())}},_panelKeyDown:function(t){t.keyCode===e.ui.keyCode.UP&&t.ctrlKey&&e(t.currentTarget).prev().focus()},refresh:function(){var t=this.options;this._processPanels(),!1===t.active&&!0===t.collapsible||!this.headers.length?(t.active=!1,this.active=e()):!1===t.active?this._activate(0):this.active.length&&!e.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(t.active=!1,this.active=e()):this._activate(Math.max(0,t.active-1)):t.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){var e=this.headers,t=this.panels;this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-state-default ui-corner-all"),this.panels=this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide(),t&&(this._off(e.not(this.headers)),this._off(t.not(this.panels)))},_refresh:function(){var t,i=this.options,n=i.heightStyle,s=this.element.parent();this.active=this._findActive(i.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all"),this.active.next().addClass("ui-accordion-content-active").show(),this.headers.attr("role","tab").each(function(){var t=e(this),i=t.uniqueId().attr("id"),n=t.next(),s=n.uniqueId().attr("id");t.attr("aria-controls",s),n.attr("aria-labelledby",i)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(i.event),"fill"===n?(t=s.height(),this.element.siblings(":visible").each(function(){var i=e(this),n=i.css("position");"absolute"!==n&&"fixed"!==n&&(t-=i.outerHeight(!0))}),this.headers.each(function(){t-=e(this).outerHeight(!0)}),this.headers.next().each(function(){e(this).height(Math.max(0,t-e(this).innerHeight()+e(this).height()))}).css("overflow","auto")):"auto"===n&&(t=0,this.headers.next().each(function(){t=Math.max(t,e(this).css("height","").height())}).height(t))},_activate:function(t){var i=this._findActive(t)[0];i!==this.active[0]&&(i=i||this.active[0],this._eventHandler({target:i,currentTarget:i,preventDefault:e.noop}))},_findActive:function(t){return"number"==typeof t?this.headers.eq(t):e()},_setupEvents:function(t){var i={keydown:"_keydown"};t&&e.each(t.split(" "),function(e,t){i[t]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,i),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(t){var i=this.options,n=this.active,s=e(t.currentTarget),r=s[0]===n[0],o=r&&i.collapsible,a=o?e():s.next(),l={oldHeader:n,oldPanel:n.next(),newHeader:o?e():s,newPanel:a};t.preventDefault(),r&&!i.collapsible||!1===this._trigger("beforeActivate",t,l)||(i.active=!o&&this.headers.index(s),this.active=r?e():s,this._toggle(l),n.removeClass("ui-accordion-header-active ui-state-active"),i.icons&&n.children(".ui-accordion-header-icon").removeClass(i.icons.activeHeader).addClass(i.icons.header),r||(s.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),i.icons&&s.children(".ui-accordion-header-icon").removeClass(i.icons.header).addClass(i.icons.activeHeader),s.next().addClass("ui-accordion-content-active")))},_toggle:function(t){var i=t.newPanel,n=this.prevShow.length?this.prevShow:t.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=i,this.prevHide=n,this.options.animate?this._animate(i,n,t):(n.hide(),i.show(),this._toggleComplete(t)),n.attr({"aria-hidden":"true"}),n.prev().attr({"aria-selected":"false","aria-expanded":"false"}),i.length&&n.length?n.prev().attr({tabIndex:-1,"aria-expanded":"false"}):i.length&&this.headers.filter(function(){return 0===parseInt(e(this).attr("tabIndex"),10)}).attr("tabIndex",-1),i.attr("aria-hidden","false").prev().attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_animate:function(e,t,i){var n,s,r,o=this,a=0,l=e.css("box-sizing"),h=e.length&&(!t.length||e.index()<t.index()),d=this.options.animate||{},c=h&&d.down||d,u=function(){o._toggleComplete(i)};return"number"==typeof c&&(r=c),"string"==typeof c&&(s=c),s=s||c.easing||d.easing,r=r||c.duration||d.duration,t.length?e.length?(n=e.show().outerHeight(),t.animate(this.hideProps,{duration:r,easing:s,step:function(e,t){t.now=Math.round(e)}}),void e.hide().animate(this.showProps,{duration:r,easing:s,complete:u,step:function(e,i){i.now=Math.round(e),"height"!==i.prop?"content-box"===l&&(a+=i.now):"content"!==o.options.heightStyle&&(i.now=Math.round(n-t.outerHeight()-a),a=0)}})):t.animate(this.hideProps,r,s,u):e.animate(this.showProps,r,s,u)},_toggleComplete:function(e){var t=e.oldPanel;t.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all"),t.length&&(t.parent()[0].className=t.parent()[0].className),this._trigger("activate",null,e)}})}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){return function(){function t(e,t,i){return[parseFloat(e[0])*(f.test(e[0])?t/100:1),parseFloat(e[1])*(f.test(e[1])?i/100:1)]}function i(t,i){return parseInt(e.css(t,i),10)||0}function n(t){var i=t[0];return 9===i.nodeType?{width:t.width(),height:t.height(),offset:{top:0,left:0}}:e.isWindow(i)?{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()}}e.ui=e.ui||{};var s,r,o=Math.max,a=Math.abs,l=Math.round,h=/left|center|right/,d=/top|center|bottom/,c=/[\+\-]\d+(\.[\d]+)?%?/,u=/^\w+/,f=/%$/,p=e.fn.position;e.position={scrollbarWidth:function(){if(s!==undefined)return s;var t,i,n=e("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),r=n.children()[0];return e("body").append(n),t=r.offsetWidth,n.css("overflow","scroll"),t===(i=r.offsetWidth)&&(i=n[0].clientWidth),n.remove(),s=t-i},getScrollInfo:function(t){var i=t.isWindow||t.isDocument?"":t.element.css("overflow-x"),n=t.isWindow||t.isDocument?"":t.element.css("overflow-y"),s="scroll"===i||"auto"===i&&t.width<t.element[0].scrollWidth;return{width:"scroll"===n||"auto"===n&&t.height<t.element[0].scrollHeight?e.position.scrollbarWidth():0,height:s?e.position.scrollbarWidth():0}},getWithinInfo:function(t){var i=e(t||window),n=e.isWindow(i[0]),s=!!i[0]&&9===i[0].nodeType;return{element:i,isWindow:n,isDocument:s,offset:i.offset()||{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:n||s?i.width():i.outerWidth(),height:n||s?i.height():i.outerHeight()}}},e.fn.position=function(s){if(!s||!s.of)return p.apply(this,arguments);s=e.extend({},s);var f,_,g,m,v,y,b=e(s.of),x=e.position.getWithinInfo(s.within),w=e.position.getScrollInfo(x),k=(s.collision||"flip").split(" "),E={};return y=n(b),b[0].preventDefault&&(s.at="left top"),_=y.width,g=y.height,m=y.offset,v=e.extend({},m),e.each(["my","at"],function(){var e,t,i=(s[this]||"").split(" ");1===i.length&&(i=h.test(i[0])?i.concat(["center"]):d.test(i[0])?["center"].concat(i):["center","center"]),i[0]=h.test(i[0])?i[0]:"center",i[1]=d.test(i[1])?i[1]:"center",e=c.exec(i[0]),t=c.exec(i[1]),E[this]=[e?e[0]:0,t?t[0]:0],s[this]=[u.exec(i[0])[0],u.exec(i[1])[0]]}),1===k.length&&(k[1]=k[0]),"right"===s.at[0]?v.left+=_:"center"===s.at[0]&&(v.left+=_/2),"bottom"===s.at[1]?v.top+=g:"center"===s.at[1]&&(v.top+=g/2),f=t(E.at,_,g),v.left+=f[0],v.top+=f[1],this.each(function(){var n,h,d=e(this),c=d.outerWidth(),u=d.outerHeight(),p=i(this,"marginLeft"),y=i(this,"marginTop"),C=c+p+i(this,"marginRight")+w.width,D=u+y+i(this,"marginBottom")+w.height,T=e.extend({},v),S=t(E.my,d.outerWidth(),d.outerHeight());"right"===s.my[0]?T.left-=c:"center"===s.my[0]&&(T.left-=c/2),"bottom"===s.my[1]?T.top-=u:"center"===s.my[1]&&(T.top-=u/2),T.left+=S[0],T.top+=S[1],r||(T.left=l(T.left),T.top=l(T.top)),n={marginLeft:p,marginTop:y},e.each(["left","top"],function(t,i){e.ui.position[k[t]]&&e.ui.position[k[t]][i](T,{targetWidth:_,targetHeight:g,elemWidth:c,elemHeight:u,collisionPosition:n,collisionWidth:C,collisionHeight:D,offset:[f[0]+S[0],f[1]+S[1]],my:s.my,at:s.at,within:x,elem:d})}),s.using&&(h=function(e){var t=m.left-T.left,i=t+_-c,n=m.top-T.top,r=n+g-u,l={target:{element:b,left:m.left,top:m.top,width:_,height:g},element:{element:d,left:T.left,top:T.top,width:c,height:u},horizontal:i<0?"left":t>0?"right":"center",vertical:r<0?"top":n>0?"bottom":"middle"};_<c&&a(t+i)<_&&(l.horizontal="center"),g<u&&a(n+r)<g&&(l.vertical="middle"),o(a(t),a(i))>o(a(n),a(r))?l.important="horizontal":l.important="vertical",s.using.call(this,e,l)}),d.offset(e.extend(T,{using:h}))})},e.ui.position={fit:{left:function(e,t){var i,n=t.within,s=n.isWindow?n.scrollLeft:n.offset.left,r=n.width,a=e.left-t.collisionPosition.marginLeft,l=s-a,h=a+t.collisionWidth-r-s;t.collisionWidth>r?l>0&&h<=0?(i=e.left+l+t.collisionWidth-r-s,e.left+=l-i):e.left=h>0&&l<=0?s:l>h?s+r-t.collisionWidth:s:l>0?e.left+=l:h>0?e.left-=h:e.left=o(e.left-a,e.left)},top:function(e,t){var i,n=t.within,s=n.isWindow?n.scrollTop:n.offset.top,r=t.within.height,a=e.top-t.collisionPosition.marginTop,l=s-a,h=a+t.collisionHeight-r-s;t.collisionHeight>r?l>0&&h<=0?(i=e.top+l+t.collisionHeight-r-s,e.top+=l-i):e.top=h>0&&l<=0?s:l>h?s+r-t.collisionHeight:s:l>0?e.top+=l:h>0?e.top-=h:e.top=o(e.top-a,e.top)}},flip:{left:function(e,t){var i,n,s=t.within,r=s.offset.left+s.scrollLeft,o=s.width,l=s.isWindow?s.scrollLeft:s.offset.left,h=e.left-t.collisionPosition.marginLeft,d=h-l,c=h+t.collisionWidth-o-l,u="left"===t.my[0]?-t.elemWidth:"right"===t.my[0]?t.elemWidth:0,f="left"===t.at[0]?t.targetWidth:"right"===t.at[0]?-t.targetWidth:0,p=-2*t.offset[0];d<0?((i=e.left+u+f+p+t.collisionWidth-o-r)<0||i<a(d))&&(e.left+=u+f+p):c>0&&((n=e.left-t.collisionPosition.marginLeft+u+f+p-l)>0||a(n)<c)&&(e.left+=u+f+p)},top:function(e,t){var i,n,s=t.within,r=s.offset.top+s.scrollTop,o=s.height,l=s.isWindow?s.scrollTop:s.offset.top,h=e.top-t.collisionPosition.marginTop,d=h-l,c=h+t.collisionHeight-o-l,u="top"===t.my[1]?-t.elemHeight:"bottom"===t.my[1]?t.elemHeight:0,f="top"===t.at[1]?t.targetHeight:"bottom"===t.at[1]?-t.targetHeight:0,p=-2*t.offset[1];d<0?((n=e.top+u+f+p+t.collisionHeight-o-r)<0||n<a(d))&&(e.top+=u+f+p):c>0&&((i=e.top-t.collisionPosition.marginTop+u+f+p-l)>0||a(i)<c)&&(e.top+=u+f+p)}},flipfit:{left:function(){e.ui.position.flip.left.apply(this,arguments),e.ui.position.fit.left.apply(this,arguments)},top:function(){e.ui.position.flip.top.apply(this,arguments),e.ui.position.fit.top.apply(this,arguments)}}},function(){var t,i,n,s,o,a=document.getElementsByTagName("body")[0],l=document.createElement("div");t=document.createElement(a?"div":"body"),n={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},a&&e.extend(n,{position:"absolute",left:"-1000px",top:"-1000px"});for(o in n)t.style[o]=n[o];t.appendChild(l),(i=a||document.documentElement).insertBefore(t,i.firstChild),l.style.cssText="position: absolute; left: 10.7432222px;",s=e(l).offset().left,r=s>10&&s<11,t.innerHTML="",i.removeChild(t)}()}(),e.ui.position}),function(e){"function"==typeof define&&define.amd?define(["jquery","./core","./widget","./position"],e):e(jQuery)}(function(e){return e.widget("ui.menu",{version:"1.11.4",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},items:"> *",menus:"ul",position:{my:"left-1 top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item":function(e){e.preventDefault()},"click .ui-menu-item":function(t){var i=e(t.target);!this.mouseHandled&&i.not(".ui-state-disabled").length&&(this.select(t),t.isPropagationStopped()||(this.mouseHandled=!0),i.has(".ui-menu").length?this.expand(t):!this.element.is(":focus")&&e(this.document[0].activeElement).closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(t){if(!this.previousFilter){var i=e(t.currentTarget);i.siblings(".ui-state-active").removeClass("ui-state-active"),this.focus(t,i)}},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(e,t){var i=this.active||this.element.find(this.options.items).eq(0);t||this.focus(e,i)},blur:function(t){this._delay(function(){e.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(t)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(e){this._closeOnDocumentClick(e)&&this.collapseAll(e),this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-menu-icons ui-front").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").removeUniqueId().removeClass("ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var t=e(this);t.data("ui-menu-submenu-carat")&&t.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(t){var i,n,s,r,o=!0;switch(t.keyCode){case e.ui.keyCode.PAGE_UP:this.previousPage(t);break;case e.ui.keyCode.PAGE_DOWN:this.nextPage(t);break;case e.ui.keyCode.HOME:this._move("first","first",t);break;case e.ui.keyCode.END:this._move("last","last",t);break;case e.ui.keyCode.UP:this.previous(t);break;case e.ui.keyCode.DOWN:this.next(t);break;case e.ui.keyCode.LEFT:this.collapse(t);break;case e.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(t);break;case e.ui.keyCode.ENTER:case e.ui.keyCode.SPACE:this._activate(t);break;case e.ui.keyCode.ESCAPE:this.collapse(t);break;default:o=!1,n=this.previousFilter||"",s=String.fromCharCode(t.keyCode),r=!1,clearTimeout(this.filterTimer),s===n?r=!0:s=n+s,i=this._filterMenuItems(s),(i=r&&-1!==i.index(this.active.next())?this.active.nextAll(".ui-menu-item"):i).length||(s=String.fromCharCode(t.keyCode),i=this._filterMenuItems(s)),i.length?(this.focus(t,i),this.previousFilter=s,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter}o&&t.preventDefault()},_activate:function(e){this.active.is(".ui-state-disabled")||(this.active.is("[aria-haspopup='true']")?this.expand(e):this.select(e))},refresh:function(){var t,i=this,n=this.options.icons.submenu,s=this.element.find(this.options.menus);this.element.toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length),s.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-front").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var t=e(this),i=t.parent(),s=e("<span>").addClass("ui-menu-icon ui-icon "+n).data("ui-menu-submenu-carat",!0);i.attr("aria-haspopup","true").prepend(s),t.attr("aria-labelledby",i.attr("id"))}),(t=s.add(this.element).find(this.options.items)).not(".ui-menu-item").each(function(){var t=e(this);i._isDivider(t)&&t.addClass("ui-widget-content ui-menu-divider")}),t.not(".ui-menu-item, .ui-menu-divider").addClass("ui-menu-item").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),t.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!e.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(e,t){"icons"===e&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(t.submenu),"disabled"===e&&this.element.toggleClass("ui-state-disabled",!!t).attr("aria-disabled",t),this._super(e,t)},focus:function(e,t){var i,n;this.blur(e,e&&"focus"===e.type),this._scrollIntoView(t),this.active=t.first(),n=this.active.addClass("ui-state-focus").removeClass("ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",n.attr("id")),this.active.parent().closest(".ui-menu-item").addClass("ui-state-active"),e&&"keydown"===e.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),(i=t.children(".ui-menu")).length&&e&&/^mouse/.test(e.type)&&this._startOpening(i),this.activeMenu=t.parent(),this._trigger("focus",e,{item:t})},_scrollIntoView:function(t){var i,n,s,r,o,a;this._hasScroll()&&(i=parseFloat(e.css(this.activeMenu[0],"borderTopWidth"))||0,n=parseFloat(e.css(this.activeMenu[0],"paddingTop"))||0,s=t.offset().top-this.activeMenu.offset().top-i-n,r=this.activeMenu.scrollTop(),o=this.activeMenu.height(),a=t.outerHeight(),s<0?this.activeMenu.scrollTop(r+s):s+a>o&&this.activeMenu.scrollTop(r+s-o+a))},blur:function(e,t){t||clearTimeout(this.timer),this.active&&(this.active.removeClass("ui-state-focus"),this.active=null,this._trigger("blur",e,{item:this.active}))},_startOpening:function(e){clearTimeout(this.timer),"true"===e.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(e)},this.delay))},_open:function(t){var i=e.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(t.parents(".ui-menu")).hide().attr("aria-hidden","true"),t.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(i)},collapseAll:function(t,i){clearTimeout(this.timer),this.timer=this._delay(function(){var n=i?this.element:e(t&&t.target).closest(this.element.find(".ui-menu"));n.length||(n=this.element),this._close(n),this.blur(t),this.activeMenu=n},this.delay)},_close:function(e){e||(e=this.active?this.active.parent():this.element),e.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find(".ui-state-active").not(".ui-state-focus").removeClass("ui-state-active")},_closeOnDocumentClick:function(t){return!e(t.target).closest(".ui-menu").length},_isDivider:function(e){return!/[^\-\u2014\u2013\s]/.test(e.text())},collapse:function(e){var t=this.active&&this.active.parent().closest(".ui-menu-item",this.element);t&&t.length&&(this._close(),this.focus(e,t))},expand:function(e){var t=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();t&&t.length&&(this._open(t.parent()),this._delay(function(){this.focus(e,t)}))},next:function(e){this._move("next","first",e)},previous:function(e){this._move("prev","last",e)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(e,t,i){var n;this.active&&(n="first"===e||"last"===e?this.active["first"===e?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[e+"All"](".ui-menu-item").eq(0)),n&&n.length&&this.active||(n=this.activeMenu.find(this.options.items)[t]()),this.focus(i,n)},nextPage:function(t){var i,n,s;this.active?this.isLastItem()||(this._hasScroll()?(n=this.active.offset().top,s=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return(i=e(this)).offset().top-n-s<0}),this.focus(t,i)):this.focus(t,this.activeMenu.find(this.options.items)[this.active?"last":"first"]())):this.next(t)},previousPage:function(t){var i,n,s;this.active?this.isFirstItem()||(this._hasScroll()?(n=this.active.offset().top,s=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return(i=e(this)).offset().top-n+s>0}),this.focus(t,i)):this.focus(t,this.activeMenu.find(this.options.items).first())):this.next(t)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(t){this.active=this.active||e(t.target).closest(".ui-menu-item");var i={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(t,!0),this._trigger("select",t,i)},_filterMenuItems:function(t){var i=t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),n=new RegExp("^"+i,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return n.test(e.trim(e(this).text()))})}})}),function(e){"function"==typeof define&&define.amd?define(["jquery","./core","./widget","./position","./menu"],e):e(jQuery)}(function(e){return e.widget("ui.autocomplete",{version:"1.11.4",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var t,i,n,s=this.element[0].nodeName.toLowerCase(),r="textarea"===s,o="input"===s;this.isMultiLine=!!r||!o&&this.element.prop("isContentEditable"),this.valueMethod=this.element[r||o?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(s){if(this.element.prop("readOnly"))return t=!0,n=!0,void(i=!0);t=!1,n=!1,i=!1;var r=e.ui.keyCode;switch(s.keyCode){case r.PAGE_UP:t=!0,this._move("previousPage",s);break;case r.PAGE_DOWN:t=!0,this._move("nextPage",s);break;case r.UP:t=!0,this._keyEvent("previous",s);break;case r.DOWN:t=!0,this._keyEvent("next",s);break;case r.ENTER:this.menu.active&&(t=!0,s.preventDefault(),this.menu.select(s));break;case r.TAB:this.menu.active&&this.menu.select(s);break;case r.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(s),s.preventDefault());break;default:i=!0,this._searchTimeout(s)}},keypress:function(n){if(t)return t=!1,void(this.isMultiLine&&!this.menu.element.is(":visible")||n.preventDefault());if(!i){var s=e.ui.keyCode;switch(n.keyCode){case s.PAGE_UP:this._move("previousPage",n);break;case s.PAGE_DOWN:this._move("nextPage",n);break;case s.UP:this._keyEvent("previous",n);break;case s.DOWN:this._keyEvent("next",n)}}},input:function(e){if(n)return n=!1,void e.preventDefault();this._searchTimeout(e)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(e){this.cancelBlur?delete this.cancelBlur:(clearTimeout(this.searching),this.close(e),this._change(e))}}),this._initSource(),this.menu=e("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._on(this.menu.element,{mousedown:function(t){t.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var i=this.menu.element[0];e(t.target).closest(".ui-menu-item").length||this._delay(function(){var t=this;this.document.one("mousedown",function(n){n.target===t.element[0]||n.target===i||e.contains(i,n.target)||t.close()})})},menufocus:function(t,i){var n,s;if(this.isNewMenu&&(this.isNewMenu=!1,t.originalEvent&&/^mouse/.test(t.originalEvent.type)))return this.menu.blur(),void this.document.one("mousemove",function(){e(t.target).trigger(t.originalEvent)});s=i.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",t,{item:s})&&t.originalEvent&&/^key/.test(t.originalEvent.type)&&this._value(s.value),(n=i.item.attr("aria-label")||s.value)&&e.trim(n).length&&(this.liveRegion.children().hide(),e("<div>").text(n).appendTo(this.liveRegion))},menuselect:function(e,t){var i=t.item.data("ui-autocomplete-item"),n=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=n,this._delay(function(){this.previous=n,this.selectedItem=i})),!1!==this._trigger("select",e,{item:i})&&this._value(i.value),this.term=this._value(),this.close(e),this.selectedItem=i}}),this.liveRegion=e("<span>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(e,t){this._super(e,t),"source"===e&&this._initSource(),"appendTo"===e&&this.menu.element.appendTo(this._appendTo()),"disabled"===e&&t&&this.xhr&&this.xhr.abort()},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?e(t):this.document.find(t).eq(0)),t&&t[0]||(t=this.element.closest(".ui-front")),t.length||(t=this.document[0].body),t},_initSource:function(){var t,i,n=this;e.isArray(this.options.source)?(t=this.options.source,this.source=function(i,n){n(e.ui.autocomplete.filter(t,i.term))}):"string"==typeof this.options.source?(i=this.options.source,this.source=function(t,s){n.xhr&&n.xhr.abort(),n.xhr=e.ajax({url:i,
data:t,dataType:"json",success:function(e){s(e)},error:function(){s([])}})}):this.source=this.options.source},_searchTimeout:function(e){clearTimeout(this.searching),this.searching=this._delay(function(){var t=this.term===this._value(),i=this.menu.element.is(":visible"),n=e.altKey||e.ctrlKey||e.metaKey||e.shiftKey;t&&(!t||i||n)||(this.selectedItem=null,this.search(null,e))},this.options.delay)},search:function(e,t){return e=null!=e?e:this._value(),this.term=this._value(),e.length<this.options.minLength?this.close(t):!1!==this._trigger("search",t)?this._search(e):void 0},_search:function(e){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:e},this._response())},_response:function(){var t=++this.requestIndex;return e.proxy(function(e){t===this.requestIndex&&this.__response(e),this.pending--,this.pending||this.element.removeClass("ui-autocomplete-loading")},this)},__response:function(e){e&&(e=this._normalize(e)),this._trigger("response",null,{content:e}),!this.options.disabled&&e&&e.length&&!this.cancelSearch?(this._suggest(e),this._trigger("open")):this._close()},close:function(e){this.cancelSearch=!0,this._close(e)},_close:function(e){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",e))},_change:function(e){this.previous!==this._value()&&this._trigger("change",e,{item:this.selectedItem})},_normalize:function(t){return t.length&&t[0].label&&t[0].value?t:e.map(t,function(t){return"string"==typeof t?{label:t,value:t}:e.extend({},t,{label:t.label||t.value,value:t.value||t.label})})},_suggest:function(t){var i=this.menu.element.empty();this._renderMenu(i,t),this.isNewMenu=!0,this.menu.refresh(),i.show(),this._resizeMenu(),i.position(e.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var e=this.menu.element;e.outerWidth(Math.max(e.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(t,i){var n=this;e.each(i,function(e,i){n._renderItemData(t,i)})},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-autocomplete-item",t)},_renderItem:function(t,i){return e("<li>").text(i.label).appendTo(t)},_move:function(e,t){if(this.menu.element.is(":visible"))return this.menu.isFirstItem()&&/^previous/.test(e)||this.menu.isLastItem()&&/^next/.test(e)?(this.isMultiLine||this._value(this.term),void this.menu.blur()):void this.menu[e](t);this.search(null,t)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(e,t){this.isMultiLine&&!this.menu.element.is(":visible")||(this._move(e,t),t.preventDefault())}}),e.extend(e.ui.autocomplete,{escapeRegex:function(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(t,i){var n=new RegExp(e.ui.autocomplete.escapeRegex(i),"i");return e.grep(t,function(e){return n.test(e.label||e.value||e)})}}),e.widget("ui.autocomplete",e.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(e){return e+(e>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(t){var i;this._superApply(arguments),this.options.disabled||this.cancelSearch||(i=t&&t.length?this.options.messages.results(t.length):this.options.messages.noResults,this.liveRegion.children().hide(),e("<div>").text(i).appendTo(this.liveRegion))}}),e.ui.autocomplete}),function(e){"function"==typeof define&&define.amd?define(["jquery","./core","./widget"],e):e(jQuery)}(function(e){var t,i="ui-button ui-widget ui-state-default ui-corner-all",n="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",s=function(){var t=e(this);setTimeout(function(){t.find(":ui-button").button("refresh")},1)},r=function(t){var i=t.name,n=t.form,s=e([]);return i&&(i=i.replace(/'/g,"\\'"),s=n?e(n).find("[name='"+i+"'][type=radio]"):e("[name='"+i+"'][type=radio]",t.ownerDocument).filter(function(){return!this.form})),s};return e.widget("ui.button",{version:"1.11.4",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,s),"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var n=this,o=this.options,a="checkbox"===this.type||"radio"===this.type,l=a?"":"ui-state-active";null===o.label&&(o.label="input"===this.type?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(i).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){o.disabled||this===t&&e(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){o.disabled||e(this).removeClass(l)}).bind("click"+this.eventNamespace,function(e){o.disabled&&(e.preventDefault(),e.stopImmediatePropagation())}),this._on({focus:function(){this.buttonElement.addClass("ui-state-focus")},blur:function(){this.buttonElement.removeClass("ui-state-focus")}}),a&&this.element.bind("change"+this.eventNamespace,function(){n.refresh()}),"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(o.disabled)return!1}):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(o.disabled)return!1;e(this).addClass("ui-state-active"),n.buttonElement.attr("aria-pressed","true");var t=n.element[0];r(t).not(t).map(function(){return e(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){if(o.disabled)return!1;e(this).addClass("ui-state-active"),t=this,n.document.one("mouseup",function(){t=null})}).bind("mouseup"+this.eventNamespace,function(){if(o.disabled)return!1;e(this).removeClass("ui-state-active")}).bind("keydown"+this.eventNamespace,function(t){if(o.disabled)return!1;t.keyCode!==e.ui.keyCode.SPACE&&t.keyCode!==e.ui.keyCode.ENTER||e(this).addClass("ui-state-active")}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){e(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(t){t.keyCode===e.ui.keyCode.SPACE&&e(this).click()})),this._setOption("disabled",o.disabled),this._resetButton()},_determineButtonType:function(){var e,t,i;this.element.is("[type=checkbox]")?this.type="checkbox":this.element.is("[type=radio]")?this.type="radio":this.element.is("input")?this.type="input":this.type="button","checkbox"===this.type||"radio"===this.type?(e=this.element.parents().last(),t="label[for='"+this.element.attr("id")+"']",this.buttonElement=e.find(t),this.buttonElement.length||(e=e.length?e.siblings():this.element.siblings(),this.buttonElement=e.filter(t),this.buttonElement.length||(this.buttonElement=e.find(t))),this.element.addClass("ui-helper-hidden-accessible"),(i=this.element.is(":checked"))&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",i)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(i+" ui-state-active "+n).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(e,t){if(this._super(e,t),"disabled"===e)return this.widget().toggleClass("ui-state-disabled",!!t),this.element.prop("disabled",!!t),void(t&&("checkbox"===this.type||"radio"===this.type?this.buttonElement.removeClass("ui-state-focus"):this.buttonElement.removeClass("ui-state-focus ui-state-active")));this._resetButton()},refresh:function(){var t=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");t!==this.options.disabled&&this._setOption("disabled",t),"radio"===this.type?r(this.element[0]).each(function(){e(this).is(":checked")?e(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):e(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"!==this.type){var t=this.buttonElement.removeClass(n),i=e("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(t.empty()).text(),s=this.options.icons,r=s.primary&&s.secondary,o=[];s.primary||s.secondary?(this.options.text&&o.push("ui-button-text-icon"+(r?"s":s.primary?"-primary":"-secondary")),s.primary&&t.prepend("<span class='ui-button-icon-primary ui-icon "+s.primary+"'></span>"),s.secondary&&t.append("<span class='ui-button-icon-secondary ui-icon "+s.secondary+"'></span>"),this.options.text||(o.push(r?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||t.attr("title",e.trim(i)))):o.push("ui-button-text-only"),t.addClass(o.join(" "))}else this.options.label&&this.element.val(this.options.label)}}),e.widget("ui.buttonset",{version:"1.11.4",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(e,t){"disabled"===e&&this.buttons.button("option",e,t),this._super(e,t)},refresh:function(){var t="rtl"===this.element.css("direction"),i=this.element.find(this.options.items),n=i.filter(":ui-button");i.not(":ui-button").button(),n.button("refresh"),this.buttons=i.map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(t?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(t?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}}),e.ui.button}),function(e){"function"==typeof define&&define.amd?define(["jquery","./core"],e):e(jQuery)}(function(e){function t(e){for(var t,i;e.length&&e[0]!==document;){if(("absolute"===(t=e.css("position"))||"relative"===t||"fixed"===t)&&(i=parseInt(e.css("zIndex"),10),!isNaN(i)&&0!==i))return i;e=e.parent()}return 0}function i(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},e.extend(this._defaults,this.regional[""]),this.regional.en=e.extend(!0,{},this.regional[""]),this.regional["en-US"]=e.extend(!0,{},this.regional.en),this.dpDiv=n(e("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function n(t){var i="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return t.delegate(i,"mouseout",function(){e(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&e(this).removeClass("ui-datepicker-next-hover")}).delegate(i,"mouseover",s)}function s(){e.datepicker._isDisabledDatepicker(o.inline?o.dpDiv.parent()[0]:o.input[0])||(e(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),e(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&e(this).addClass("ui-datepicker-next-hover"))}function r(t,i){e.extend(t,i);for(var n in i)null==i[n]&&(t[n]=i[n]);return t}var o;return e.extend(e.ui,{datepicker:{version:"1.11.4"}}),e.extend(i.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(e){return r(this._defaults,e||{}),this},_attachDatepicker:function(t,i){var n,s,r;s="div"===(n=t.nodeName.toLowerCase())||"span"===n,t.id||(this.uuid+=1,t.id="dp"+this.uuid),(r=this._newInst(e(t),s)).settings=e.extend({},i||{}),"input"===n?this._connectDatepicker(t,r):s&&this._inlineDatepicker(t,r)},_newInst:function(t,i){return{id:t[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1"),input:t,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:i,dpDiv:i?n(e("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(t,i){var n=e(t);i.append=e([]),i.trigger=e([]),n.hasClass(this.markerClassName)||(this._attachments(n,i),n.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(i),e.data(t,"datepicker",i),i.settings.disabled&&this._disableDatepicker(t))},_attachments:function(t,i){var n,s,r,o=this._get(i,"appendText"),a=this._get(i,"isRTL");i.append&&i.append.remove(),o&&(i.append=e("<span class='"+this._appendClass+"'>"+o+"</span>"),t[a?"before":"after"](i.append)),t.unbind("focus",this._showDatepicker),i.trigger&&i.trigger.remove(),"focus"!==(n=this._get(i,"showOn"))&&"both"!==n||t.focus(this._showDatepicker),"button"!==n&&"both"!==n||(s=this._get(i,"buttonText"),r=this._get(i,"buttonImage"),i.trigger=e(this._get(i,"buttonImageOnly")?e("<img/>").addClass(this._triggerClass).attr({src:r,alt:s,title:s}):e("<button type='button'></button>").addClass(this._triggerClass).html(r?e("<img/>").attr({src:r,alt:s,title:s}):s)),t[a?"before":"after"](i.trigger),i.trigger.click(function(){return e.datepicker._datepickerShowing&&e.datepicker._lastInput===t[0]?e.datepicker._hideDatepicker():e.datepicker._datepickerShowing&&e.datepicker._lastInput!==t[0]?(e.datepicker._hideDatepicker(),e.datepicker._showDatepicker(t[0])):e.datepicker._showDatepicker(t[0]),!1}))},_autoSize:function(e){if(this._get(e,"autoSize")&&!e.inline){var t,i,n,s,r=new Date(2009,11,20),o=this._get(e,"dateFormat");o.match(/[DM]/)&&(t=function(e){for(i=0,n=0,s=0;s<e.length;s++)e[s].length>i&&(i=e[s].length,n=s);return n},r.setMonth(t(this._get(e,o.match(/MM/)?"monthNames":"monthNamesShort"))),r.setDate(t(this._get(e,o.match(/DD/)?"dayNames":"dayNamesShort"))+20-r.getDay())),e.input.attr("size",this._formatDate(e,r).length)}},_inlineDatepicker:function(t,i){var n=e(t);n.hasClass(this.markerClassName)||(n.addClass(this.markerClassName).append(i.dpDiv),e.data(t,"datepicker",i),this._setDate(i,this._getDefaultDate(i),!0),this._updateDatepicker(i),this._updateAlternate(i),i.settings.disabled&&this._disableDatepicker(t),i.dpDiv.css("display","block"))},_dialogDatepicker:function(t,i,n,s,o){var a,l,h,d,c,u=this._dialogInst;return u||(this.uuid+=1,a="dp"+this.uuid,this._dialogInput=e("<input type='text' id='"+a+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),e("body").append(this._dialogInput),(u=this._dialogInst=this._newInst(this._dialogInput,!1)).settings={},e.data(this._dialogInput[0],"datepicker",u)),r(u.settings,s||{}),i=i&&i.constructor===Date?this._formatDate(u,i):i,this._dialogInput.val(i),this._pos=o?o.length?o:[o.pageX,o.pageY]:null,this._pos||(l=document.documentElement.clientWidth,h=document.documentElement.clientHeight,d=document.documentElement.scrollLeft||document.body.scrollLeft,c=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[l/2-100+d,h/2-150+c]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),u.settings.onSelect=n,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),e.blockUI&&e.blockUI(this.dpDiv),e.data(this._dialogInput[0],"datepicker",u),this},_destroyDatepicker:function(t){var i,n=e(t),s=e.data(t,"datepicker");n.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),e.removeData(t,"datepicker"),"input"===i?(s.append.remove(),s.trigger.remove(),n.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):"div"!==i&&"span"!==i||n.removeClass(this.markerClassName).empty(),o===s&&(o=null))},_enableDatepicker:function(t){var i,n,s=e(t),r=e.data(t,"datepicker");s.hasClass(this.markerClassName)&&("input"===(i=t.nodeName.toLowerCase())?(t.disabled=!1,r.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):"div"!==i&&"span"!==i||((n=s.children("."+this._inlineClass)).children().removeClass("ui-state-disabled"),n.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e}))},_disableDatepicker:function(t){var i,n,s=e(t),r=e.data(t,"datepicker");s.hasClass(this.markerClassName)&&("input"===(i=t.nodeName.toLowerCase())?(t.disabled=!0,r.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):"div"!==i&&"span"!==i||((n=s.children("."+this._inlineClass)).children().addClass("ui-state-disabled"),n.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e}),this._disabledInputs[this._disabledInputs.length]=t)},_isDisabledDatepicker:function(e){if(!e)return!1;for(var t=0;t<this._disabledInputs.length;t++)if(this._disabledInputs[t]===e)return!0;return!1},_getInst:function(t){try{return e.data(t,"datepicker")}catch(i){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(t,i,n){var s,o,a,l,h=this._getInst(t);if(2===arguments.length&&"string"==typeof i)return"defaults"===i?e.extend({},e.datepicker._defaults):h?"all"===i?e.extend({},h.settings):this._get(h,i):null;s=i||{},"string"==typeof i&&((s={})[i]=n),h&&(this._curInst===h&&this._hideDatepicker(),o=this._getDateDatepicker(t,!0),a=this._getMinMaxDate(h,"min"),l=this._getMinMaxDate(h,"max"),r(h.settings,s),null!==a&&s.dateFormat!==undefined&&s.minDate===undefined&&(h.settings.minDate=this._formatDate(h,a)),null!==l&&s.dateFormat!==undefined&&s.maxDate===undefined&&(h.settings.maxDate=this._formatDate(h,l)),"disabled"in s&&(s.disabled?this._disableDatepicker(t):this._enableDatepicker(t)),this._attachments(e(t),h),this._autoSize(h),this._setDate(h,o),this._updateAlternate(h),this._updateDatepicker(h))},_changeDatepicker:function(e,t,i){this._optionDatepicker(e,t,i)},_refreshDatepicker:function(e){var t=this._getInst(e);t&&this._updateDatepicker(t)},_setDateDatepicker:function(e,t){var i=this._getInst(e);i&&(this._setDate(i,t),this._updateDatepicker(i),this._updateAlternate(i))},_getDateDatepicker:function(e,t){var i=this._getInst(e);return i&&!i.inline&&this._setDateFromField(i,t),i?this._getDate(i):null},_doKeyDown:function(t){var i,n,s,r=e.datepicker._getInst(t.target),o=!0,a=r.dpDiv.is(".ui-datepicker-rtl");if(r._keyEvent=!0,e.datepicker._datepickerShowing)switch(t.keyCode){case 9:e.datepicker._hideDatepicker(),o=!1;break;case 13:return(s=e("td."+e.datepicker._dayOverClass+":not(."+e.datepicker._currentClass+")",r.dpDiv))[0]&&e.datepicker._selectDay(t.target,r.selectedMonth,r.selectedYear,s[0]),(i=e.datepicker._get(r,"onSelect"))?(n=e.datepicker._formatDate(r),i.apply(r.input?r.input[0]:null,[n,r])):e.datepicker._hideDatepicker(),!1;case 27:e.datepicker._hideDatepicker();break;case 33:e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(r,"stepBigMonths"):-e.datepicker._get(r,"stepMonths"),"M");break;case 34:e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(r,"stepBigMonths"):+e.datepicker._get(r,"stepMonths"),"M");break;case 35:(t.ctrlKey||t.metaKey)&&e.datepicker._clearDate(t.target),o=t.ctrlKey||t.metaKey;break;case 36:(t.ctrlKey||t.metaKey)&&e.datepicker._gotoToday(t.target),o=t.ctrlKey||t.metaKey;break;case 37:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,a?1:-1,"D"),o=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(r,"stepBigMonths"):-e.datepicker._get(r,"stepMonths"),"M");break;case 38:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,-7,"D"),o=t.ctrlKey||t.metaKey;break;case 39:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,a?-1:1,"D"),o=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(r,"stepBigMonths"):+e.datepicker._get(r,"stepMonths"),"M");break;case 40:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,7,"D"),o=t.ctrlKey||t.metaKey;break;default:o=!1}else 36===t.keyCode&&t.ctrlKey?e.datepicker._showDatepicker(this):o=!1;o&&(t.preventDefault(),t.stopPropagation())},_doKeyPress:function(t){var i,n,s=e.datepicker._getInst(t.target);if(e.datepicker._get(s,"constrainInput"))return i=e.datepicker._possibleChars(e.datepicker._get(s,"dateFormat")),n=String.fromCharCode(null==t.charCode?t.keyCode:t.charCode),t.ctrlKey||t.metaKey||n<" "||!i||i.indexOf(n)>-1},_doKeyUp:function(t){var i=e.datepicker._getInst(t.target);if(i.input.val()!==i.lastVal)try{e.datepicker.parseDate(e.datepicker._get(i,"dateFormat"),i.input?i.input.val():null,e.datepicker._getFormatConfig(i))&&(e.datepicker._setDateFromField(i),e.datepicker._updateAlternate(i),e.datepicker._updateDatepicker(i))}catch(n){}return!0},_showDatepicker:function(i){var n,s,o,a,l,h,d;("input"!==(i=i.target||i).nodeName.toLowerCase()&&(i=e("input",i.parentNode)[0]),e.datepicker._isDisabledDatepicker(i)||e.datepicker._lastInput===i)||(n=e.datepicker._getInst(i),e.datepicker._curInst&&e.datepicker._curInst!==n&&(e.datepicker._curInst.dpDiv.stop(!0,!0),n&&e.datepicker._datepickerShowing&&e.datepicker._hideDatepicker(e.datepicker._curInst.input[0])),!1!==(o=(s=e.datepicker._get(n,"beforeShow"))?s.apply(i,[i,n]):{})&&(r(n.settings,o),n.lastVal=null,e.datepicker._lastInput=i,e.datepicker._setDateFromField(n),e.datepicker._inDialog&&(i.value=""),e.datepicker._pos||(e.datepicker._pos=e.datepicker._findPos(i),e.datepicker._pos[1]+=i.offsetHeight),a=!1,e(i).parents().each(function(){return!(a|="fixed"===e(this).css("position"))}),l={left:e.datepicker._pos[0],top:e.datepicker._pos[1]},e.datepicker._pos=null,n.dpDiv.empty(),n.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),e.datepicker._updateDatepicker(n),l=e.datepicker._checkOffset(n,l,a),n.dpDiv.css({position:e.datepicker._inDialog&&e.blockUI?"static":a?"fixed":"absolute",display:"none",left:l.left+"px",top:l.top+"px"}),n.inline||(h=e.datepicker._get(n,"showAnim"),d=e.datepicker._get(n,"duration"),n.dpDiv.css("z-index",t(e(i))+1),e.datepicker._datepickerShowing=!0,e.effects&&e.effects.effect[h]?n.dpDiv.show(h,e.datepicker._get(n,"showOptions"),d):n.dpDiv[h||"show"](h?d:null),e.datepicker._shouldFocusInput(n)&&n.input.focus(),e.datepicker._curInst=n)))},_updateDatepicker:function(t){this.maxRows=4,o=t,t.dpDiv.empty().append(this._generateHTML(t)),this._attachHandlers(t);var i,n=this._getNumberOfMonths(t),r=n[1],a=17,l=t.dpDiv.find("."+this._dayOverClass+" a");l.length>0&&s.apply(l.get(0)),t.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),r>1&&t.dpDiv.addClass("ui-datepicker-multi-"+r).css("width",a*r+"em"),t.dpDiv[(1!==n[0]||1!==n[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),t.dpDiv[(this._get(t,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),t===e.datepicker._curInst&&e.datepicker._datepickerShowing&&e.datepicker._shouldFocusInput(t)&&t.input.focus(),t.yearshtml&&(i=t.yearshtml,setTimeout(function(){i===t.yearshtml&&t.yearshtml&&t.dpDiv.find("select.ui-datepicker-year:first").replaceWith(t.yearshtml),i=t.yearshtml=null},0))},_shouldFocusInput:function(e){return e.input&&e.input.is(":visible")&&!e.input.is(":disabled")&&!e.input.is(":focus")},_checkOffset:function(t,i,n){var s=t.dpDiv.outerWidth(),r=t.dpDiv.outerHeight(),o=t.input?t.input.outerWidth():0,a=t.input?t.input.outerHeight():0,l=document.documentElement.clientWidth+(n?0:e(document).scrollLeft()),h=document.documentElement.clientHeight+(n?0:e(document).scrollTop());return i.left-=this._get(t,"isRTL")?s-o:0,i.left-=n&&i.left===t.input.offset().left?e(document).scrollLeft():0,i.top-=n&&i.top===t.input.offset().top+a?e(document).scrollTop():0,i.left-=Math.min(i.left,i.left+s>l&&l>s?Math.abs(i.left+s-l):0),i.top-=Math.min(i.top,i.top+r>h&&h>r?Math.abs(r+a):0),i},_findPos:function(t){for(var i,n=this._getInst(t),s=this._get(n,"isRTL");t&&("hidden"===t.type||1!==t.nodeType||e.expr.filters.hidden(t));)t=t[s?"previousSibling":"nextSibling"];return[(i=e(t).offset()).left,i.top]},_hideDatepicker:function(t){var i,n,s,r,o=this._curInst;!o||t&&o!==e.data(t,"datepicker")||this._datepickerShowing&&(i=this._get(o,"showAnim"),n=this._get(o,"duration"),s=function(){e.datepicker._tidyDialog(o)},e.effects&&(e.effects.effect[i]||e.effects[i])?o.dpDiv.hide(i,e.datepicker._get(o,"showOptions"),n,s):o.dpDiv["slideDown"===i?"slideUp":"fadeIn"===i?"fadeOut":"hide"](i?n:null,s),i||s(),this._datepickerShowing=!1,(r=this._get(o,"onClose"))&&r.apply(o.input?o.input[0]:null,[o.input?o.input.val():"",o]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),e.blockUI&&(e.unblockUI(),e("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(e){e.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(t){if(e.datepicker._curInst){var i=e(t.target),n=e.datepicker._getInst(i[0]);(i[0].id===e.datepicker._mainDivId||0!==i.parents("#"+e.datepicker._mainDivId).length||i.hasClass(e.datepicker.markerClassName)||i.closest("."+e.datepicker._triggerClass).length||!e.datepicker._datepickerShowing||e.datepicker._inDialog&&e.blockUI)&&(!i.hasClass(e.datepicker.markerClassName)||e.datepicker._curInst===n)||e.datepicker._hideDatepicker()}},_adjustDate:function(t,i,n){var s=e(t),r=this._getInst(s[0]);this._isDisabledDatepicker(s[0])||(this._adjustInstDate(r,i+("M"===n?this._get(r,"showCurrentAtPos"):0),n),this._updateDatepicker(r))},_gotoToday:function(t){var i,n=e(t),s=this._getInst(n[0]);this._get(s,"gotoCurrent")&&s.currentDay?(s.selectedDay=s.currentDay,s.drawMonth=s.selectedMonth=s.currentMonth,s.drawYear=s.selectedYear=s.currentYear):(i=new Date,s.selectedDay=i.getDate(),s.drawMonth=s.selectedMonth=i.getMonth(),s.drawYear=s.selectedYear=i.getFullYear()),this._notifyChange(s),this._adjustDate(n)},_selectMonthYear:function(t,i,n){var s=e(t),r=this._getInst(s[0]);r["selected"+("M"===n?"Month":"Year")]=r["draw"+("M"===n?"Month":"Year")]=parseInt(i.options[i.selectedIndex].value,10),this._notifyChange(r),this._adjustDate(s)},_selectDay:function(t,i,n,s){var r,o=e(t);e(s).hasClass(this._unselectableClass)||this._isDisabledDatepicker(o[0])||((r=this._getInst(o[0])).selectedDay=r.currentDay=e("a",s).html(),r.selectedMonth=r.currentMonth=i,r.selectedYear=r.currentYear=n,this._selectDate(t,this._formatDate(r,r.currentDay,r.currentMonth,r.currentYear)))},_clearDate:function(t){var i=e(t);this._selectDate(i,"")},_selectDate:function(t,i){var n,s=e(t),r=this._getInst(s[0]);i=null!=i?i:this._formatDate(r),r.input&&r.input.val(i),this._updateAlternate(r),(n=this._get(r,"onSelect"))?n.apply(r.input?r.input[0]:null,[i,r]):r.input&&r.input.trigger("change"),r.inline?this._updateDatepicker(r):(this._hideDatepicker(),this._lastInput=r.input[0],"object"!=typeof r.input[0]&&r.input.focus(),this._lastInput=null)},_updateAlternate:function(t){var i,n,s,r=this._get(t,"altField");r&&(i=this._get(t,"altFormat")||this._get(t,"dateFormat"),n=this._getDate(t),s=this.formatDate(i,n,this._getFormatConfig(t)),e(r).each(function(){e(this).val(s)}))},noWeekends:function(e){var t=e.getDay();return[t>0&&t<6,""]},iso8601Week:function(e){var t,i=new Date(e.getTime());return i.setDate(i.getDate()+4-(i.getDay()||7)),t=i.getTime(),i.setMonth(0),i.setDate(1),Math.floor(Math.round((t-i)/864e5)/7)+1},parseDate:function(t,i,n){if(null==t||null==i)throw"Invalid arguments";if(""===(i="object"==typeof i?i.toString():i+""))return null;var s,r,o,a,l=0,h=(n?n.shortYearCutoff:null)||this._defaults.shortYearCutoff,d="string"!=typeof h?h:(new Date).getFullYear()%100+parseInt(h,10),c=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,u=(n?n.dayNames:null)||this._defaults.dayNames,f=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,p=(n?n.monthNames:null)||this._defaults.monthNames,_=-1,g=-1,m=-1,v=-1,y=!1,b=function(e){var i=s+1<t.length&&t.charAt(s+1)===e;return i&&s++,i},x=function(e){var t=b(e),n="@"===e?14:"!"===e?20:"y"===e&&t?4:"o"===e?3:2,s=new RegExp("^\\d{"+("y"===e?n:1)+","+n+"}"),r=i.substring(l).match(s);if(!r)throw"Missing number at position "+l;return l+=r[0].length,parseInt(r[0],10)},w=function(t,n,s){var r=-1,o=e.map(b(t)?s:n,function(e,t){return[[t,e]]}).sort(function(e,t){return-(e[1].length-t[1].length)});if(e.each(o,function(e,t){var n=t[1];if(i.substr(l,n.length).toLowerCase()===n.toLowerCase())return r=t[0],l+=n.length,!1}),-1!==r)return r+1;throw"Unknown name at position "+l},k=function(){if(i.charAt(l)!==t.charAt(s))throw"Unexpected literal at position "+l;l++};for(s=0;s<t.length;s++)if(y)"'"!==t.charAt(s)||b("'")?k():y=!1;else switch(t.charAt(s)){case"d":m=x("d");break;case"D":w("D",c,u);break;case"o":v=x("o");break;case"m":g=x("m");break;case"M":g=w("M",f,p);break;case"y":_=x("y");break;case"@":_=(a=new Date(x("@"))).getFullYear(),g=a.getMonth()+1,m=a.getDate();break;case"!":_=(a=new Date((x("!")-this._ticksTo1970)/1e4)).getFullYear(),g=a.getMonth()+1,m=a.getDate();break;case"'":b("'")?k():y=!0;break;default:k()}if(l<i.length&&(o=i.substr(l),!/^\s+/.test(o)))throw"Extra/unparsed characters found in date: "+o;if(-1===_?_=(new Date).getFullYear():_<100&&(_+=(new Date).getFullYear()-(new Date).getFullYear()%100+(_<=d?0:-100)),v>-1)for(g=1,m=v;;){if(m<=(r=this._getDaysInMonth(_,g-1)))break;g++,m-=r}if((a=this._daylightSavingAdjust(new Date(_,g-1,m))).getFullYear()!==_||a.getMonth()+1!==g||a.getDate()!==m)throw"Invalid date";return a},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(e,t,i){if(!t)return"";var n,s=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,r=(i?i.dayNames:null)||this._defaults.dayNames,o=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,a=(i?i.monthNames:null)||this._defaults.monthNames,l=function(t){var i=n+1<e.length&&e.charAt(n+1)===t;return i&&n++,i},h=function(e,t,i){var n=""+t;if(l(e))for(;n.length<i;)n="0"+n;return n
},d=function(e,t,i,n){return l(e)?n[t]:i[t]},c="",u=!1;if(t)for(n=0;n<e.length;n++)if(u)"'"!==e.charAt(n)||l("'")?c+=e.charAt(n):u=!1;else switch(e.charAt(n)){case"d":c+=h("d",t.getDate(),2);break;case"D":c+=d("D",t.getDay(),s,r);break;case"o":c+=h("o",Math.round((new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5),3);break;case"m":c+=h("m",t.getMonth()+1,2);break;case"M":c+=d("M",t.getMonth(),o,a);break;case"y":c+=l("y")?t.getFullYear():(t.getYear()%100<10?"0":"")+t.getYear()%100;break;case"@":c+=t.getTime();break;case"!":c+=1e4*t.getTime()+this._ticksTo1970;break;case"'":l("'")?c+="'":u=!0;break;default:c+=e.charAt(n)}return c},_possibleChars:function(e){var t,i="",n=!1,s=function(i){var n=t+1<e.length&&e.charAt(t+1)===i;return n&&t++,n};for(t=0;t<e.length;t++)if(n)"'"!==e.charAt(t)||s("'")?i+=e.charAt(t):n=!1;else switch(e.charAt(t)){case"d":case"m":case"y":case"@":i+="0123456789";break;case"D":case"M":return null;case"'":s("'")?i+="'":n=!0;break;default:i+=e.charAt(t)}return i},_get:function(e,t){return e.settings[t]!==undefined?e.settings[t]:this._defaults[t]},_setDateFromField:function(e,t){if(e.input.val()!==e.lastVal){var i=this._get(e,"dateFormat"),n=e.lastVal=e.input?e.input.val():null,s=this._getDefaultDate(e),r=s,o=this._getFormatConfig(e);try{r=this.parseDate(i,n,o)||s}catch(event){n=t?"":n}e.selectedDay=r.getDate(),e.drawMonth=e.selectedMonth=r.getMonth(),e.drawYear=e.selectedYear=r.getFullYear(),e.currentDay=n?r.getDate():0,e.currentMonth=n?r.getMonth():0,e.currentYear=n?r.getFullYear():0,this._adjustInstDate(e)}},_getDefaultDate:function(e){return this._restrictMinMax(e,this._determineDate(e,this._get(e,"defaultDate"),new Date))},_determineDate:function(t,i,n){var s=function(e){var t=new Date;return t.setDate(t.getDate()+e),t},r=null==i||""===i?n:"string"==typeof i?function(i){try{return e.datepicker.parseDate(e.datepicker._get(t,"dateFormat"),i,e.datepicker._getFormatConfig(t))}catch(h){}for(var n=(i.toLowerCase().match(/^c/)?e.datepicker._getDate(t):null)||new Date,s=n.getFullYear(),r=n.getMonth(),o=n.getDate(),a=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,l=a.exec(i);l;){switch(l[2]||"d"){case"d":case"D":o+=parseInt(l[1],10);break;case"w":case"W":o+=7*parseInt(l[1],10);break;case"m":case"M":r+=parseInt(l[1],10),o=Math.min(o,e.datepicker._getDaysInMonth(s,r));break;case"y":case"Y":s+=parseInt(l[1],10),o=Math.min(o,e.datepicker._getDaysInMonth(s,r))}l=a.exec(i)}return new Date(s,r,o)}(i):"number"==typeof i?isNaN(i)?n:s(i):new Date(i.getTime());return(r=r&&"Invalid Date"===r.toString()?n:r)&&(r.setHours(0),r.setMinutes(0),r.setSeconds(0),r.setMilliseconds(0)),this._daylightSavingAdjust(r)},_daylightSavingAdjust:function(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null},_setDate:function(e,t,i){var n=!t,s=e.selectedMonth,r=e.selectedYear,o=this._restrictMinMax(e,this._determineDate(e,t,new Date));e.selectedDay=e.currentDay=o.getDate(),e.drawMonth=e.selectedMonth=e.currentMonth=o.getMonth(),e.drawYear=e.selectedYear=e.currentYear=o.getFullYear(),s===e.selectedMonth&&r===e.selectedYear||i||this._notifyChange(e),this._adjustInstDate(e),e.input&&e.input.val(n?"":this._formatDate(e))},_getDate:function(e){return!e.currentYear||e.input&&""===e.input.val()?null:this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay))},_attachHandlers:function(t){var i=this._get(t,"stepMonths"),n="#"+t.id.replace(/\\\\/g,"\\");t.dpDiv.find("[data-handler]").map(function(){var t={prev:function(){e.datepicker._adjustDate(n,-i,"M")},next:function(){e.datepicker._adjustDate(n,+i,"M")},hide:function(){e.datepicker._hideDatepicker()},today:function(){e.datepicker._gotoToday(n)},selectDay:function(){return e.datepicker._selectDay(n,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return e.datepicker._selectMonthYear(n,this,"M"),!1},selectYear:function(){return e.datepicker._selectMonthYear(n,this,"Y"),!1}};e(this).bind(this.getAttribute("data-event"),t[this.getAttribute("data-handler")])})},_generateHTML:function(e){var t,i,n,s,r,o,a,l,h,d,c,u,f,p,_,g,m,v,y,b,x,w,k,E,C,D,T,S,A,O,N,I,M,L,P,H,j,R,z,F=new Date,W=this._daylightSavingAdjust(new Date(F.getFullYear(),F.getMonth(),F.getDate())),B=this._get(e,"isRTL"),q=this._get(e,"showButtonPanel"),V=this._get(e,"hideIfNoPrevNext"),U=this._get(e,"navigationAsDateFormat"),Y=this._getNumberOfMonths(e),X=this._get(e,"showCurrentAtPos"),K=this._get(e,"stepMonths"),G=1!==Y[0]||1!==Y[1],$=this._daylightSavingAdjust(e.currentDay?new Date(e.currentYear,e.currentMonth,e.currentDay):new Date(9999,9,9)),Q=this._getMinMaxDate(e,"min"),J=this._getMinMaxDate(e,"max"),Z=e.drawMonth-X,ee=e.drawYear;if(Z<0&&(Z+=12,ee--),J)for(t=this._daylightSavingAdjust(new Date(J.getFullYear(),J.getMonth()-Y[0]*Y[1]+1,J.getDate())),t=Q&&t<Q?Q:t;this._daylightSavingAdjust(new Date(ee,Z,1))>t;)--Z<0&&(Z=11,ee--);for(e.drawMonth=Z,e.drawYear=ee,i=this._get(e,"prevText"),i=U?this.formatDate(i,this._daylightSavingAdjust(new Date(ee,Z-K,1)),this._getFormatConfig(e)):i,n=this._canAdjustMonth(e,-1,ee,Z)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(B?"e":"w")+"'>"+i+"</span></a>":V?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(B?"e":"w")+"'>"+i+"</span></a>",s=this._get(e,"nextText"),s=U?this.formatDate(s,this._daylightSavingAdjust(new Date(ee,Z+K,1)),this._getFormatConfig(e)):s,r=this._canAdjustMonth(e,1,ee,Z)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+s+"'><span class='ui-icon ui-icon-circle-triangle-"+(B?"w":"e")+"'>"+s+"</span></a>":V?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+s+"'><span class='ui-icon ui-icon-circle-triangle-"+(B?"w":"e")+"'>"+s+"</span></a>",o=this._get(e,"currentText"),a=this._get(e,"gotoCurrent")&&e.currentDay?$:W,o=U?this.formatDate(o,a,this._getFormatConfig(e)):o,l=e.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(e,"closeText")+"</button>",h=q?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(B?l:"")+(this._isInRange(e,a)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+o+"</button>":"")+(B?"":l)+"</div>":"",d=parseInt(this._get(e,"firstDay"),10),d=isNaN(d)?0:d,c=this._get(e,"showWeek"),u=this._get(e,"dayNames"),f=this._get(e,"dayNamesMin"),p=this._get(e,"monthNames"),_=this._get(e,"monthNamesShort"),g=this._get(e,"beforeShowDay"),m=this._get(e,"showOtherMonths"),v=this._get(e,"selectOtherMonths"),y=this._getDefaultDate(e),b="",w=0;w<Y[0];w++){for(k="",this.maxRows=4,E=0;E<Y[1];E++){if(C=this._daylightSavingAdjust(new Date(ee,Z,e.selectedDay)),D=" ui-corner-all",T="",G){if(T+="<div class='ui-datepicker-group",Y[1]>1)switch(E){case 0:T+=" ui-datepicker-group-first",D=" ui-corner-"+(B?"right":"left");break;case Y[1]-1:T+=" ui-datepicker-group-last",D=" ui-corner-"+(B?"left":"right");break;default:T+=" ui-datepicker-group-middle",D=""}T+="'>"}for(T+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+D+"'>"+(/all|left/.test(D)&&0===w?B?r:n:"")+(/all|right/.test(D)&&0===w?B?n:r:"")+this._generateMonthYearHeader(e,Z,ee,Q,J,w>0||E>0,p,_)+"</div><table class='ui-datepicker-calendar'><thead><tr>",S=c?"<th class='ui-datepicker-week-col'>"+this._get(e,"weekHeader")+"</th>":"",x=0;x<7;x++)A=(x+d)%7,S+="<th scope='col'"+((x+d+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+u[A]+"'>"+f[A]+"</span></th>";for(T+=S+"</tr></thead><tbody>",O=this._getDaysInMonth(ee,Z),ee===e.selectedYear&&Z===e.selectedMonth&&(e.selectedDay=Math.min(e.selectedDay,O)),N=(this._getFirstDayOfMonth(ee,Z)-d+7)%7,I=Math.ceil((N+O)/7),M=G&&this.maxRows>I?this.maxRows:I,this.maxRows=M,L=this._daylightSavingAdjust(new Date(ee,Z,1-N)),P=0;P<M;P++){for(T+="<tr>",H=c?"<td class='ui-datepicker-week-col'>"+this._get(e,"calculateWeek")(L)+"</td>":"",x=0;x<7;x++)j=g?g.apply(e.input?e.input[0]:null,[L]):[!0,""],z=(R=L.getMonth()!==Z)&&!v||!j[0]||Q&&L<Q||J&&L>J,H+="<td class='"+((x+d+6)%7>=5?" ui-datepicker-week-end":"")+(R?" ui-datepicker-other-month":"")+(L.getTime()===C.getTime()&&Z===e.selectedMonth&&e._keyEvent||y.getTime()===L.getTime()&&y.getTime()===C.getTime()?" "+this._dayOverClass:"")+(z?" "+this._unselectableClass+" ui-state-disabled":"")+(R&&!m?"":" "+j[1]+(L.getTime()===$.getTime()?" "+this._currentClass:"")+(L.getTime()===W.getTime()?" ui-datepicker-today":""))+"'"+(R&&!m||!j[2]?"":" title='"+j[2].replace(/'/g,"&#39;")+"'")+(z?"":" data-handler='selectDay' data-event='click' data-month='"+L.getMonth()+"' data-year='"+L.getFullYear()+"'")+">"+(R&&!m?"&#xa0;":z?"<span class='ui-state-default'>"+L.getDate()+"</span>":"<a class='ui-state-default"+(L.getTime()===W.getTime()?" ui-state-highlight":"")+(L.getTime()===$.getTime()?" ui-state-active":"")+(R?" ui-priority-secondary":"")+"' href='#'>"+L.getDate()+"</a>")+"</td>",L.setDate(L.getDate()+1),L=this._daylightSavingAdjust(L);T+=H+"</tr>"}++Z>11&&(Z=0,ee++),k+=T+="</tbody></table>"+(G?"</div>"+(Y[0]>0&&E===Y[1]-1?"<div class='ui-datepicker-row-break'></div>":""):"")}b+=k}return b+=h,e._keyEvent=!1,b},_generateMonthYearHeader:function(e,t,i,n,s,r,o,a){var l,h,d,c,u,f,p,_,g=this._get(e,"changeMonth"),m=this._get(e,"changeYear"),v=this._get(e,"showMonthAfterYear"),y="<div class='ui-datepicker-title'>",b="";if(r||!g)b+="<span class='ui-datepicker-month'>"+o[t]+"</span>";else{for(l=n&&n.getFullYear()===i,h=s&&s.getFullYear()===i,b+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",d=0;d<12;d++)(!l||d>=n.getMonth())&&(!h||d<=s.getMonth())&&(b+="<option value='"+d+"'"+(d===t?" selected='selected'":"")+">"+a[d]+"</option>");b+="</select>"}if(v||(y+=b+(!r&&g&&m?"":"&#xa0;")),!e.yearshtml)if(e.yearshtml="",r||!m)y+="<span class='ui-datepicker-year'>"+i+"</span>";else{for(c=this._get(e,"yearRange").split(":"),u=(new Date).getFullYear(),p=(f=function(e){var t=e.match(/c[+\-].*/)?i+parseInt(e.substring(1),10):e.match(/[+\-].*/)?u+parseInt(e,10):parseInt(e,10);return isNaN(t)?u:t})(c[0]),_=Math.max(p,f(c[1]||"")),p=n?Math.max(p,n.getFullYear()):p,_=s?Math.min(_,s.getFullYear()):_,e.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";p<=_;p++)e.yearshtml+="<option value='"+p+"'"+(p===i?" selected='selected'":"")+">"+p+"</option>";e.yearshtml+="</select>",y+=e.yearshtml,e.yearshtml=null}return y+=this._get(e,"yearSuffix"),v&&(y+=(!r&&g&&m?"":"&#xa0;")+b),y+="</div>"},_adjustInstDate:function(e,t,i){var n=e.drawYear+("Y"===i?t:0),s=e.drawMonth+("M"===i?t:0),r=Math.min(e.selectedDay,this._getDaysInMonth(n,s))+("D"===i?t:0),o=this._restrictMinMax(e,this._daylightSavingAdjust(new Date(n,s,r)));e.selectedDay=o.getDate(),e.drawMonth=e.selectedMonth=o.getMonth(),e.drawYear=e.selectedYear=o.getFullYear(),"M"!==i&&"Y"!==i||this._notifyChange(e)},_restrictMinMax:function(e,t){var i=this._getMinMaxDate(e,"min"),n=this._getMinMaxDate(e,"max"),s=i&&t<i?i:t;return n&&s>n?n:s},_notifyChange:function(e){var t=this._get(e,"onChangeMonthYear");t&&t.apply(e.input?e.input[0]:null,[e.selectedYear,e.selectedMonth+1,e])},_getNumberOfMonths:function(e){var t=this._get(e,"numberOfMonths");return null==t?[1,1]:"number"==typeof t?[1,t]:t},_getMinMaxDate:function(e,t){return this._determineDate(e,this._get(e,t+"Date"),null)},_getDaysInMonth:function(e,t){return 32-this._daylightSavingAdjust(new Date(e,t,32)).getDate()},_getFirstDayOfMonth:function(e,t){return new Date(e,t,1).getDay()},_canAdjustMonth:function(e,t,i,n){var s=this._getNumberOfMonths(e),r=this._daylightSavingAdjust(new Date(i,n+(t<0?t:s[0]*s[1]),1));return t<0&&r.setDate(this._getDaysInMonth(r.getFullYear(),r.getMonth())),this._isInRange(e,r)},_isInRange:function(e,t){var i,n,s=this._getMinMaxDate(e,"min"),r=this._getMinMaxDate(e,"max"),o=null,a=null,l=this._get(e,"yearRange");return l&&(i=l.split(":"),n=(new Date).getFullYear(),o=parseInt(i[0],10),a=parseInt(i[1],10),i[0].match(/[+\-].*/)&&(o+=n),i[1].match(/[+\-].*/)&&(a+=n)),(!s||t.getTime()>=s.getTime())&&(!r||t.getTime()<=r.getTime())&&(!o||t.getFullYear()>=o)&&(!a||t.getFullYear()<=a)},_getFormatConfig:function(e){var t=this._get(e,"shortYearCutoff");return{shortYearCutoff:t="string"!=typeof t?t:(new Date).getFullYear()%100+parseInt(t,10),dayNamesShort:this._get(e,"dayNamesShort"),dayNames:this._get(e,"dayNames"),monthNamesShort:this._get(e,"monthNamesShort"),monthNames:this._get(e,"monthNames")}},_formatDate:function(e,t,i,n){t||(e.currentDay=e.selectedDay,e.currentMonth=e.selectedMonth,e.currentYear=e.selectedYear);var s=t?"object"==typeof t?t:this._daylightSavingAdjust(new Date(n,i,t)):this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return this.formatDate(this._get(e,"dateFormat"),s,this._getFormatConfig(e))}}),e.fn.datepicker=function(t){if(!this.length)return this;e.datepicker.initialized||(e(document).mousedown(e.datepicker._checkExternalClick),e.datepicker.initialized=!0),0===e("#"+e.datepicker._mainDivId).length&&e("body").append(e.datepicker.dpDiv);var i=Array.prototype.slice.call(arguments,1);return"string"!=typeof t||"isDisabled"!==t&&"getDate"!==t&&"widget"!==t?"option"===t&&2===arguments.length&&"string"==typeof arguments[1]?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(i)):this.each(function(){"string"==typeof t?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this].concat(i)):e.datepicker._attachDatepicker(this,t)}):e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(i))},e.datepicker=new i,e.datepicker.initialized=!1,e.datepicker.uuid=(new Date).getTime(),e.datepicker.version="1.11.4",e.datepicker}),function(e){"function"==typeof define&&define.amd?define(["jquery","./widget"],e):e(jQuery)}(function(e){var t=!1;return e(document).mouseup(function(){t=!1}),e.widget("ui.mouse",{version:"1.11.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).bind("click."+this.widgetName,function(i){if(!0===e.data(i.target,t.widgetName+".preventClickEvent"))return e.removeData(i.target,t.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(i){if(!t){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(i),this._mouseDownEvent=i;var n=this,s=1===i.which,r=!("string"!=typeof this.options.cancel||!i.target.nodeName)&&e(i.target).closest(this.options.cancel).length;return!(s&&!r&&this._mouseCapture(i))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){n.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(i)&&this._mouseDelayMet(i)&&(this._mouseStarted=!1!==this._mouseStart(i),!this._mouseStarted)?(i.preventDefault(),!0):(!0===e.data(i.target,this.widgetName+".preventClickEvent")&&e.removeData(i.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return n._mouseMove(e)},this._mouseUpDelegate=function(e){return n._mouseUp(e)},this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),i.preventDefault(),t=!0,!0))}},_mouseMove:function(t){if(this._mouseMoved){if(e.ui.ie&&(!document.documentMode||document.documentMode<9)&&!t.button)return this._mouseUp(t);if(!t.which)return this._mouseUp(t)}return(t.which||t.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,t),this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(i){return this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,i.target===this._mouseDownEvent.target&&e.data(i.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(i)),t=!1,!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}),function(e){"function"==typeof define&&define.amd?define(["jquery","./core","./mouse","./widget"],e):e(jQuery)}(function(e){return e.widget("ui.draggable",e.ui.mouse,{version:"1.11.4",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._setHandleClassName(),this._mouseInit()},_setOption:function(e,t){this._super(e,t),"handle"===e&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){(this.helper||this.element).is(".ui-draggable-dragging")?this.destroyOnClear=!0:(this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._removeHandleClassName(),this._mouseDestroy())},_mouseCapture:function(t){var i=this.options;return this._blurActiveElement(t),!(this.helper||i.disabled||e(t.target).closest(".ui-resizable-handle").length>0)&&(this.handle=this._getHandle(t),!!this.handle&&(this._blockFrames(!0===i.iframeFix?"iframe":i.iframeFix),!0))},_blockFrames:function(t){this.iframeBlocks=this.document.find(t).map(function(){var t=e(this);return e("<div>").css("position","absolute").appendTo(t.parent()).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(t){var i=this.document[0];if(this.handleElement.is(t.target))try{i.activeElement&&"body"!==i.activeElement.nodeName.toLowerCase()&&e(i.activeElement).blur()}catch(n){}},_mouseStart:function(t){var i=this.options;return this.helper=this._createHelper(t),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),e.ui.ddmanager&&(e.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===e(this).css("position")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(t),this.originalPosition=this.position=this._generatePosition(t,!1),this.originalPageX=t.pageX,this.originalPageY=t.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this._setContainment(),!1===this._trigger("start",t)?(this._clear(),!1):(this._cacheHelperProportions(),e.ui.ddmanager&&!i.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this._normalizeRightBottom(),this._mouseDrag(t,!0),e.ui.ddmanager&&e.ui.ddmanager.dragStart(this,t),!0)},_refreshOffsets:function(e){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:e.pageX-this.offset.left,top:e.pageY-this.offset.top}},_mouseDrag:function(t,i){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(t,!0),this.positionAbs=this._convertPositionTo("absolute"),!i){var n=this._uiHash();if(!1===this._trigger("drag",t,n))return this._mouseUp({}),!1;this.position=n.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var i=this,n=!1;return e.ui.ddmanager&&!this.options.dropBehaviour&&(n=e.ui.ddmanager.drop(this,t)),this.dropped&&(n=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!n||"valid"===this.options.revert&&n||!0===this.options.revert||e.isFunction(this.options.revert)&&this.options.revert.call(this.element,n)?e(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){!1!==i._trigger("stop",t)&&i._clear()}):!1!==this._trigger("stop",t)&&this._clear(),!1},_mouseUp:function(t){return this._unblockFrames(),e.ui.ddmanager&&e.ui.ddmanager.dragStop(this,t),this.handleElement.is(t.target)&&this.element.focus(),e.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(t){return!this.options.handle||!!e(t.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this.handleElement.addClass("ui-draggable-handle")},_removeHandleClassName:function(){this.handleElement.removeClass("ui-draggable-handle")},_createHelper:function(t){var i=this.options,n=e.isFunction(i.helper),s=n?e(i.helper.apply(this.element[0],[t])):"clone"===i.helper?this.element.clone().removeAttr("id"):this.element;return s.parents("body").length||s.appendTo("parent"===i.appendTo?this.element[0].parentNode:i.appendTo),n&&s[0]===this.element[0]&&this._setPositionRelative(),s[0]===this.element[0]||/(fixed|absolute)/.test(s.css("position"))||s.css("position","absolute"),s},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_isRootNode:function(e){return/(html|body)/i.test(e.tagName)||e===this.document[0]},_getParentOffset:function(){var t=this.offsetParent.offset(),i=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==i&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var e=this.element.position(),t=this._isRootNode(this.scrollParent[0]);return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+(t?0:this.scrollParent.scrollTop()),left:e.left-(parseInt(this.helper.css("left"),10)||0)+(t?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,i,n,s=this.options,r=this.document[0];this.relativeContainer=null,s.containment?"window"!==s.containment?"document"!==s.containment?s.containment.constructor!==Array?("parent"===s.containment&&(s.containment=this.helper[0].parentNode),(n=(i=e(s.containment))[0])&&(t=/(scroll|auto)/.test(i.css("overflow")),this.containment=[(parseInt(i.css("borderLeftWidth"),10)||0)+(parseInt(i.css("paddingLeft"),10)||0),(parseInt(i.css("borderTopWidth"),10)||0)+(parseInt(i.css("paddingTop"),10)||0),(t?Math.max(n.scrollWidth,n.offsetWidth):n.offsetWidth)-(parseInt(i.css("borderRightWidth"),10)||0)-(parseInt(i.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(t?Math.max(n.scrollHeight,n.offsetHeight):n.offsetHeight)-(parseInt(i.css("borderBottomWidth"),10)||0)-(parseInt(i.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=i)):this.containment=s.containment:this.containment=[0,0,e(r).width()-this.helperProportions.width-this.margins.left,(e(r).height()||r.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=[e(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,e(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,e(window).scrollLeft()+e(window).width()-this.helperProportions.width-this.margins.left,e(window).scrollTop()+(e(window).height()||r.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=null},_convertPositionTo:function(e,t){t||(t=this.position);var i="absolute"===e?1:-1,n=this._isRootNode(this.scrollParent[0]);return{top:t.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.offset.scroll.top:n?0:this.offset.scroll.top)*i,left:t.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.offset.scroll.left:n?0:this.offset.scroll.left)*i}},_generatePosition:function(e,t){var i,n,s,r,o=this.options,a=this._isRootNode(this.scrollParent[0]),l=e.pageX,h=e.pageY;return a&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),t&&(this.containment&&(this.relativeContainer?(n=this.relativeContainer.offset(),i=[this.containment[0]+n.left,this.containment[1]+n.top,this.containment[2]+n.left,this.containment[3]+n.top]):i=this.containment,e.pageX-this.offset.click.left<i[0]&&(l=i[0]+this.offset.click.left),e.pageY-this.offset.click.top<i[1]&&(h=i[1]+this.offset.click.top),e.pageX-this.offset.click.left>i[2]&&(l=i[2]+this.offset.click.left),e.pageY-this.offset.click.top>i[3]&&(h=i[3]+this.offset.click.top)),o.grid&&(s=o.grid[1]?this.originalPageY+Math.round((h-this.originalPageY)/o.grid[1])*o.grid[1]:this.originalPageY,h=i?s-this.offset.click.top>=i[1]||s-this.offset.click.top>i[3]?s:s-this.offset.click.top>=i[1]?s-o.grid[1]:s+o.grid[1]:s,r=o.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/o.grid[0])*o.grid[0]:this.originalPageX,l=i?r-this.offset.click.left>=i[0]||r-this.offset.click.left>i[2]?r:r-this.offset.click.left>=i[0]?r-o.grid[0]:r+o.grid[0]:r),"y"===o.axis&&(l=this.originalPageX),"x"===o.axis&&(h=this.originalPageY)),{top:h-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:a?0:this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:a?0:this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_normalizeRightBottom:function(){"y"!==this.options.axis&&"auto"!==this.helper.css("right")&&(this.helper.width(this.helper.width()),this.helper.css("right","auto")),"x"!==this.options.axis&&"auto"!==this.helper.css("bottom")&&(this.helper.height(this.helper.height()),this.helper.css("bottom","auto"))},_trigger:function(t,i,n){return n=n||this._uiHash(),e.ui.plugin.call(this,t,[i,n,this],!0),/^(drag|start|stop)/.test(t)&&(this.positionAbs=this._convertPositionTo("absolute"),n.offset=this.positionAbs),e.Widget.prototype._trigger.call(this,t,i,n)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),e.ui.plugin.add("draggable","connectToSortable",{start:function(t,i,n){var s=e.extend({},i,{item:n.element});n.sortables=[],e(n.options.connectToSortable).each(function(){var i=e(this).sortable("instance");i&&!i.options.disabled&&(n.sortables.push(i),i.refreshPositions(),i._trigger("activate",t,s))})},stop:function(t,i,n){var s=e.extend({},i,{item:n.element});n.cancelHelperRemoval=!1,e.each(n.sortables,function(){var e=this;e.isOver?(e.isOver=0,n.cancelHelperRemoval=!0,e.cancelHelperRemoval=!1,e._storedCSS={position:e.placeholder.css("position"),top:e.placeholder.css("top"),left:e.placeholder.css("left")},e._mouseStop(t),e.options.helper=e.options._helper):(e.cancelHelperRemoval=!0,e._trigger("deactivate",t,s))})},drag:function(t,i,n){e.each(n.sortables,function(){var s=!1,r=this;r.positionAbs=n.positionAbs,r.helperProportions=n.helperProportions,r.offset.click=n.offset.click,r._intersectsWith(r.containerCache)&&(s=!0,e.each(n.sortables,function(){return this.positionAbs=n.positionAbs,this.helperProportions=n.helperProportions,this.offset.click=n.offset.click,this!==r&&this._intersectsWith(this.containerCache)&&e.contains(r.element[0],this.element[0])&&(s=!1),s})),s?(r.isOver||(r.isOver=1,n._parent=i.helper.parent(),r.currentItem=i.helper.appendTo(r.element).data("ui-sortable-item",!0),r.options._helper=r.options.helper,r.options.helper=function(){return i.helper[0]},t.target=r.currentItem[0],r._mouseCapture(t,!0),r._mouseStart(t,!0,!0),r.offset.click.top=n.offset.click.top,r.offset.click.left=n.offset.click.left,r.offset.parent.left-=n.offset.parent.left-r.offset.parent.left,r.offset.parent.top-=n.offset.parent.top-r.offset.parent.top,n._trigger("toSortable",t),n.dropped=r.element,e.each(n.sortables,function(){this.refreshPositions()}),n.currentItem=n.element,r.fromOutside=n),r.currentItem&&(r._mouseDrag(t),i.position=r.position)):r.isOver&&(r.isOver=0,r.cancelHelperRemoval=!0,r.options._revert=r.options.revert,r.options.revert=!1,r._trigger("out",t,r._uiHash(r)),r._mouseStop(t,!0),r.options.revert=r.options._revert,r.options.helper=r.options._helper,r.placeholder&&r.placeholder.remove(),i.helper.appendTo(n._parent),n._refreshOffsets(t),i.position=n._generatePosition(t,!0),n._trigger("fromSortable",t),n.dropped=!1,e.each(n.sortables,function(){this.refreshPositions()}))})}}),e.ui.plugin.add("draggable","cursor",{start:function(t,i,n){var s=e("body"),r=n.options;s.css("cursor")&&(r._cursor=s.css("cursor")),s.css("cursor",r.cursor)},stop:function(t,i,n){var s=n.options;s._cursor&&e("body").css("cursor",s._cursor)}}),e.ui.plugin.add("draggable","opacity",{start:function(t,i,n){var s=e(i.helper),r=n.options;s.css("opacity")&&(r._opacity=s.css("opacity")),s.css("opacity",r.opacity)},stop:function(t,i,n){var s=n.options;s._opacity&&e(i.helper).css("opacity",s._opacity)}}),e.ui.plugin.add("draggable","scroll",{start:function(e,t,i){i.scrollParentNotHidden||(i.scrollParentNotHidden=i.helper.scrollParent(!1)),i.scrollParentNotHidden[0]!==i.document[0]&&"HTML"!==i.scrollParentNotHidden[0].tagName&&(i.overflowOffset=i.scrollParentNotHidden.offset())},drag:function(t,i,n){var s=n.options,r=!1,o=n.scrollParentNotHidden[0],a=n.document[0];o!==a&&"HTML"!==o.tagName?(s.axis&&"x"===s.axis||(n.overflowOffset.top+o.offsetHeight-t.pageY<s.scrollSensitivity?o.scrollTop=r=o.scrollTop+s.scrollSpeed:t.pageY-n.overflowOffset.top<s.scrollSensitivity&&(o.scrollTop=r=o.scrollTop-s.scrollSpeed)),s.axis&&"y"===s.axis||(n.overflowOffset.left+o.offsetWidth-t.pageX<s.scrollSensitivity?o.scrollLeft=r=o.scrollLeft+s.scrollSpeed:t.pageX-n.overflowOffset.left<s.scrollSensitivity&&(o.scrollLeft=r=o.scrollLeft-s.scrollSpeed))):(s.axis&&"x"===s.axis||(t.pageY-e(a).scrollTop()<s.scrollSensitivity?r=e(a).scrollTop(e(a).scrollTop()-s.scrollSpeed):e(window).height()-(t.pageY-e(a).scrollTop())<s.scrollSensitivity&&(r=e(a).scrollTop(e(a).scrollTop()+s.scrollSpeed))),
s.axis&&"y"===s.axis||(t.pageX-e(a).scrollLeft()<s.scrollSensitivity?r=e(a).scrollLeft(e(a).scrollLeft()-s.scrollSpeed):e(window).width()-(t.pageX-e(a).scrollLeft())<s.scrollSensitivity&&(r=e(a).scrollLeft(e(a).scrollLeft()+s.scrollSpeed)))),!1!==r&&e.ui.ddmanager&&!s.dropBehaviour&&e.ui.ddmanager.prepareOffsets(n,t)}}),e.ui.plugin.add("draggable","snap",{start:function(t,i,n){var s=n.options;n.snapElements=[],e(s.snap.constructor!==String?s.snap.items||":data(ui-draggable)":s.snap).each(function(){var t=e(this),i=t.offset();this!==n.element[0]&&n.snapElements.push({item:this,width:t.outerWidth(),height:t.outerHeight(),top:i.top,left:i.left})})},drag:function(t,i,n){var s,r,o,a,l,h,d,c,u,f,p=n.options,_=p.snapTolerance,g=i.offset.left,m=g+n.helperProportions.width,v=i.offset.top,y=v+n.helperProportions.height;for(u=n.snapElements.length-1;u>=0;u--)h=(l=n.snapElements[u].left-n.margins.left)+n.snapElements[u].width,c=(d=n.snapElements[u].top-n.margins.top)+n.snapElements[u].height,m<l-_||g>h+_||y<d-_||v>c+_||!e.contains(n.snapElements[u].item.ownerDocument,n.snapElements[u].item)?(n.snapElements[u].snapping&&n.options.snap.release&&n.options.snap.release.call(n.element,t,e.extend(n._uiHash(),{snapItem:n.snapElements[u].item})),n.snapElements[u].snapping=!1):("inner"!==p.snapMode&&(s=Math.abs(d-y)<=_,r=Math.abs(c-v)<=_,o=Math.abs(l-m)<=_,a=Math.abs(h-g)<=_,s&&(i.position.top=n._convertPositionTo("relative",{top:d-n.helperProportions.height,left:0}).top),r&&(i.position.top=n._convertPositionTo("relative",{top:c,left:0}).top),o&&(i.position.left=n._convertPositionTo("relative",{top:0,left:l-n.helperProportions.width}).left),a&&(i.position.left=n._convertPositionTo("relative",{top:0,left:h}).left)),f=s||r||o||a,"outer"!==p.snapMode&&(s=Math.abs(d-v)<=_,r=Math.abs(c-y)<=_,o=Math.abs(l-g)<=_,a=Math.abs(h-m)<=_,s&&(i.position.top=n._convertPositionTo("relative",{top:d,left:0}).top),r&&(i.position.top=n._convertPositionTo("relative",{top:c-n.helperProportions.height,left:0}).top),o&&(i.position.left=n._convertPositionTo("relative",{top:0,left:l}).left),a&&(i.position.left=n._convertPositionTo("relative",{top:0,left:h-n.helperProportions.width}).left)),!n.snapElements[u].snapping&&(s||r||o||a||f)&&n.options.snap.snap&&n.options.snap.snap.call(n.element,t,e.extend(n._uiHash(),{snapItem:n.snapElements[u].item})),n.snapElements[u].snapping=s||r||o||a||f)}}),e.ui.plugin.add("draggable","stack",{start:function(t,i,n){var s,r=n.options,o=e.makeArray(e(r.stack)).sort(function(t,i){return(parseInt(e(t).css("zIndex"),10)||0)-(parseInt(e(i).css("zIndex"),10)||0)});o.length&&(s=parseInt(e(o[0]).css("zIndex"),10)||0,e(o).each(function(t){e(this).css("zIndex",s+t)}),this.css("zIndex",s+o.length))}}),e.ui.plugin.add("draggable","zIndex",{start:function(t,i,n){var s=e(i.helper),r=n.options;s.css("zIndex")&&(r._zIndex=s.css("zIndex")),s.css("zIndex",r.zIndex)},stop:function(t,i,n){var s=n.options;s._zIndex&&e(i.helper).css("zIndex",s._zIndex)}}),e.ui.draggable}),function(e){"function"==typeof define&&define.amd?define(["jquery","./core","./mouse","./widget"],e):e(jQuery)}(function(e){return e.widget("ui.resizable",e.ui.mouse,{version:"1.11.4",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(e){return parseInt(e,10)||0},_isNumber:function(e){return!isNaN(parseInt(e,10))},_hasScroll:function(t,i){if("hidden"===e(t).css("overflow"))return!1;var n=i&&"left"===i?"scrollLeft":"scrollTop",s=!1;return t[n]>0||(t[n]=1,s=t[n]>0,t[n]=0,s)},_create:function(){var t,i,n,s,r=this,o=this.options;if(this.element.addClass("ui-resizable"),e.extend(this,{_aspectRatio:!!o.aspectRatio,aspectRatio:o.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:o.helper||o.ghost||o.animate?o.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(e("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=o.handles||(e(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=e(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),t=this.handles.split(","),this.handles={},i=0;i<t.length;i++)n=e.trim(t[i]),(s=e("<div class='ui-resizable-handle "+("ui-resizable-"+n)+"'></div>")).css({zIndex:o.zIndex}),"se"===n&&s.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[n]=".ui-resizable-"+n,this.element.append(s);this._renderAxis=function(t){var i,n,s,o;t=t||this.element;for(i in this.handles)this.handles[i].constructor===String?this.handles[i]=this.element.children(this.handles[i]).first().show():(this.handles[i].jquery||this.handles[i].nodeType)&&(this.handles[i]=e(this.handles[i]),this._on(this.handles[i],{mousedown:r._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(n=e(this.handles[i],this.element),o=/sw|ne|nw|se|n|s/.test(i)?n.outerHeight():n.outerWidth(),s=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join(""),t.css(s,o),this._proportionallyResize()),this._handles=this._handles.add(this.handles[i])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.mouseover(function(){r.resizing||(this.className&&(s=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),r.axis=s&&s[1]?s[1]:"se")}),o.autoHide&&(this._handles.hide(),e(this.element).addClass("ui-resizable-autohide").mouseenter(function(){o.disabled||(e(this).removeClass("ui-resizable-autohide"),r._handles.show())}).mouseleave(function(){o.disabled||r.resizing||(e(this).addClass("ui-resizable-autohide"),r._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var t,i=function(t){e(t).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(i(this.element),t=this.element,this.originalElement.css({position:t.css("position"),width:t.outerWidth(),height:t.outerHeight(),top:t.css("top"),left:t.css("left")}).insertAfter(t),t.remove()),this.originalElement.css("resize",this.originalResizeStyle),i(this.originalElement),this},_mouseCapture:function(t){var i,n,s=!1;for(i in this.handles)((n=e(this.handles[i])[0])===t.target||e.contains(n,t.target))&&(s=!0);return!this.options.disabled&&s},_mouseStart:function(t){var i,n,s,r=this.options,o=this.element;return this.resizing=!0,this._renderProxy(),i=this._num(this.helper.css("left")),n=this._num(this.helper.css("top")),r.containment&&(i+=e(r.containment).scrollLeft()||0,n+=e(r.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:i,top:n},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:o.width(),height:o.height()},this.originalSize=this._helper?{width:o.outerWidth(),height:o.outerHeight()}:{width:o.width(),height:o.height()},this.sizeDiff={width:o.outerWidth()-o.width(),height:o.outerHeight()-o.height()},this.originalPosition={left:i,top:n},this.originalMousePosition={left:t.pageX,top:t.pageY},this.aspectRatio="number"==typeof r.aspectRatio?r.aspectRatio:this.originalSize.width/this.originalSize.height||1,s=e(".ui-resizable-"+this.axis).css("cursor"),e("body").css("cursor","auto"===s?this.axis+"-resize":s),o.addClass("ui-resizable-resizing"),this._propagate("start",t),!0},_mouseDrag:function(t){var i,n,s=this.originalMousePosition,r=this.axis,o=t.pageX-s.left||0,a=t.pageY-s.top||0,l=this._change[r];return this._updatePrevProperties(),!!l&&(i=l.apply(this,[t,o,a]),this._updateVirtualBoundaries(t.shiftKey),(this._aspectRatio||t.shiftKey)&&(i=this._updateRatio(i,t)),i=this._respectSize(i,t),this._updateCache(i),this._propagate("resize",t),n=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),e.isEmptyObject(n)||(this._updatePrevProperties(),this._trigger("resize",t,this.ui()),this._applyChanges()),!1)},_mouseStop:function(t){this.resizing=!1;var i,n,s,r,o,a,l,h=this.options,d=this;return this._helper&&(s=(n=(i=this._proportionallyResizeElements).length&&/textarea/i.test(i[0].nodeName))&&this._hasScroll(i[0],"left")?0:d.sizeDiff.height,r=n?0:d.sizeDiff.width,o={width:d.helper.width()-r,height:d.helper.height()-s},a=parseInt(d.element.css("left"),10)+(d.position.left-d.originalPosition.left)||null,l=parseInt(d.element.css("top"),10)+(d.position.top-d.originalPosition.top)||null,h.animate||this.element.css(e.extend(o,{top:l,left:a})),d.helper.height(d.size.height),d.helper.width(d.size.width),this._helper&&!h.animate&&this._proportionallyResize()),e("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var e={};return this.position.top!==this.prevPosition.top&&(e.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(e.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(e.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(e.height=this.size.height+"px"),this.helper.css(e),e},_updateVirtualBoundaries:function(e){var t,i,n,s,r,o=this.options;r={minWidth:this._isNumber(o.minWidth)?o.minWidth:0,maxWidth:this._isNumber(o.maxWidth)?o.maxWidth:Infinity,minHeight:this._isNumber(o.minHeight)?o.minHeight:0,maxHeight:this._isNumber(o.maxHeight)?o.maxHeight:Infinity},(this._aspectRatio||e)&&(t=r.minHeight*this.aspectRatio,n=r.minWidth/this.aspectRatio,i=r.maxHeight*this.aspectRatio,s=r.maxWidth/this.aspectRatio,t>r.minWidth&&(r.minWidth=t),n>r.minHeight&&(r.minHeight=n),i<r.maxWidth&&(r.maxWidth=i),s<r.maxHeight&&(r.maxHeight=s)),this._vBoundaries=r},_updateCache:function(e){this.offset=this.helper.offset(),this._isNumber(e.left)&&(this.position.left=e.left),this._isNumber(e.top)&&(this.position.top=e.top),this._isNumber(e.height)&&(this.size.height=e.height),this._isNumber(e.width)&&(this.size.width=e.width)},_updateRatio:function(e){var t=this.position,i=this.size,n=this.axis;return this._isNumber(e.height)?e.width=e.height*this.aspectRatio:this._isNumber(e.width)&&(e.height=e.width/this.aspectRatio),"sw"===n&&(e.left=t.left+(i.width-e.width),e.top=null),"nw"===n&&(e.top=t.top+(i.height-e.height),e.left=t.left+(i.width-e.width)),e},_respectSize:function(e){var t=this._vBoundaries,i=this.axis,n=this._isNumber(e.width)&&t.maxWidth&&t.maxWidth<e.width,s=this._isNumber(e.height)&&t.maxHeight&&t.maxHeight<e.height,r=this._isNumber(e.width)&&t.minWidth&&t.minWidth>e.width,o=this._isNumber(e.height)&&t.minHeight&&t.minHeight>e.height,a=this.originalPosition.left+this.originalSize.width,l=this.position.top+this.size.height,h=/sw|nw|w/.test(i),d=/nw|ne|n/.test(i);return r&&(e.width=t.minWidth),o&&(e.height=t.minHeight),n&&(e.width=t.maxWidth),s&&(e.height=t.maxHeight),r&&h&&(e.left=a-t.minWidth),n&&h&&(e.left=a-t.maxWidth),o&&d&&(e.top=l-t.minHeight),s&&d&&(e.top=l-t.maxHeight),e.width||e.height||e.left||!e.top?e.width||e.height||e.top||!e.left||(e.left=null):e.top=null,e},_getPaddingPlusBorderDimensions:function(e){for(var t=0,i=[],n=[e.css("borderTopWidth"),e.css("borderRightWidth"),e.css("borderBottomWidth"),e.css("borderLeftWidth")],s=[e.css("paddingTop"),e.css("paddingRight"),e.css("paddingBottom"),e.css("paddingLeft")];t<4;t++)i[t]=parseInt(n[t],10)||0,i[t]+=parseInt(s[t],10)||0;return{height:i[0]+i[2],width:i[1]+i[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var e,t=0,i=this.helper||this.element;t<this._proportionallyResizeElements.length;t++)e=this._proportionallyResizeElements[t],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(e)),e.css({height:i.height()-this.outerDimensions.height||0,width:i.width()-this.outerDimensions.width||0})},_renderProxy:function(){var t=this.element,i=this.options;this.elementOffset=t.offset(),this._helper?(this.helper=this.helper||e("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++i.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(e,t){return{width:this.originalSize.width+t}},w:function(e,t){var i=this.originalSize;return{left:this.originalPosition.left+t,width:i.width-t}},n:function(e,t,i){var n=this.originalSize;return{top:this.originalPosition.top+i,height:n.height-i}},s:function(e,t,i){return{height:this.originalSize.height+i}},se:function(t,i,n){return e.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,i,n]))},sw:function(t,i,n){return e.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,i,n]))},ne:function(t,i,n){return e.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,i,n]))},nw:function(t,i,n){return e.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,i,n]))}},_propagate:function(t,i){e.ui.plugin.call(this,t,[i,this.ui()]),"resize"!==t&&this._trigger(t,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),e.ui.plugin.add("resizable","animate",{stop:function(t){var i=e(this).resizable("instance"),n=i.options,s=i._proportionallyResizeElements,r=s.length&&/textarea/i.test(s[0].nodeName),o=r&&i._hasScroll(s[0],"left")?0:i.sizeDiff.height,a=r?0:i.sizeDiff.width,l={width:i.size.width-a,height:i.size.height-o},h=parseInt(i.element.css("left"),10)+(i.position.left-i.originalPosition.left)||null,d=parseInt(i.element.css("top"),10)+(i.position.top-i.originalPosition.top)||null;i.element.animate(e.extend(l,d&&h?{top:d,left:h}:{}),{duration:n.animateDuration,easing:n.animateEasing,step:function(){var n={width:parseInt(i.element.css("width"),10),height:parseInt(i.element.css("height"),10),top:parseInt(i.element.css("top"),10),left:parseInt(i.element.css("left"),10)};s&&s.length&&e(s[0]).css({width:n.width,height:n.height}),i._updateCache(n),i._propagate("resize",t)}})}}),e.ui.plugin.add("resizable","containment",{start:function(){var t,i,n,s,r,o,a,l=e(this).resizable("instance"),h=l.options,d=l.element,c=h.containment,u=c instanceof e?c.get(0):/parent/.test(c)?d.parent().get(0):c;u&&(l.containerElement=e(u),/document/.test(c)||c===document?(l.containerOffset={left:0,top:0},l.containerPosition={left:0,top:0},l.parentData={element:e(document),left:0,top:0,width:e(document).width(),height:e(document).height()||document.body.parentNode.scrollHeight}):(t=e(u),i=[],e(["Top","Right","Left","Bottom"]).each(function(e,n){i[e]=l._num(t.css("padding"+n))}),l.containerOffset=t.offset(),l.containerPosition=t.position(),l.containerSize={height:t.innerHeight()-i[3],width:t.innerWidth()-i[1]},n=l.containerOffset,s=l.containerSize.height,r=l.containerSize.width,o=l._hasScroll(u,"left")?u.scrollWidth:r,a=l._hasScroll(u)?u.scrollHeight:s,l.parentData={element:u,left:n.left,top:n.top,width:o,height:a}))},resize:function(t){var i,n,s,r,o=e(this).resizable("instance"),a=o.options,l=o.containerOffset,h=o.position,d=o._aspectRatio||t.shiftKey,c={top:0,left:0},u=o.containerElement,f=!0;u[0]!==document&&/static/.test(u.css("position"))&&(c=l),h.left<(o._helper?l.left:0)&&(o.size.width=o.size.width+(o._helper?o.position.left-l.left:o.position.left-c.left),d&&(o.size.height=o.size.width/o.aspectRatio,f=!1),o.position.left=a.helper?l.left:0),h.top<(o._helper?l.top:0)&&(o.size.height=o.size.height+(o._helper?o.position.top-l.top:o.position.top),d&&(o.size.width=o.size.height*o.aspectRatio,f=!1),o.position.top=o._helper?l.top:0),s=o.containerElement.get(0)===o.element.parent().get(0),r=/relative|absolute/.test(o.containerElement.css("position")),s&&r?(o.offset.left=o.parentData.left+o.position.left,o.offset.top=o.parentData.top+o.position.top):(o.offset.left=o.element.offset().left,o.offset.top=o.element.offset().top),i=Math.abs(o.sizeDiff.width+(o._helper?o.offset.left-c.left:o.offset.left-l.left)),n=Math.abs(o.sizeDiff.height+(o._helper?o.offset.top-c.top:o.offset.top-l.top)),i+o.size.width>=o.parentData.width&&(o.size.width=o.parentData.width-i,d&&(o.size.height=o.size.width/o.aspectRatio,f=!1)),n+o.size.height>=o.parentData.height&&(o.size.height=o.parentData.height-n,d&&(o.size.width=o.size.height*o.aspectRatio,f=!1)),f||(o.position.left=o.prevPosition.left,o.position.top=o.prevPosition.top,o.size.width=o.prevSize.width,o.size.height=o.prevSize.height)},stop:function(){var t=e(this).resizable("instance"),i=t.options,n=t.containerOffset,s=t.containerPosition,r=t.containerElement,o=e(t.helper),a=o.offset(),l=o.outerWidth()-t.sizeDiff.width,h=o.outerHeight()-t.sizeDiff.height;t._helper&&!i.animate&&/relative/.test(r.css("position"))&&e(this).css({left:a.left-s.left-n.left,width:l,height:h}),t._helper&&!i.animate&&/static/.test(r.css("position"))&&e(this).css({left:a.left-s.left-n.left,width:l,height:h})}}),e.ui.plugin.add("resizable","alsoResize",{start:function(){var t=e(this).resizable("instance").options;e(t.alsoResize).each(function(){var t=e(this);t.data("ui-resizable-alsoresize",{width:parseInt(t.width(),10),height:parseInt(t.height(),10),left:parseInt(t.css("left"),10),top:parseInt(t.css("top"),10)})})},resize:function(t,i){var n=e(this).resizable("instance"),s=n.options,r=n.originalSize,o=n.originalPosition,a={height:n.size.height-r.height||0,width:n.size.width-r.width||0,top:n.position.top-o.top||0,left:n.position.left-o.left||0};e(s.alsoResize).each(function(){var t=e(this),n=e(this).data("ui-resizable-alsoresize"),s={},r=t.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];e.each(r,function(e,t){var i=(n[t]||0)+(a[t]||0);i&&i>=0&&(s[t]=i||null)}),t.css(s)})},stop:function(){e(this).removeData("resizable-alsoresize")}}),e.ui.plugin.add("resizable","ghost",{start:function(){var t=e(this).resizable("instance"),i=t.options,n=t.size;t.ghost=t.originalElement.clone(),t.ghost.css({opacity:.25,display:"block",position:"relative",height:n.height,width:n.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof i.ghost?i.ghost:""),t.ghost.appendTo(t.helper)},resize:function(){var t=e(this).resizable("instance");t.ghost&&t.ghost.css({position:"relative",height:t.size.height,width:t.size.width})},stop:function(){var t=e(this).resizable("instance");t.ghost&&t.helper&&t.helper.get(0).removeChild(t.ghost.get(0))}}),e.ui.plugin.add("resizable","grid",{resize:function(){var t,i=e(this).resizable("instance"),n=i.options,s=i.size,r=i.originalSize,o=i.originalPosition,a=i.axis,l="number"==typeof n.grid?[n.grid,n.grid]:n.grid,h=l[0]||1,d=l[1]||1,c=Math.round((s.width-r.width)/h)*h,u=Math.round((s.height-r.height)/d)*d,f=r.width+c,p=r.height+u,_=n.maxWidth&&n.maxWidth<f,g=n.maxHeight&&n.maxHeight<p,m=n.minWidth&&n.minWidth>f,v=n.minHeight&&n.minHeight>p;n.grid=l,m&&(f+=h),v&&(p+=d),_&&(f-=h),g&&(p-=d),/^(se|s|e)$/.test(a)?(i.size.width=f,i.size.height=p):/^(ne)$/.test(a)?(i.size.width=f,i.size.height=p,i.position.top=o.top-u):/^(sw)$/.test(a)?(i.size.width=f,i.size.height=p,i.position.left=o.left-c):((p-d<=0||f-h<=0)&&(t=i._getPaddingPlusBorderDimensions(this)),p-d>0?(i.size.height=p,i.position.top=o.top-u):(p=d-t.height,i.size.height=p,i.position.top=o.top+r.height-p),f-h>0?(i.size.width=f,i.position.left=o.left-c):(f=h-t.width,i.size.width=f,i.position.left=o.left+r.width-f))}}),e.ui.resizable}),function(e){"function"==typeof define&&define.amd?define(["jquery","./core","./widget","./button","./draggable","./mouse","./position","./resizable"],e):e(jQuery)}(function(e){return e.widget("ui.dialog",{version:"1.11.4",options:{appendTo:"body",autoOpen:!0,buttons:[],closeOnEscape:!0,closeText:"Close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(t){var i=e(this).css(t).offset().top;i<0&&e(this).css("top",t.top-i)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),this.options.title=this.options.title||this.originalTitle,this._createWrapper(),this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&e.fn.draggable&&this._makeDraggable(),this.options.resizable&&e.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var t=this.options.appendTo;return t&&(t.jquery||t.nodeType)?e(t):this.document.find(t||"body").eq(0)},_destroy:function(){var e,t=this.originalPosition;this._untrackInstance(),this._destroyOverlay(),this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach(),this.uiDialog.stop(!0,!0).remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),(e=t.parent.children().eq(t.index)).length&&e[0]!==this.element[0]?e.before(this.element):t.parent.append(this.element)},widget:function(){return this.uiDialog},disable:e.noop,enable:e.noop,close:function(t){var i,n=this;if(this._isOpen&&!1!==this._trigger("beforeClose",t)){if(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),!this.opener.filter(":focusable").focus().length)try{(i=this.document[0].activeElement)&&"body"!==i.nodeName.toLowerCase()&&e(i).blur()}catch(s){}this._hide(this.uiDialog,this.options.hide,function(){n._trigger("close",t)})}},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(t,i){var n=!1,s=this.uiDialog.siblings(".ui-front:visible").map(function(){return+e(this).css("z-index")}).get(),r=Math.max.apply(null,s);return r>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",r+1),n=!0),n&&!i&&this._trigger("focus",t),n},open:function(){var t=this;this._isOpen?this._moveToTop()&&this._focusTabbable():(this._isOpen=!0,this.opener=e(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){t._focusTabbable(),t._trigger("focus")}),this._makeFocusTarget(),this._trigger("open"))},_focusTabbable:function(){var e=this._focusedElement;e||(e=this.element.find("[autofocus]")),e.length||(e=this.element.find(":tabbable")),e.length||(e=this.uiDialogButtonPane.find(":tabbable")),e.length||(e=this.uiDialogTitlebarClose.filter(":tabbable")),e.length||(e=this.uiDialog),e.eq(0).focus()},_keepFocus:function(t){function i(){var t=this.document[0].activeElement;this.uiDialog[0]===t||e.contains(this.uiDialog[0],t)||this._focusTabbable()}t.preventDefault(),i.call(this),this._delay(i)},_createWrapper:function(){this.uiDialog=e("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+this.options.dialogClass).hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._on(this.uiDialog,{keydown:function(t){if(this.options.closeOnEscape&&!t.isDefaultPrevented()&&t.keyCode&&t.keyCode===e.ui.keyCode.ESCAPE)return t.preventDefault(),void this.close(t);if(t.keyCode===e.ui.keyCode.TAB&&!t.isDefaultPrevented()){var i=this.uiDialog.find(":tabbable"),n=i.filter(":first"),s=i.filter(":last");t.target!==s[0]&&t.target!==this.uiDialog[0]||t.shiftKey?t.target!==n[0]&&t.target!==this.uiDialog[0]||!t.shiftKey||(this._delay(function(){s.focus()}),t.preventDefault()):(this._delay(function(){n.focus()}),t.preventDefault())}},mousedown:function(e){this._moveToTop(e)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var t;this.uiDialogTitlebar=e("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog),this._on(this.uiDialogTitlebar,{mousedown:function(t){e(t.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.focus()}}),this.uiDialogTitlebarClose=e("<button type='button'></button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:!1}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar),this._on(this.uiDialogTitlebarClose,{click:function(e){e.preventDefault(),this.close(e)}}),t=e("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar),this._title(t),this.uiDialog.attr({"aria-labelledby":t.attr("id")})},_title:function(e){this.options.title||e.html("&#160;"),e.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=e("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),this.uiButtonSet=e("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane),this._createButtons()},_createButtons:function(){var t=this,i=this.options.buttons;this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),e.isEmptyObject(i)||e.isArray(i)&&!i.length?this.uiDialog.removeClass("ui-dialog-buttons"):(e.each(i,function(i,n){var s,r;n=e.isFunction(n)?{click:n,text:i}:n,n=e.extend({type:"button"},n),s=n.click,n.click=function(){s.apply(t.element[0],arguments)},r={icons:n.icons,text:n.showText},delete n.icons,delete n.showText,e("<button></button>",n).button(r).appendTo(t.uiButtonSet)}),this.uiDialog.addClass("ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){function t(e){return{position:e.position,offset:e.offset}}var i=this,n=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(n,s){e(this).addClass("ui-dialog-dragging"),i._blockFrames(),i._trigger("dragStart",n,t(s))},drag:function(e,n){i._trigger("drag",e,t(n))},stop:function(s,r){var o=r.offset.left-i.document.scrollLeft(),a=r.offset.top-i.document.scrollTop();n.position={my:"left top",at:"left"+(o>=0?"+":"")+o+" top"+(a>=0?"+":"")+a,of:i.window},e(this).removeClass("ui-dialog-dragging"),i._unblockFrames(),i._trigger("dragStop",s,t(r))}})},_makeResizable:function(){function t(e){return{originalPosition:e.originalPosition,originalSize:e.originalSize,position:e.position,size:e.size}}var i=this,n=this.options,s=n.resizable,r=this.uiDialog.css("position"),o="string"==typeof s?s:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:n.maxWidth,maxHeight:n.maxHeight,minWidth:n.minWidth,minHeight:this._minHeight(),handles:o,start:function(n,s){e(this).addClass("ui-dialog-resizing"),i._blockFrames(),i._trigger("resizeStart",n,t(s))},resize:function(e,n){i._trigger("resize",e,t(n))},stop:function(s,r){var o=i.uiDialog.offset(),a=o.left-i.document.scrollLeft(),l=o.top-i.document.scrollTop();n.height=i.uiDialog.height(),n.width=i.uiDialog.width(),n.position={my:"left top",at:"left"+(a>=0?"+":"")+a+" top"+(l>=0?"+":"")+l,of:i.window},e(this).removeClass("ui-dialog-resizing"),i._unblockFrames(),i._trigger("resizeStop",s,t(r))}}).css("position",r)},_trackFocus:function(){this._on(this.widget(),{focusin:function(t){this._makeFocusTarget(),this._focusedElement=e(t.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var t=this._trackingInstances(),i=e.inArray(this,t);-1!==i&&t.splice(i,1)},_trackingInstances:function(){var e=this.document.data("ui-dialog-instances");return e||(e=[],this.document.data("ui-dialog-instances",e)),e},_minHeight:function(){var e=this.options;return"auto"===e.height?e.minHeight:Math.min(e.minHeight,e.height)},_position:function(){var e=this.uiDialog.is(":visible");e||this.uiDialog.show(),this.uiDialog.position(this.options.position),e||this.uiDialog.hide()},_setOptions:function(t){var i=this,n=!1,s={};e.each(t,function(e,t){i._setOption(e,t),e in i.sizeRelatedOptions&&(n=!0),e in i.resizableRelatedOptions&&(s[e]=t)}),n&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",s)},_setOption:function(e,t){var i,n,s=this.uiDialog;"dialogClass"===e&&s.removeClass(this.options.dialogClass).addClass(t),"disabled"!==e&&(this._super(e,t),"appendTo"===e&&this.uiDialog.appendTo(this._appendTo()),"buttons"===e&&this._createButtons(),"closeText"===e&&this.uiDialogTitlebarClose.button({label:""+t}),"draggable"===e&&((i=s.is(":data(ui-draggable)"))&&!t&&s.draggable("destroy"),!i&&t&&this._makeDraggable()),"position"===e&&this._position(),"resizable"===e&&((n=s.is(":data(ui-resizable)"))&&!t&&s.resizable("destroy"),n&&"string"==typeof t&&s.resizable("option","handles",t),n||!1===t||this._makeResizable()),"title"===e&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var e,t,i,n=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),n.minWidth>n.width&&(n.width=n.minWidth),e=this.uiDialog.css({height:"auto",width:n.width}).outerHeight(),t=Math.max(0,n.minHeight-e),i="number"==typeof n.maxHeight?Math.max(0,n.maxHeight-e):"none","auto"===n.height?this.element.css({minHeight:t,maxHeight:i,height:"auto"}):this.element.height(Math.max(0,n.height-e)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var t=e(this);return e("<div>").css({position:"absolute",width:t.outerWidth(),height:t.outerHeight()}).appendTo(t.parent()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(t){return!!e(t.target).closest(".ui-dialog").length||!!e(t.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var t=!0;this._delay(function(){t=!1}),this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(e){t||this._allowInteraction(e)||(e.preventDefault(),this._trackingInstances()[0]._focusTabbable())}}),this.overlay=e("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo()),this._on(this.overlay,{mousedown:"_keepFocus"}),
this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var e=this.document.data("ui-dialog-overlays")-1;e?this.document.data("ui-dialog-overlays",e):this.document.unbind("focusin").removeData("ui-dialog-overlays"),this.overlay.remove(),this.overlay=null}}})}),function(e){"function"==typeof define&&define.amd?define(["jquery","./core","./widget","./mouse","./draggable"],e):e(jQuery)}(function(e){return e.widget("ui.droppable",{version:"1.11.4",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var t,i=this.options,n=i.accept;this.isover=!1,this.isout=!0,this.accept=e.isFunction(n)?n:function(e){return e.is(n)},this.proportions=function(){if(!arguments.length)return t||(t={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight});t=arguments[0]},this._addToManager(i.scope),i.addClasses&&this.element.addClass("ui-droppable")},_addToManager:function(t){e.ui.ddmanager.droppables[t]=e.ui.ddmanager.droppables[t]||[],e.ui.ddmanager.droppables[t].push(this)},_splice:function(e){for(var t=0;t<e.length;t++)e[t]===this&&e.splice(t,1)},_destroy:function(){var t=e.ui.ddmanager.droppables[this.options.scope];this._splice(t),this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(t,i){if("accept"===t)this.accept=e.isFunction(i)?i:function(e){return e.is(i)};else if("scope"===t){var n=e.ui.ddmanager.droppables[this.options.scope];this._splice(n),this._addToManager(i)}this._super(t,i)},_activate:function(t){var i=e.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),i&&this._trigger("activate",t,this.ui(i))},_deactivate:function(t){var i=e.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),i&&this._trigger("deactivate",t,this.ui(i))},_over:function(t){var i=e.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",t,this.ui(i)))},_out:function(t){var i=e.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",t,this.ui(i)))},_drop:function(t,i){var n=i||e.ui.ddmanager.current,s=!1;return!(!n||(n.currentItem||n.element)[0]===this.element[0])&&(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var i=e(this).droppable("instance");if(i.options.greedy&&!i.options.disabled&&i.options.scope===n.options.scope&&i.accept.call(i.element[0],n.currentItem||n.element)&&e.ui.intersect(n,e.extend(i,{offset:i.element.offset()}),i.options.tolerance,t))return s=!0,!1}),!s&&(!!this.accept.call(this.element[0],n.currentItem||n.element)&&(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",t,this.ui(n)),this.element)))},ui:function(e){return{draggable:e.currentItem||e.element,helper:e.helper,position:e.position,offset:e.positionAbs}}}),e.ui.intersect=function(){function e(e,t,i){return e>=t&&e<t+i}return function(t,i,n,s){if(!i.offset)return!1;var r=(t.positionAbs||t.position.absolute).left+t.margins.left,o=(t.positionAbs||t.position.absolute).top+t.margins.top,a=r+t.helperProportions.width,l=o+t.helperProportions.height,h=i.offset.left,d=i.offset.top,c=h+i.proportions().width,u=d+i.proportions().height;switch(n){case"fit":return h<=r&&a<=c&&d<=o&&l<=u;case"intersect":return h<r+t.helperProportions.width/2&&a-t.helperProportions.width/2<c&&d<o+t.helperProportions.height/2&&l-t.helperProportions.height/2<u;case"pointer":return e(s.pageY,d,i.proportions().height)&&e(s.pageX,h,i.proportions().width);case"touch":return(o>=d&&o<=u||l>=d&&l<=u||o<d&&l>u)&&(r>=h&&r<=c||a>=h&&a<=c||r<h&&a>c);default:return!1}}}(),e.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(t,i){var n,s,r=e.ui.ddmanager.droppables[t.options.scope]||[],o=i?i.type:null,a=(t.currentItem||t.element).find(":data(ui-droppable)").addBack();e:for(n=0;n<r.length;n++)if(!(r[n].options.disabled||t&&!r[n].accept.call(r[n].element[0],t.currentItem||t.element))){for(s=0;s<a.length;s++)if(a[s]===r[n].element[0]){r[n].proportions().height=0;continue e}r[n].visible="none"!==r[n].element.css("display"),r[n].visible&&("mousedown"===o&&r[n]._activate.call(r[n],i),r[n].offset=r[n].element.offset(),r[n].proportions({width:r[n].element[0].offsetWidth,height:r[n].element[0].offsetHeight}))}},drop:function(t,i){var n=!1;return e.each((e.ui.ddmanager.droppables[t.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&e.ui.intersect(t,this,this.options.tolerance,i)&&(n=this._drop.call(this,i)||n),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,i)))}),n},dragStart:function(t,i){t.element.parentsUntil("body").bind("scroll.droppable",function(){t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,i)})},drag:function(t,i){t.options.refreshPositions&&e.ui.ddmanager.prepareOffsets(t,i),e.each(e.ui.ddmanager.droppables[t.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var n,s,r,o=e.ui.intersect(t,this,this.options.tolerance,i),a=!o&&this.isover?"isout":o&&!this.isover?"isover":null;a&&(this.options.greedy&&(s=this.options.scope,(r=this.element.parents(":data(ui-droppable)").filter(function(){return e(this).droppable("instance").options.scope===s})).length&&((n=e(r[0]).droppable("instance")).greedyChild="isover"===a)),n&&"isover"===a&&(n.isover=!1,n.isout=!0,n._out.call(n,i)),this[a]=!0,this["isout"===a?"isover":"isout"]=!1,this["isover"===a?"_over":"_out"].call(this,i),n&&"isout"===a&&(n.isout=!1,n.isover=!0,n._over.call(n,i)))}})},dragStop:function(t,i){t.element.parentsUntil("body").unbind("scroll.droppable"),t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,i)}},e.ui.droppable}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){var t,i="ui-effects-",n=e;return e.effects={effect:{}},function(e,t){function i(e,t,i){var n=c[t.type]||{};return null==e?i||!t.def?null:t.def:(e=n.floor?~~e:parseFloat(e),isNaN(e)?t.def:n.mod?(e+n.mod)%n.mod:0>e?0:n.max<e?n.max:e)}function n(t){var i=h(),n=i._rgba=[];return t=t.toLowerCase(),p(l,function(e,s){var r,o=s.re.exec(t),a=o&&s.parse(o),l=s.space||"rgba";if(a)return r=i[l](a),i[d[l].cache]=r[d[l].cache],n=i._rgba=r._rgba,!1}),n.length?("0,0,0,0"===n.join()&&e.extend(n,r.transparent),i):r[t]}function s(e,t,i){return 6*(i=(i+1)%1)<1?e+(t-e)*i*6:2*i<1?t:3*i<2?e+(t-e)*(2/3-i)*6:e}var r,o="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",a=/^([\-+])=\s*(\d+\.?\d*)/,l=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(e){return[e[1],e[2]/100,e[3]/100,e[4]]}}],h=e.Color=function(t,i,n,s){return new e.Color.fn.parse(t,i,n,s)},d={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},c={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},u=h.support={},f=e("<p>")[0],p=e.each;f.style.cssText="background-color:rgba(1,1,1,.5)",u.rgba=f.style.backgroundColor.indexOf("rgba")>-1,p(d,function(e,t){t.cache="_"+e,t.props.alpha={idx:3,type:"percent",def:1}}),h.fn=e.extend(h.prototype,{parse:function(s,o,a,l){if(s===t)return this._rgba=[null,null,null,null],this;(s.jquery||s.nodeType)&&(s=e(s).css(o),o=t);var c=this,u=e.type(s),f=this._rgba=[];return o!==t&&(s=[s,o,a,l],u="array"),"string"===u?this.parse(n(s)||r._default):"array"===u?(p(d.rgba.props,function(e,t){f[t.idx]=i(s[t.idx],t)}),this):"object"===u?(p(d,s instanceof h?function(e,t){s[t.cache]&&(c[t.cache]=s[t.cache].slice())}:function(t,n){var r=n.cache;p(n.props,function(e,t){if(!c[r]&&n.to){if("alpha"===e||null==s[e])return;c[r]=n.to(c._rgba)}c[r][t.idx]=i(s[e],t,!0)}),c[r]&&e.inArray(null,c[r].slice(0,3))<0&&(c[r][3]=1,n.from&&(c._rgba=n.from(c[r])))}),this):void 0},is:function(e){var t=h(e),i=!0,n=this;return p(d,function(e,s){var r,o=t[s.cache];return o&&(r=n[s.cache]||s.to&&s.to(n._rgba)||[],p(s.props,function(e,t){if(null!=o[t.idx])return i=o[t.idx]===r[t.idx]})),i}),i},_space:function(){var e=[],t=this;return p(d,function(i,n){t[n.cache]&&e.push(i)}),e.pop()},transition:function(e,t){var n=h(e),s=n._space(),r=d[s],o=0===this.alpha()?h("transparent"):this,a=o[r.cache]||r.to(o._rgba),l=a.slice();return n=n[r.cache],p(r.props,function(e,s){var r=s.idx,o=a[r],h=n[r],d=c[s.type]||{};null!==h&&(null===o?l[r]=h:(d.mod&&(h-o>d.mod/2?o+=d.mod:o-h>d.mod/2&&(o-=d.mod)),l[r]=i((h-o)*t+o,s)))}),this[s](l)},blend:function(t){if(1===this._rgba[3])return this;var i=this._rgba.slice(),n=i.pop(),s=h(t)._rgba;return h(e.map(i,function(e,t){return(1-n)*s[t]+n*e}))},toRgbaString:function(){var t="rgba(",i=e.map(this._rgba,function(e,t){return null==e?t>2?1:0:e});return 1===i[3]&&(i.pop(),t="rgb("),t+i.join()+")"},toHslaString:function(){var t="hsla(",i=e.map(this.hsla(),function(e,t){return null==e&&(e=t>2?1:0),t&&t<3&&(e=Math.round(100*e)+"%"),e});return 1===i[3]&&(i.pop(),t="hsl("),t+i.join()+")"},toHexString:function(t){var i=this._rgba.slice(),n=i.pop();return t&&i.push(~~(255*n)),"#"+e.map(i,function(e){return 1===(e=(e||0).toString(16)).length?"0"+e:e}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),h.fn.parse.prototype=h.fn,d.hsla.to=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t,i,n=e[0]/255,s=e[1]/255,r=e[2]/255,o=e[3],a=Math.max(n,s,r),l=Math.min(n,s,r),h=a-l,d=a+l,c=.5*d;return t=l===a?0:n===a?60*(s-r)/h+360:s===a?60*(r-n)/h+120:60*(n-s)/h+240,i=0===h?0:c<=.5?h/d:h/(2-d),[Math.round(t)%360,i,c,null==o?1:o]},d.hsla.from=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t=e[0]/360,i=e[1],n=e[2],r=e[3],o=n<=.5?n*(1+i):n+i-n*i,a=2*n-o;return[Math.round(255*s(a,o,t+1/3)),Math.round(255*s(a,o,t)),Math.round(255*s(a,o,t-1/3)),r]},p(d,function(n,s){var r=s.props,o=s.cache,l=s.to,d=s.from;h.fn[n]=function(n){if(l&&!this[o]&&(this[o]=l(this._rgba)),n===t)return this[o].slice();var s,a=e.type(n),c="array"===a||"object"===a?n:arguments,u=this[o].slice();return p(r,function(e,t){var n=c["object"===a?e:t.idx];null==n&&(n=u[t.idx]),u[t.idx]=i(n,t)}),d?((s=h(d(u)))[o]=u,s):h(u)},p(r,function(t,i){h.fn[t]||(h.fn[t]=function(s){var r,o=e.type(s),l="alpha"===t?this._hsla?"hsla":"rgba":n,h=this[l](),d=h[i.idx];return"undefined"===o?d:("function"===o&&(s=s.call(this,d),o=e.type(s)),null==s&&i.empty?this:("string"===o&&(r=a.exec(s))&&(s=d+parseFloat(r[2])*("+"===r[1]?1:-1)),h[i.idx]=s,this[l](h)))})})}),h.hook=function(t){var i=t.split(" ");p(i,function(t,i){e.cssHooks[i]={set:function(t,s){var r,o,a="";if("transparent"!==s&&("string"!==e.type(s)||(r=n(s)))){if(s=h(r||s),!u.rgba&&1!==s._rgba[3]){for(o="backgroundColor"===i?t.parentNode:t;(""===a||"transparent"===a)&&o&&o.style;)try{a=e.css(o,"backgroundColor"),o=o.parentNode}catch(l){}s=s.blend(a&&"transparent"!==a?a:"_default")}s=s.toRgbaString()}try{t.style[i]=s}catch(l){}}},e.fx.step[i]=function(t){t.colorInit||(t.start=h(t.elem,i),t.end=h(t.end),t.colorInit=!0),e.cssHooks[i].set(t.elem,t.start.transition(t.end,t.pos))}})},h.hook(o),e.cssHooks.borderColor={expand:function(e){var t={};return p(["Top","Right","Bottom","Left"],function(i,n){t["border"+n+"Color"]=e}),t}},r=e.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(n),function(){function t(t){var i,n,s=t.ownerDocument.defaultView?t.ownerDocument.defaultView.getComputedStyle(t,null):t.currentStyle,r={};if(s&&s.length&&s[0]&&s[s[0]])for(n=s.length;n--;)"string"==typeof s[i=s[n]]&&(r[e.camelCase(i)]=s[i]);else for(i in s)"string"==typeof s[i]&&(r[i]=s[i]);return r}function i(t,i){var n,s,r={};for(n in i)s=i[n],t[n]!==s&&(l[n]||!e.fx.step[n]&&isNaN(parseFloat(s))||(r[n]=s));return r}var s,r,o,a=["add","remove","toggle"],l={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};e.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(t,i){e.fx.step[i]=function(e){("none"!==e.end&&!e.setAttr||1===e.pos&&!e.setAttr)&&(n.style(e.elem,i,e.end),e.setAttr=!0)}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e.effects.animateClass=function(n,s,r,o){var l=e.speed(s,r,o);return this.queue(function(){var s,r=e(this),o=r.attr("class")||"",h=l.children?r.find("*").addBack():r;h=h.map(function(){return{el:e(this),start:t(this)}}),(s=function(){e.each(a,function(e,t){n[t]&&r[t+"Class"](n[t])})})(),h=h.map(function(){return this.end=t(this.el[0]),this.diff=i(this.start,this.end),this}),r.attr("class",o),h=h.map(function(){var t=this,i=e.Deferred(),n=e.extend({},l,{queue:!1,complete:function(){i.resolve(t)}});return this.el.animate(this.diff,n),i.promise()}),e.when.apply(e,h.get()).done(function(){s(),e.each(arguments,function(){var t=this.el;e.each(this.diff,function(e){t.css(e,"")})}),l.complete.call(r[0])})})},e.fn.extend({addClass:(o=e.fn.addClass,function(t,i,n,s){return i?e.effects.animateClass.call(this,{add:t},i,n,s):o.apply(this,arguments)}),removeClass:(r=e.fn.removeClass,function(t,i,n,s){return arguments.length>1?e.effects.animateClass.call(this,{remove:t},i,n,s):r.apply(this,arguments)}),toggleClass:(s=e.fn.toggleClass,function(t,i,n,r,o){return"boolean"==typeof i||i===undefined?n?e.effects.animateClass.call(this,i?{add:t}:{remove:t},n,r,o):s.apply(this,arguments):e.effects.animateClass.call(this,{toggle:t},i,n,r)}),switchClass:function(t,i,n,s,r){return e.effects.animateClass.call(this,{add:i,remove:t},n,s,r)}})}(),function(){function t(t,i,n,s){return e.isPlainObject(t)&&(i=t,t=t.effect),t={effect:t},null==i&&(i={}),e.isFunction(i)&&(s=i,n=null,i={}),("number"==typeof i||e.fx.speeds[i])&&(s=n,n=i,i={}),e.isFunction(n)&&(s=n,n=null),i&&e.extend(t,i),n=n||i.duration,t.duration=e.fx.off?0:"number"==typeof n?n:n in e.fx.speeds?e.fx.speeds[n]:e.fx.speeds._default,t.complete=s||i.complete,t}function n(t){return!(t&&"number"!=typeof t&&!e.fx.speeds[t])||("string"==typeof t&&!e.effects.effect[t]||(!!e.isFunction(t)||"object"==typeof t&&!t.effect))}var s,r,o;e.extend(e.effects,{version:"1.11.4",save:function(e,t){for(var n=0;n<t.length;n++)null!==t[n]&&e.data(i+t[n],e[0].style[t[n]])},restore:function(e,t){var n,s;for(s=0;s<t.length;s++)null!==t[s]&&((n=e.data(i+t[s]))===undefined&&(n=""),e.css(t[s],n))},setMode:function(e,t){return"toggle"===t&&(t=e.is(":hidden")?"show":"hide"),t},getBaseline:function(e,t){var i,n;switch(e[0]){case"top":i=0;break;case"middle":i=.5;break;case"bottom":i=1;break;default:i=e[0]/t.height}switch(e[1]){case"left":n=0;break;case"center":n=.5;break;case"right":n=1;break;default:n=e[1]/t.width}return{x:n,y:i}},createWrapper:function(t){if(t.parent().is(".ui-effects-wrapper"))return t.parent();var i={width:t.outerWidth(!0),height:t.outerHeight(!0),"float":t.css("float")},n=e("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),s={width:t.width(),height:t.height()},r=document.activeElement;try{r.id}catch(o){r=document.body}return t.wrap(n),(t[0]===r||e.contains(t[0],r))&&e(r).focus(),n=t.parent(),"static"===t.css("position")?(n.css({position:"relative"}),t.css({position:"relative"})):(e.extend(i,{position:t.css("position"),zIndex:t.css("z-index")}),e.each(["top","left","bottom","right"],function(e,n){i[n]=t.css(n),isNaN(parseInt(i[n],10))&&(i[n]="auto")}),t.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),t.css(s),n.css(i).show()},removeWrapper:function(t){var i=document.activeElement;return t.parent().is(".ui-effects-wrapper")&&(t.parent().replaceWith(t),(t[0]===i||e.contains(t[0],i))&&e(i).focus()),t},setTransition:function(t,i,n,s){return s=s||{},e.each(i,function(e,i){var r=t.cssUnit(i);r[0]>0&&(s[i]=r[0]*n+r[1])}),s}}),e.fn.extend({effect:function(){function i(t){function i(){e.isFunction(r)&&r.call(s[0]),e.isFunction(t)&&t()}var s=e(this),r=n.complete,a=n.mode;(s.is(":hidden")?"hide"===a:"show"===a)?(s[a](),i()):o.call(s[0],n,i)}var n=t.apply(this,arguments),s=n.mode,r=n.queue,o=e.effects.effect[n.effect];return e.fx.off||!o?s?this[s](n.duration,n.complete):this.each(function(){n.complete&&n.complete.call(this)}):!1===r?this.each(i):this.queue(r||"fx",i)},show:(o=e.fn.show,function(e){if(n(e))return o.apply(this,arguments);var i=t.apply(this,arguments);return i.mode="show",this.effect.call(this,i)}),hide:(r=e.fn.hide,function(e){if(n(e))return r.apply(this,arguments);var i=t.apply(this,arguments);return i.mode="hide",this.effect.call(this,i)}),toggle:(s=e.fn.toggle,function(e){if(n(e)||"boolean"==typeof e)return s.apply(this,arguments);var i=t.apply(this,arguments);return i.mode="toggle",this.effect.call(this,i)}),cssUnit:function(t){var i=this.css(t),n=[];return e.each(["em","px","%","pt"],function(e,t){i.indexOf(t)>0&&(n=[parseFloat(i),t])}),n}})}(),t={},e.each(["Quad","Cubic","Quart","Quint","Expo"],function(e,i){t[i]=function(t){return Math.pow(t,e+2)}}),e.extend(t,{Sine:function(e){return 1-Math.cos(e*Math.PI/2)},Circ:function(e){return 1-Math.sqrt(1-e*e)},Elastic:function(e){return 0===e||1===e?e:-Math.pow(2,8*(e-1))*Math.sin((80*(e-1)-7.5)*Math.PI/15)},Back:function(e){return e*e*(3*e-2)},Bounce:function(e){for(var t,i=4;e<((t=Math.pow(2,--i))-1)/11;);return 1/Math.pow(4,3-i)-7.5625*Math.pow((3*t-2)/22-e,2)}}),e.each(t,function(t,i){e.easing["easeIn"+t]=i,e.easing["easeOut"+t]=function(e){return 1-i(1-e)},e.easing["easeInOut"+t]=function(e){return e<.5?i(2*e)/2:1-i(-2*e+2)/2}}),e.effects}),function(e){"function"==typeof define&&define.amd?define(["jquery","./effect"],e):e(jQuery)}(function(e){return e.effects.effect.blind=function(t,i){var n,s,r,o=e(this),a=/up|down|vertical/,l=/up|left|vertical|horizontal/,h=["position","top","bottom","left","right","height","width"],d=e.effects.setMode(o,t.mode||"hide"),c=t.direction||"up",u=a.test(c),f=u?"height":"width",p=u?"top":"left",_=l.test(c),g={},m="show"===d;o.parent().is(".ui-effects-wrapper")?e.effects.save(o.parent(),h):e.effects.save(o,h),o.show(),s=(n=e.effects.createWrapper(o).css({overflow:"hidden"}))[f](),r=parseFloat(n.css(p))||0,g[f]=m?s:0,_||(o.css(u?"bottom":"right",0).css(u?"top":"left","auto").css({position:"absolute"}),g[p]=m?r:s+r),m&&(n.css(f,0),_||n.css(p,r+s)),n.animate(g,{duration:t.duration,easing:t.easing,queue:!1,complete:function(){"hide"===d&&o.hide(),e.effects.restore(o,h),e.effects.removeWrapper(o),i()}})}}),function(e){"function"==typeof define&&define.amd?define(["jquery","./effect"],e):e(jQuery)}(function(e){return e.effects.effect.bounce=function(t,i){var n,s,r,o=e(this),a=["position","top","bottom","left","right","height","width"],l=e.effects.setMode(o,t.mode||"effect"),h="hide"===l,d="show"===l,c=t.direction||"up",u=t.distance,f=t.times||5,p=2*f+(d||h?1:0),_=t.duration/p,g=t.easing,m="up"===c||"down"===c?"top":"left",v="up"===c||"left"===c,y=o.queue(),b=y.length;for((d||h)&&a.push("opacity"),e.effects.save(o,a),o.show(),e.effects.createWrapper(o),u||(u=o["top"===m?"outerHeight":"outerWidth"]()/3),d&&((r={opacity:1})[m]=0,o.css("opacity",0).css(m,v?2*-u:2*u).animate(r,_,g)),h&&(u/=Math.pow(2,f-1)),(r={})[m]=0,n=0;n<f;n++)(s={})[m]=(v?"-=":"+=")+u,o.animate(s,_,g).animate(r,_,g),u=h?2*u:u/2;h&&((s={opacity:0})[m]=(v?"-=":"+=")+u,o.animate(s,_,g)),o.queue(function(){h&&o.hide(),e.effects.restore(o,a),e.effects.removeWrapper(o),i()}),b>1&&y.splice.apply(y,[1,0].concat(y.splice(b,p+1))),o.dequeue()}}),function(e){"function"==typeof define&&define.amd?define(["jquery","./effect"],e):e(jQuery)}(function(e){return e.effects.effect.clip=function(t,i){var n,s,r,o=e(this),a=["position","top","bottom","left","right","height","width"],l="show"===e.effects.setMode(o,t.mode||"hide"),h="vertical"===(t.direction||"vertical"),d=h?"height":"width",c=h?"top":"left",u={};e.effects.save(o,a),o.show(),n=e.effects.createWrapper(o).css({overflow:"hidden"}),r=(s="IMG"===o[0].tagName?n:o)[d](),l&&(s.css(d,0),s.css(c,r/2)),u[d]=l?r:0,u[c]=l?0:r/2,s.animate(u,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){l||o.hide(),e.effects.restore(o,a),e.effects.removeWrapper(o),i()}})}}),function(e){"function"==typeof define&&define.amd?define(["jquery","./effect"],e):e(jQuery)}(function(e){return e.effects.effect.drop=function(t,i){var n,s=e(this),r=["position","top","bottom","left","right","opacity","height","width"],o=e.effects.setMode(s,t.mode||"hide"),a="show"===o,l=t.direction||"left",h="up"===l||"down"===l?"top":"left",d="up"===l||"left"===l?"pos":"neg",c={opacity:a?1:0};e.effects.save(s,r),s.show(),e.effects.createWrapper(s),n=t.distance||s["top"===h?"outerHeight":"outerWidth"](!0)/2,a&&s.css("opacity",0).css(h,"pos"===d?-n:n),c[h]=(a?"pos"===d?"+=":"-=":"pos"===d?"-=":"+=")+n,s.animate(c,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===o&&s.hide(),e.effects.restore(s,r),e.effects.removeWrapper(s),i()}})}}),function(e){"function"==typeof define&&define.amd?define(["jquery","./effect"],e):e(jQuery)}(function(e){return e.effects.effect.explode=function(t,i){function n(){v.push(this),v.length===c*u&&s()}function s(){f.css({visibility:"visible"}),e(v).remove(),p||f.hide(),i()}var r,o,a,l,h,d,c=t.pieces?Math.round(Math.sqrt(t.pieces)):3,u=c,f=e(this),p="show"===e.effects.setMode(f,t.mode||"hide"),_=f.show().css("visibility","hidden").offset(),g=Math.ceil(f.outerWidth()/u),m=Math.ceil(f.outerHeight()/c),v=[];for(r=0;r<c;r++)for(l=_.top+r*m,d=r-(c-1)/2,o=0;o<u;o++)a=_.left+o*g,h=o-(u-1)/2,f.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-o*g,top:-r*m}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:g,height:m,left:a+(p?h*g:0),top:l+(p?d*m:0),opacity:p?0:1}).animate({left:a+(p?0:h*g),top:l+(p?0:d*m),opacity:p?1:0},t.duration||500,t.easing,n)}}),function(e){"function"==typeof define&&define.amd?define(["jquery","./effect"],e):e(jQuery)}(function(e){return e.effects.effect.fade=function(t,i){var n=e(this),s=e.effects.setMode(n,t.mode||"toggle");n.animate({opacity:s},{queue:!1,duration:t.duration,easing:t.easing,complete:i})}}),function(e){"function"==typeof define&&define.amd?define(["jquery","./effect"],e):e(jQuery)}(function(e){return e.effects.effect.fold=function(t,i){var n,s,r=e(this),o=["position","top","bottom","left","right","height","width"],a=e.effects.setMode(r,t.mode||"hide"),l="show"===a,h="hide"===a,d=t.size||15,c=/([0-9]+)%/.exec(d),u=!!t.horizFirst,f=l!==u,p=f?["width","height"]:["height","width"],_=t.duration/2,g={},m={};e.effects.save(r,o),r.show(),n=e.effects.createWrapper(r).css({overflow:"hidden"}),s=f?[n.width(),n.height()]:[n.height(),n.width()],c&&(d=parseInt(c[1],10)/100*s[h?0:1]),l&&n.css(u?{height:0,width:d}:{height:d,width:0}),g[p[0]]=l?s[0]:d,m[p[1]]=l?s[1]:0,n.animate(g,_,t.easing).animate(m,_,t.easing,function(){h&&r.hide(),e.effects.restore(r,o),e.effects.removeWrapper(r),i()})}}),function(e){"function"==typeof define&&define.amd?define(["jquery","./effect"],e):e(jQuery)}(function(e){return e.effects.effect.highlight=function(t,i){var n=e(this),s=["backgroundImage","backgroundColor","opacity"],r=e.effects.setMode(n,t.mode||"show"),o={backgroundColor:n.css("backgroundColor")};"hide"===r&&(o.opacity=0),e.effects.save(n,s),n.show().css({backgroundImage:"none",backgroundColor:t.color||"#ffff99"}).animate(o,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===r&&n.hide(),e.effects.restore(n,s),i()}})}}),function(e){"function"==typeof define&&define.amd?define(["jquery","./effect"],e):e(jQuery)}(function(e){return e.effects.effect.size=function(t,i){var n,s,r,o=e(this),a=["position","top","bottom","left","right","width","height","overflow","opacity"],l=["position","top","bottom","left","right","overflow","opacity"],h=["width","height","overflow"],d=["fontSize"],c=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],u=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],f=e.effects.setMode(o,t.mode||"effect"),p=t.restore||"effect"!==f,_=t.scale||"both",g=t.origin||["middle","center"],m=o.css("position"),v=p?a:l,y={height:0,width:0,outerHeight:0,outerWidth:0};"show"===f&&o.show(),n={height:o.height(),width:o.width(),outerHeight:o.outerHeight(),outerWidth:o.outerWidth()},"toggle"===t.mode&&"show"===f?(o.from=t.to||y,o.to=t.from||n):(o.from=t.from||("show"===f?y:n),o.to=t.to||("hide"===f?y:n)),r={from:{y:o.from.height/n.height,x:o.from.width/n.width},to:{y:o.to.height/n.height,x:o.to.width/n.width}},"box"!==_&&"both"!==_||(r.from.y!==r.to.y&&(v=v.concat(c),o.from=e.effects.setTransition(o,c,r.from.y,o.from),o.to=e.effects.setTransition(o,c,r.to.y,o.to)),r.from.x!==r.to.x&&(v=v.concat(u),o.from=e.effects.setTransition(o,u,r.from.x,o.from),o.to=e.effects.setTransition(o,u,r.to.x,o.to))),"content"!==_&&"both"!==_||r.from.y!==r.to.y&&(v=v.concat(d).concat(h),o.from=e.effects.setTransition(o,d,r.from.y,o.from),o.to=e.effects.setTransition(o,d,r.to.y,o.to)),e.effects.save(o,v),o.show(),e.effects.createWrapper(o),o.css("overflow","hidden").css(o.from),g&&(s=e.effects.getBaseline(g,n),o.from.top=(n.outerHeight-o.outerHeight())*s.y,o.from.left=(n.outerWidth-o.outerWidth())*s.x,o.to.top=(n.outerHeight-o.to.outerHeight)*s.y,o.to.left=(n.outerWidth-o.to.outerWidth)*s.x),o.css(o.from),"content"!==_&&"both"!==_||(c=c.concat(["marginTop","marginBottom"]).concat(d),u=u.concat(["marginLeft","marginRight"]),h=a.concat(c).concat(u),o.find("*[width]").each(function(){var i=e(this),n={height:i.height(),width:i.width(),outerHeight:i.outerHeight(),outerWidth:i.outerWidth()};p&&e.effects.save(i,h),i.from={height:n.height*r.from.y,width:n.width*r.from.x,outerHeight:n.outerHeight*r.from.y,outerWidth:n.outerWidth*r.from.x},i.to={height:n.height*r.to.y,width:n.width*r.to.x,outerHeight:n.height*r.to.y,outerWidth:n.width*r.to.x},r.from.y!==r.to.y&&(i.from=e.effects.setTransition(i,c,r.from.y,i.from),i.to=e.effects.setTransition(i,c,r.to.y,i.to)),r.from.x!==r.to.x&&(i.from=e.effects.setTransition(i,u,r.from.x,i.from),i.to=e.effects.setTransition(i,u,r.to.x,i.to)),i.css(i.from),i.animate(i.to,t.duration,t.easing,function(){p&&e.effects.restore(i,h)})})),o.animate(o.to,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){0===o.to.opacity&&o.css("opacity",o.from.opacity),"hide"===f&&o.hide(),e.effects.restore(o,v),p||("static"===m?o.css({position:"relative",top:o.to.top,left:o.to.left}):e.each(["top","left"],function(e,t){o.css(t,function(t,i){var n=parseInt(i,10),s=e?o.to.left:o.to.top;return"auto"===i?s+"px":n+s+"px"})})),e.effects.removeWrapper(o),i()}})}}),function(e){"function"==typeof define&&define.amd?define(["jquery","./effect","./effect-size"],e):e(jQuery)}(function(e){return e.effects.effect.scale=function(t,i){var n=e(this),s=e.extend(!0,{},t),r=e.effects.setMode(n,t.mode||"effect"),o=parseInt(t.percent,10)||(0===parseInt(t.percent,10)?0:"hide"===r?0:100),a=t.direction||"both",l=t.origin,h={height:n.height(),width:n.width(),outerHeight:n.outerHeight(),outerWidth:n.outerWidth()},d={y:"horizontal"!==a?o/100:1,x:"vertical"!==a?o/100:1};s.effect="size",s.queue=!1,s.complete=i,"effect"!==r&&(s.origin=l||["middle","center"],s.restore=!0),s.from=t.from||("show"===r?{height:0,width:0,outerHeight:0,outerWidth:0}:h),s.to={height:h.height*d.y,width:h.width*d.x,outerHeight:h.outerHeight*d.y,outerWidth:h.outerWidth*d.x},s.fade&&("show"===r&&(s.from.opacity=0,s.to.opacity=1),"hide"===r&&(s.from.opacity=1,s.to.opacity=0)),n.effect(s)}}),function(e){"function"==typeof define&&define.amd?define(["jquery","./effect","./effect-scale"],e):e(jQuery)}(function(e){return e.effects.effect.puff=function(t,i){var n=e(this),s=e.effects.setMode(n,t.mode||"hide"),r="hide"===s,o=parseInt(t.percent,10)||150,a=o/100,l={height:n.height(),width:n.width(),outerHeight:n.outerHeight(),outerWidth:n.outerWidth()};e.extend(t,{effect:"scale",queue:!1,fade:!0,mode:s,complete:i,percent:r?o:100,from:r?l:{height:l.height*a,width:l.width*a,outerHeight:l.outerHeight*a,outerWidth:l.outerWidth*a}}),n.effect(t)}}),function(e){"function"==typeof define&&define.amd?define(["jquery","./effect"],e):e(jQuery)}(function(e){return e.effects.effect.pulsate=function(t,i){var n,s=e(this),r=e.effects.setMode(s,t.mode||"show"),o="show"===r,a="hide"===r,l=o||"hide"===r,h=2*(t.times||5)+(l?1:0),d=t.duration/h,c=0,u=s.queue(),f=u.length;for(!o&&s.is(":visible")||(s.css("opacity",0).show(),c=1),n=1;n<h;n++)s.animate({opacity:c},d,t.easing),c=1-c;s.animate({opacity:c},d,t.easing),s.queue(function(){a&&s.hide(),i()}),f>1&&u.splice.apply(u,[1,0].concat(u.splice(f,h+1))),s.dequeue()}}),function(e){"function"==typeof define&&define.amd?define(["jquery","./effect"],e):e(jQuery)}(function(e){return e.effects.effect.shake=function(t,i){var n,s=e(this),r=["position","top","bottom","left","right","height","width"],o=e.effects.setMode(s,t.mode||"effect"),a=t.direction||"left",l=t.distance||20,h=t.times||3,d=2*h+1,c=Math.round(t.duration/d),u="up"===a||"down"===a?"top":"left",f="up"===a||"left"===a,p={},_={},g={},m=s.queue(),v=m.length;for(e.effects.save(s,r),s.show(),e.effects.createWrapper(s),p[u]=(f?"-=":"+=")+l,_[u]=(f?"+=":"-=")+2*l,g[u]=(f?"-=":"+=")+2*l,s.animate(p,c,t.easing),n=1;n<h;n++)s.animate(_,c,t.easing).animate(g,c,t.easing);s.animate(_,c,t.easing).animate(p,c/2,t.easing).queue(function(){"hide"===o&&s.hide(),e.effects.restore(s,r),e.effects.removeWrapper(s),i()}),v>1&&m.splice.apply(m,[1,0].concat(m.splice(v,d+1))),s.dequeue()}}),function(e){"function"==typeof define&&define.amd?define(["jquery","./effect"],e):e(jQuery)}(function(e){return e.effects.effect.slide=function(t,i){var n,s=e(this),r=["position","top","bottom","left","right","width","height"],o=e.effects.setMode(s,t.mode||"show"),a="show"===o,l=t.direction||"left",h="up"===l||"down"===l?"top":"left",d="up"===l||"left"===l,c={};e.effects.save(s,r),s.show(),n=t.distance||s["top"===h?"outerHeight":"outerWidth"](!0),e.effects.createWrapper(s).css({overflow:"hidden"}),a&&s.css(h,d?isNaN(n)?"-"+n:-n:n),c[h]=(a?d?"+=":"-=":d?"-=":"+=")+n,s.animate(c,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===o&&s.hide(),e.effects.restore(s,r),e.effects.removeWrapper(s),i()}})}}),function(e){"function"==typeof define&&define.amd?define(["jquery","./effect"],e):e(jQuery)}(function(e){return e.effects.effect.transfer=function(t,i){var n=e(this),s=e(t.to),r="fixed"===s.css("position"),o=e("body"),a=r?o.scrollTop():0,l=r?o.scrollLeft():0,h=s.offset(),d={top:h.top-a,left:h.left-l,height:s.innerHeight(),width:s.innerWidth()},c=n.offset(),u=e("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(t.className).css({top:c.top-a,left:c.left-l,height:n.innerHeight(),width:n.innerWidth(),position:r?"fixed":"absolute"}).animate(d,t.duration,t.easing,function(){u.remove(),i()})}}),function(e){"function"==typeof define&&define.amd?define(["jquery","./core","./widget"],e):e(jQuery)}(function(e){return e.widget("ui.progressbar",{version:"1.11.4",options:{max:100,value:0,change:null,complete:null},min:0,_create:function(){
this.oldValue=this.options.value=this._constrainedValue(),this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min}),this.valueDiv=e("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove()},value:function(e){if(e===undefined)return this.options.value;this.options.value=this._constrainedValue(e),this._refreshValue()},_constrainedValue:function(e){return e===undefined&&(e=this.options.value),this.indeterminate=!1===e,"number"!=typeof e&&(e=0),!this.indeterminate&&Math.min(this.options.max,Math.max(this.min,e))},_setOptions:function(e){var t=e.value;delete e.value,this._super(e),this.options.value=this._constrainedValue(t),this._refreshValue()},_setOption:function(e,t){"max"===e&&(t=Math.max(this.min,t)),"disabled"===e&&this.element.toggleClass("ui-state-disabled",!!t).attr("aria-disabled",t),this._super(e,t)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var t=this.options.value,i=this._percentage();this.valueDiv.toggle(this.indeterminate||t>this.min).toggleClass("ui-corner-right",t===this.options.max).width(i.toFixed(0)+"%"),this.element.toggleClass("ui-progressbar-indeterminate",this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=e("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":t}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==t&&(this.oldValue=t,this._trigger("change")),t===this.options.max&&this._trigger("complete")}})}),function(e){"function"==typeof define&&define.amd?define(["jquery","./core","./mouse","./widget"],e):e(jQuery)}(function(e){return e.widget("ui.selectable",e.ui.mouse,{version:"1.11.4",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var t,i=this;this.element.addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){(t=e(i.options.filter,i.element[0])).addClass("ui-selectee"),t.each(function(){var t=e(this),i=t.offset();e.data(this,"selectable-item",{element:this,$element:t,left:i.left,top:i.top,right:i.left+t.outerWidth(),bottom:i.top+t.outerHeight(),startselected:!1,selected:t.hasClass("ui-selected"),selecting:t.hasClass("ui-selecting"),unselecting:t.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=t.addClass("ui-selectee"),this._mouseInit(),this.helper=e("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(t){var i=this,n=this.options;this.opos=[t.pageX,t.pageY],this.options.disabled||(this.selectees=e(n.filter,this.element[0]),this._trigger("start",t),e(n.appendTo).append(this.helper),this.helper.css({left:t.pageX,top:t.pageY,width:0,height:0}),n.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var n=e.data(this,"selectable-item");n.startselected=!0,t.metaKey||t.ctrlKey||(n.$element.removeClass("ui-selected"),n.selected=!1,n.$element.addClass("ui-unselecting"),n.unselecting=!0,i._trigger("unselecting",t,{unselecting:n.element}))}),e(t.target).parents().addBack().each(function(){var n,s=e.data(this,"selectable-item");if(s)return n=!t.metaKey&&!t.ctrlKey||!s.$element.hasClass("ui-selected"),s.$element.removeClass(n?"ui-unselecting":"ui-selected").addClass(n?"ui-selecting":"ui-unselecting"),s.unselecting=!n,s.selecting=n,s.selected=n,n?i._trigger("selecting",t,{selecting:s.element}):i._trigger("unselecting",t,{unselecting:s.element}),!1}))},_mouseDrag:function(t){if(this.dragged=!0,!this.options.disabled){var i,n=this,s=this.options,r=this.opos[0],o=this.opos[1],a=t.pageX,l=t.pageY;return r>a&&(i=a,a=r,r=i),o>l&&(i=l,l=o,o=i),this.helper.css({left:r,top:o,width:a-r,height:l-o}),this.selectees.each(function(){var i=e.data(this,"selectable-item"),h=!1;i&&i.element!==n.element[0]&&("touch"===s.tolerance?h=!(i.left>a||i.right<r||i.top>l||i.bottom<o):"fit"===s.tolerance&&(h=i.left>r&&i.right<a&&i.top>o&&i.bottom<l),h?(i.selected&&(i.$element.removeClass("ui-selected"),i.selected=!1),i.unselecting&&(i.$element.removeClass("ui-unselecting"),i.unselecting=!1),i.selecting||(i.$element.addClass("ui-selecting"),i.selecting=!0,n._trigger("selecting",t,{selecting:i.element}))):(i.selecting&&((t.metaKey||t.ctrlKey)&&i.startselected?(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.$element.addClass("ui-selected"),i.selected=!0):(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.startselected&&(i.$element.addClass("ui-unselecting"),i.unselecting=!0),n._trigger("unselecting",t,{unselecting:i.element}))),i.selected&&(t.metaKey||t.ctrlKey||i.startselected||(i.$element.removeClass("ui-selected"),i.selected=!1,i.$element.addClass("ui-unselecting"),i.unselecting=!0,n._trigger("unselecting",t,{unselecting:i.element})))))}),!1}},_mouseStop:function(t){var i=this;return this.dragged=!1,e(".ui-unselecting",this.element[0]).each(function(){var n=e.data(this,"selectable-item");n.$element.removeClass("ui-unselecting"),n.unselecting=!1,n.startselected=!1,i._trigger("unselected",t,{unselected:n.element})}),e(".ui-selecting",this.element[0]).each(function(){var n=e.data(this,"selectable-item");n.$element.removeClass("ui-selecting").addClass("ui-selected"),n.selecting=!1,n.selected=!0,n.startselected=!0,i._trigger("selected",t,{selected:n.element})}),this._trigger("stop",t),this.helper.remove(),!1}})}),function(e){"function"==typeof define&&define.amd?define(["jquery","./core","./widget","./position","./menu"],e):e(jQuery)}(function(e){return e.widget("ui.selectmenu",{version:"1.11.4",defaultElement:"<select>",options:{appendTo:null,disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:null,change:null,close:null,focus:null,open:null,select:null},_create:function(){var e=this.element.uniqueId().attr("id");this.ids={element:e,button:e+"-button",menu:e+"-menu"},this._drawButton(),this._drawMenu(),this.options.disabled&&this.disable()},_drawButton:function(){var t=this;this.label=e("label[for='"+this.ids.element+"']").attr("for",this.ids.button),this._on(this.label,{click:function(e){this.button.focus(),e.preventDefault()}}),this.element.hide(),this.button=e("<span>",{"class":"ui-selectmenu-button ui-widget ui-state-default ui-corner-all",tabindex:this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true"}).insertAfter(this.element),e("<span>",{"class":"ui-icon "+this.options.icons.button}).prependTo(this.button),this.buttonText=e("<span>",{"class":"ui-selectmenu-text"}).appendTo(this.button),this._setText(this.buttonText,this.element.find("option:selected").text()),this._resizeButton(),this._on(this.button,this._buttonEvents),this.button.one("focusin",function(){t.menuItems||t._refreshMenu()}),this._hoverable(this.button),this._focusable(this.button)},_drawMenu:function(){var t=this;this.menu=e("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu}),this.menuWrap=e("<div>",{"class":"ui-selectmenu-menu ui-front"}).append(this.menu).appendTo(this._appendTo()),this.menuInstance=this.menu.menu({role:"listbox",select:function(e,i){e.preventDefault(),t._setSelection(),t._select(i.item.data("ui-selectmenu-item"),e)},focus:function(e,i){var n=i.item.data("ui-selectmenu-item");null!=t.focusIndex&&n.index!==t.focusIndex&&(t._trigger("focus",e,{item:n}),t.isOpen||t._select(n,e)),t.focusIndex=n.index,t.button.attr("aria-activedescendant",t.menuItems.eq(n.index).attr("id"))}}).menu("instance"),this.menu.addClass("ui-corner-bottom").removeClass("ui-corner-all"),this.menuInstance._off(this.menu,"mouseleave"),this.menuInstance._closeOnDocumentClick=function(){return!1},this.menuInstance._isDivider=function(){return!1}},refresh:function(){this._refreshMenu(),this._setText(this.buttonText,this._getSelectedItem().text()),this.options.width||this._resizeButton()},_refreshMenu:function(){this.menu.empty();var e,t=this.element.find("option");t.length&&(this._parseOptions(t),this._renderMenu(this.menu,this.items),this.menuInstance.refresh(),this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup"),e=this._getSelectedItem(),this.menuInstance.focus(null,e),this._setAria(e.data("ui-selectmenu-item")),this._setOption("disabled",this.element.prop("disabled")))},open:function(e){this.options.disabled||(this.menuItems?(this.menu.find(".ui-state-focus").removeClass("ui-state-focus"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger("open",e))},_position:function(){this.menuWrap.position(e.extend({of:this.button},this.options.position))},close:function(e){this.isOpen&&(this.isOpen=!1,this._toggleAttr(),this.range=null,this._off(this.document),this._trigger("close",e))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderMenu:function(t,i){var n=this,s="";e.each(i,function(i,r){r.optgroup!==s&&(e("<li>",{"class":"ui-selectmenu-optgroup ui-menu-divider"+(r.element.parent("optgroup").prop("disabled")?" ui-state-disabled":""),text:r.optgroup}).appendTo(t),s=r.optgroup),n._renderItemData(t,r)})},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-selectmenu-item",t)},_renderItem:function(t,i){var n=e("<li>");return i.disabled&&n.addClass("ui-state-disabled"),this._setText(n,i.label),n.appendTo(t)},_setText:function(e,t){t?e.text(t):e.html("&#160;")},_move:function(e,t){var i,n,s=".ui-menu-item";this.isOpen?i=this.menuItems.eq(this.focusIndex):(i=this.menuItems.eq(this.element[0].selectedIndex),s+=":not(.ui-state-disabled)"),(n="first"===e||"last"===e?i["first"===e?"prevAll":"nextAll"](s).eq(-1):i[e+"All"](s).eq(0)).length&&this.menuInstance.focus(t,n)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex)},_toggle:function(e){this[this.isOpen?"close":"open"](e)},_setSelection:function(){var e;this.range&&(window.getSelection?((e=window.getSelection()).removeAllRanges(),e.addRange(this.range)):this.range.select(),this.button.focus())},_documentClick:{mousedown:function(t){this.isOpen&&(e(t.target).closest(".ui-selectmenu-menu, #"+this.ids.button).length||this.close(t))}},_buttonEvents:{mousedown:function(){var e;window.getSelection?(e=window.getSelection()).rangeCount&&(this.range=e.getRangeAt(0)):this.range=document.selection.createRange()},click:function(e){this._setSelection(),this._toggle(e)},keydown:function(t){var i=!0;switch(t.keyCode){case e.ui.keyCode.TAB:case e.ui.keyCode.ESCAPE:this.close(t),i=!1;break;case e.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(t);break;case e.ui.keyCode.UP:t.altKey?this._toggle(t):this._move("prev",t);break;case e.ui.keyCode.DOWN:t.altKey?this._toggle(t):this._move("next",t);break;case e.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(t):this._toggle(t);break;case e.ui.keyCode.LEFT:this._move("prev",t);break;case e.ui.keyCode.RIGHT:this._move("next",t);break;case e.ui.keyCode.HOME:case e.ui.keyCode.PAGE_UP:this._move("first",t);break;case e.ui.keyCode.END:case e.ui.keyCode.PAGE_DOWN:this._move("last",t);break;default:this.menu.trigger(t),i=!1}i&&t.preventDefault()}},_selectFocusedItem:function(e){var t=this.menuItems.eq(this.focusIndex);t.hasClass("ui-state-disabled")||this._select(t.data("ui-selectmenu-item"),e)},_select:function(e,t){var i=this.element[0].selectedIndex;this.element[0].selectedIndex=e.index,this._setText(this.buttonText,e.label),this._setAria(e),this._trigger("select",t,{item:e}),e.index!==i&&this._trigger("change",t,{item:e}),this.close(t)},_setAria:function(e){var t=this.menuItems.eq(e.index).attr("id");this.button.attr({"aria-labelledby":t,"aria-activedescendant":t}),this.menu.attr("aria-activedescendant",t)},_setOption:function(e,t){"icons"===e&&this.button.find("span.ui-icon").removeClass(this.options.icons.button).addClass(t.button),this._super(e,t),"appendTo"===e&&this.menuWrap.appendTo(this._appendTo()),"disabled"===e&&(this.menuInstance.option("disabled",t),this.button.toggleClass("ui-state-disabled",t).attr("aria-disabled",t),this.element.prop("disabled",t),t?(this.button.attr("tabindex",-1),this.close()):this.button.attr("tabindex",0)),"width"===e&&this._resizeButton()},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?e(t):this.document.find(t).eq(0)),t&&t[0]||(t=this.element.closest(".ui-front")),t.length||(t=this.document[0].body),t},_toggleAttr:function(){this.button.toggleClass("ui-corner-top",this.isOpen).toggleClass("ui-corner-all",!this.isOpen).attr("aria-expanded",this.isOpen),this.menuWrap.toggleClass("ui-selectmenu-open",this.isOpen),this.menu.attr("aria-hidden",!this.isOpen)},_resizeButton:function(){var e=this.options.width;e||(e=this.element.show().outerWidth(),this.element.hide()),this.button.outerWidth(e)},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){return{disabled:this.element.prop("disabled")}},_parseOptions:function(t){var i=[];t.each(function(t,n){var s=e(n),r=s.parent("optgroup");i.push({element:s,index:t,value:s.val(),label:s.text(),optgroup:r.attr("label")||"",disabled:r.prop("disabled")||s.prop("disabled")})}),this.items=i},_destroy:function(){this.menuWrap.remove(),this.button.remove(),this.element.show(),this.element.removeUniqueId(),this.label.attr("for",this.ids.element)}})}),function(e){"function"==typeof define&&define.amd?define(["jquery","./core","./mouse","./widget"],e):e(jQuery)}(function(e){return e.widget("ui.slider",e.ui.mouse,{version:"1.11.4",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"),this._refresh(),this._setOption("disabled",this.options.disabled),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var t,i,n=this.options,s=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),r="<span class='ui-slider-handle ui-state-default ui-corner-all' tabindex='0'></span>",o=[];for(i=n.values&&n.values.length||1,s.length>i&&(s.slice(i).remove(),s=s.slice(0,i)),t=s.length;t<i;t++)o.push(r);this.handles=s.add(e(o.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each(function(t){e(this).data("ui-slider-handle-index",t)})},_createRange:function(){var t=this.options,i="";t.range?(!0===t.range&&(t.values?t.values.length&&2!==t.values.length?t.values=[t.values[0],t.values[0]]:e.isArray(t.values)&&(t.values=t.values.slice(0)):t.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=e("<div></div>").appendTo(this.element),i="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(i+("min"===t.range||"max"===t.range?" ui-slider-range-"+t.range:""))):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(t){var i,n,s,r,o,a,l,h=this,d=this.options;return!d.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),i={x:t.pageX,y:t.pageY},n=this._normValueFromMouse(i),s=this._valueMax()-this._valueMin()+1,this.handles.each(function(t){var i=Math.abs(n-h.values(t));(s>i||s===i&&(t===h._lastChangedValue||h.values(t)===d.min))&&(s=i,r=e(this),o=t)}),!1!==this._start(t,o)&&(this._mouseSliding=!0,this._handleIndex=o,r.addClass("ui-state-active").focus(),a=r.offset(),l=!e(t.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=l?{left:0,top:0}:{left:t.pageX-a.left-r.width()/2,top:t.pageY-a.top-r.height()/2-(parseInt(r.css("borderTopWidth"),10)||0)-(parseInt(r.css("borderBottomWidth"),10)||0)+(parseInt(r.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(t,o,n),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(e){var t={x:e.pageX,y:e.pageY},i=this._normValueFromMouse(t);return this._slide(e,this._handleIndex,i),!1},_mouseStop:function(e){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(e,this._handleIndex),this._change(e,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(e){var t,i,n,s,r;return"horizontal"===this.orientation?(t=this.elementSize.width,i=e.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(t=this.elementSize.height,i=e.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),(n=i/t)>1&&(n=1),n<0&&(n=0),"vertical"===this.orientation&&(n=1-n),s=this._valueMax()-this._valueMin(),r=this._valueMin()+n*s,this._trimAlignValue(r)},_start:function(e,t){var i={handle:this.handles[t],value:this.value()};return this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._trigger("start",e,i)},_slide:function(e,t,i){var n,s,r;this.options.values&&this.options.values.length?(n=this.values(t?0:1),2===this.options.values.length&&!0===this.options.range&&(0===t&&i>n||1===t&&i<n)&&(i=n),i!==this.values(t)&&((s=this.values())[t]=i,r=this._trigger("slide",e,{handle:this.handles[t],value:i,values:s}),n=this.values(t?0:1),!1!==r&&this.values(t,i))):i!==this.value()&&!1!==(r=this._trigger("slide",e,{handle:this.handles[t],value:i}))&&this.value(i)},_stop:function(e,t){var i={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._trigger("stop",e,i)},_change:function(e,t){if(!this._keySliding&&!this._mouseSliding){var i={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._lastChangedValue=t,this._trigger("change",e,i)}},value:function(e){return arguments.length?(this.options.value=this._trimAlignValue(e),this._refreshValue(),void this._change(null,0)):this._value()},values:function(t,i){var n,s,r;if(arguments.length>1)return this.options.values[t]=this._trimAlignValue(i),this._refreshValue(),void this._change(null,t);if(!arguments.length)return this._values();if(!e.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(t):this.value();for(n=this.options.values,s=arguments[0],r=0;r<n.length;r+=1)n[r]=this._trimAlignValue(s[r]),this._change(null,r);this._refreshValue()},_setOption:function(t,i){var n,s=0;switch("range"===t&&!0===this.options.range&&("min"===i?(this.options.value=this._values(0),this.options.values=null):"max"===i&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),e.isArray(this.options.values)&&(s=this.options.values.length),"disabled"===t&&this.element.toggleClass("ui-state-disabled",!!i),this._super(t,i),t){case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue(),this.handles.css("horizontal"===i?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),n=0;n<s;n+=1)this._change(null,n);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var e=this.options.value;return e=this._trimAlignValue(e)},_values:function(e){var t,i,n;if(arguments.length)return t=this.options.values[e],t=this._trimAlignValue(t);if(this.options.values&&this.options.values.length){for(i=this.options.values.slice(),n=0;n<i.length;n+=1)i[n]=this._trimAlignValue(i[n]);return i}return[]},_trimAlignValue:function(e){if(e<=this._valueMin())return this._valueMin();if(e>=this._valueMax())return this._valueMax();var t=this.options.step>0?this.options.step:1,i=(e-this._valueMin())%t,n=e-i;return 2*Math.abs(i)>=t&&(n+=i>0?t:-t),parseFloat(n.toFixed(5))},_calculateNewMax:function(){var e=this.options.max,t=this._valueMin(),i=this.options.step;e=Math.floor(+(e-t).toFixed(this._precision())/i)*i+t,this.max=parseFloat(e.toFixed(this._precision()))},_precision:function(){var e=this._precisionOf(this.options.step);return null!==this.options.min&&(e=Math.max(e,this._precisionOf(this.options.min))),e},_precisionOf:function(e){var t=e.toString(),i=t.indexOf(".");return-1===i?0:t.length-i-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshValue:function(){var t,i,n,s,r,o=this.options.range,a=this.options,l=this,h=!this._animateOff&&a.animate,d={};this.options.values&&this.options.values.length?this.handles.each(function(n){i=(l.values(n)-l._valueMin())/(l._valueMax()-l._valueMin())*100,d["horizontal"===l.orientation?"left":"bottom"]=i+"%",e(this).stop(1,1)[h?"animate":"css"](d,a.animate),!0===l.options.range&&("horizontal"===l.orientation?(0===n&&l.range.stop(1,1)[h?"animate":"css"]({left:i+"%"},a.animate),1===n&&l.range[h?"animate":"css"]({width:i-t+"%"},{queue:!1,duration:a.animate})):(0===n&&l.range.stop(1,1)[h?"animate":"css"]({bottom:i+"%"},a.animate),1===n&&l.range[h?"animate":"css"]({height:i-t+"%"},{queue:!1,duration:a.animate}))),t=i}):(n=this.value(),s=this._valueMin(),r=this._valueMax(),i=r!==s?(n-s)/(r-s)*100:0,d["horizontal"===this.orientation?"left":"bottom"]=i+"%",this.handle.stop(1,1)[h?"animate":"css"](d,a.animate),"min"===o&&"horizontal"===this.orientation&&this.range.stop(1,1)[h?"animate":"css"]({width:i+"%"},a.animate),"max"===o&&"horizontal"===this.orientation&&this.range[h?"animate":"css"]({width:100-i+"%"},{queue:!1,duration:a.animate}),"min"===o&&"vertical"===this.orientation&&this.range.stop(1,1)[h?"animate":"css"]({height:i+"%"},a.animate),"max"===o&&"vertical"===this.orientation&&this.range[h?"animate":"css"]({height:100-i+"%"},{queue:!1,duration:a.animate}))},_handleEvents:{keydown:function(t){var i,n,s,r=e(t.target).data("ui-slider-handle-index");switch(t.keyCode){case e.ui.keyCode.HOME:case e.ui.keyCode.END:case e.ui.keyCode.PAGE_UP:case e.ui.keyCode.PAGE_DOWN:case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(t.preventDefault(),!this._keySliding&&(this._keySliding=!0,e(t.target).addClass("ui-state-active"),!1===this._start(t,r)))return}switch(s=this.options.step,i=n=this.options.values&&this.options.values.length?this.values(r):this.value(),t.keyCode){case e.ui.keyCode.HOME:n=this._valueMin();break;case e.ui.keyCode.END:n=this._valueMax();break;case e.ui.keyCode.PAGE_UP:n=this._trimAlignValue(i+(this._valueMax()-this._valueMin())/this.numPages);break;case e.ui.keyCode.PAGE_DOWN:n=this._trimAlignValue(i-(this._valueMax()-this._valueMin())/this.numPages);break;case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:if(i===this._valueMax())return;n=this._trimAlignValue(i+s);break;case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(i===this._valueMin())return;n=this._trimAlignValue(i-s)}this._slide(t,r,n)},keyup:function(t){var i=e(t.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(t,i),this._change(t,i),e(t.target).removeClass("ui-state-active"))}}})}),function(e){"function"==typeof define&&define.amd?define(["jquery","./core","./mouse","./widget"],e):e(jQuery)}(function(e){return e.widget("ui.sortable",e.ui.mouse,{version:"1.11.4",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(e,t,i){return e>=t&&e<t+i},_isFloating:function(e){return/left|right/.test(e.css("float"))||/inline|table-cell/.test(e.css("display"))},_create:function(){this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(e,t){this._super(e,t),"handle"===e&&this._setHandleClassName()},_setHandleClassName:function(){this.element.find(".ui-sortable-handle").removeClass("ui-sortable-handle"),e.each(this.items,function(){(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item).addClass("ui-sortable-handle")})},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").find(".ui-sortable-handle").removeClass("ui-sortable-handle"),this._mouseDestroy();for(var e=this.items.length-1;e>=0;e--)this.items[e].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(t,i){var n=null,s=!1,r=this;return!this.reverting&&(!this.options.disabled&&"static"!==this.options.type&&(this._refreshItems(t),e(t.target).parents().each(function(){if(e.data(this,r.widgetName+"-item")===r)return n=e(this),!1}),e.data(t.target,r.widgetName+"-item")===r&&(n=e(t.target)),!!n&&(!(this.options.handle&&!i&&(e(this.options.handle,n).find("*").addBack().each(function(){this===t.target&&(s=!0)}),!s))&&(this.currentItem=n,this._removeCurrentsFromItems(),!0))))},_mouseStart:function(t,i,n){var s,r,o=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,o.cursorAt&&this._adjustOffsetFromHelper(o.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),o.containment&&this._setContainment(),o.cursor&&"auto"!==o.cursor&&(r=this.document.find("body"),this.storedCursor=r.css("cursor"),r.css("cursor",o.cursor),this.storedStylesheet=e("<style>*{ cursor: "+o.cursor+" !important; }</style>").appendTo(r)),o.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",o.opacity)),o.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",o.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!n)for(s=this.containers.length-1;s>=0;s--)this.containers[s]._trigger("activate",t,this._uiHash(this));return e.ui.ddmanager&&(e.ui.ddmanager.current=this),e.ui.ddmanager&&!o.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){var i,n,s,r,o=this.options,a=!1;for(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<o.scrollSensitivity?this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop+o.scrollSpeed:t.pageY-this.overflowOffset.top<o.scrollSensitivity&&(this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop-o.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<o.scrollSensitivity?this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft+o.scrollSpeed:t.pageX-this.overflowOffset.left<o.scrollSensitivity&&(this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft-o.scrollSpeed)):(t.pageY-this.document.scrollTop()<o.scrollSensitivity?a=this.document.scrollTop(this.document.scrollTop()-o.scrollSpeed):this.window.height()-(t.pageY-this.document.scrollTop())<o.scrollSensitivity&&(a=this.document.scrollTop(this.document.scrollTop()+o.scrollSpeed)),t.pageX-this.document.scrollLeft()<o.scrollSensitivity?a=this.document.scrollLeft(this.document.scrollLeft()-o.scrollSpeed):this.window.width()-(t.pageX-this.document.scrollLeft())<o.scrollSensitivity&&(a=this.document.scrollLeft(this.document.scrollLeft()+o.scrollSpeed))),!1!==a&&e.ui.ddmanager&&!o.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),i=this.items.length-1;i>=0;i--)if(s=(n=this.items[i]).item[0],(r=this._intersectsWithPointer(n))&&n.instance===this.currentContainer&&!(s===this.currentItem[0]||this.placeholder[1===r?"next":"prev"]()[0]===s||e.contains(this.placeholder[0],s)||"semi-dynamic"===this.options.type&&e.contains(this.element[0],s))){if(this.direction=1===r?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(n))break;this._rearrange(t,n),this._trigger("change",t,this._uiHash());break}return this._contactContainers(t),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,i){if(t){if(e.ui.ddmanager&&!this.options.dropBehaviour&&e.ui.ddmanager.drop(this,t),this.options.revert){var n=this,s=this.placeholder.offset(),r=this.options.axis,o={};r&&"x"!==r||(o.left=s.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),r&&"y"!==r||(o.top=s.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,e(this.helper).animate(o,parseInt(this.options.revert,10)||500,function(){n._clear(t)})}else this._clear(t,i);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var t=this.containers.length-1;t>=0;t--)this.containers[t]._trigger("deactivate",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),
"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),e.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?e(this.domPosition.prev).after(this.currentItem):e(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var i=this._getItemsAsjQuery(t&&t.connected),n=[];return t=t||{},e(i).each(function(){var i=(e(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[\-=_](.+)/);i&&n.push((t.key||i[1]+"[]")+"="+(t.key&&t.expression?i[1]:i[2]))}),!n.length&&t.key&&n.push(t.key+"="),n.join("&")},toArray:function(t){var i=this._getItemsAsjQuery(t&&t.connected),n=[];return t=t||{},i.each(function(){n.push(e(t.item||this).attr(t.attribute||"id")||"")}),n},_intersectsWith:function(e){var t=this.positionAbs.left,i=t+this.helperProportions.width,n=this.positionAbs.top,s=n+this.helperProportions.height,r=e.left,o=r+e.width,a=e.top,l=a+e.height,h=this.offset.click.top,d=this.offset.click.left,c="x"===this.options.axis||n+h>a&&n+h<l,u="y"===this.options.axis||t+d>r&&t+d<o,f=c&&u;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?f:r<t+this.helperProportions.width/2&&i-this.helperProportions.width/2<o&&a<n+this.helperProportions.height/2&&s-this.helperProportions.height/2<l},_intersectsWithPointer:function(e){var t="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top,e.height),i="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left,e.width),n=t&&i,s=this._getDragVerticalDirection(),r=this._getDragHorizontalDirection();return!!n&&(this.floating?r&&"right"===r||"down"===s?2:1:s&&("down"===s?2:1))},_intersectsWithSides:function(e){var t=this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top+e.height/2,e.height),i=this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left+e.width/2,e.width),n=this._getDragVerticalDirection(),s=this._getDragHorizontalDirection();return this.floating&&s?"right"===s&&i||"left"===s&&!i:n&&("down"===n&&t||"up"===n&&!t)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return 0!==e&&(e>0?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return 0!==e&&(e>0?"right":"left")},refresh:function(e){return this._refreshItems(e),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var e=this.options;return e.connectWith.constructor===String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(t){function i(){a.push(this)}var n,s,r,o,a=[],l=[],h=this._connectWith();if(h&&t)for(n=h.length-1;n>=0;n--)for(s=(r=e(h[n],this.document[0])).length-1;s>=0;s--)(o=e.data(r[s],this.widgetFullName))&&o!==this&&!o.options.disabled&&l.push([e.isFunction(o.options.items)?o.options.items.call(o.element):e(o.options.items,o.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),o]);for(l.push([e.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):e(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),n=l.length-1;n>=0;n--)l[n][0].each(i);return e(a)},_removeCurrentsFromItems:function(){var t=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=e.grep(this.items,function(e){for(var i=0;i<t.length;i++)if(t[i]===e.item[0])return!1;return!0})},_refreshItems:function(t){this.items=[],this.containers=[this];var i,n,s,r,o,a,l,h,d=this.items,c=[[e.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):e(this.options.items,this.element),this]],u=this._connectWith();if(u&&this.ready)for(i=u.length-1;i>=0;i--)for(n=(s=e(u[i],this.document[0])).length-1;n>=0;n--)(r=e.data(s[n],this.widgetFullName))&&r!==this&&!r.options.disabled&&(c.push([e.isFunction(r.options.items)?r.options.items.call(r.element[0],t,{item:this.currentItem}):e(r.options.items,r.element),r]),this.containers.push(r));for(i=c.length-1;i>=0;i--)for(o=c[i][1],n=0,h=(a=c[i][0]).length;n<h;n++)(l=e(a[n])).data(this.widgetName+"-item",o),d.push({item:l,instance:o,width:0,height:0,left:0,top:0})},refreshPositions:function(t){var i,n,s,r;for(this.floating=!!this.items.length&&("x"===this.options.axis||this._isFloating(this.items[0].item)),this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset()),i=this.items.length-1;i>=0;i--)(n=this.items[i]).instance!==this.currentContainer&&this.currentContainer&&n.item[0]!==this.currentItem[0]||(s=this.options.toleranceElement?e(this.options.toleranceElement,n.item):n.item,t||(n.width=s.outerWidth(),n.height=s.outerHeight()),r=s.offset(),n.left=r.left,n.top=r.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;i>=0;i--)r=this.containers[i].element.offset(),this.containers[i].containerCache.left=r.left,this.containers[i].containerCache.top=r.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight();return this},_createPlaceholder:function(t){var i,n=(t=t||this).options;n.placeholder&&n.placeholder.constructor!==String||(i=n.placeholder,n.placeholder={element:function(){var n=t.currentItem[0].nodeName.toLowerCase(),s=e("<"+n+">",t.document[0]).addClass(i||t.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tbody"===n?t._createTrPlaceholder(t.currentItem.find("tr").eq(0),e("<tr>",t.document[0]).appendTo(s)):"tr"===n?t._createTrPlaceholder(t.currentItem,s):"img"===n&&s.attr("src",t.currentItem.attr("src")),i||s.css("visibility","hidden"),s},update:function(e,s){i&&!n.forcePlaceholderSize||(s.height()||s.height(t.currentItem.innerHeight()-parseInt(t.currentItem.css("paddingTop")||0,10)-parseInt(t.currentItem.css("paddingBottom")||0,10)),s.width()||s.width(t.currentItem.innerWidth()-parseInt(t.currentItem.css("paddingLeft")||0,10)-parseInt(t.currentItem.css("paddingRight")||0,10)))}}),t.placeholder=e(n.placeholder.element.call(t.element,t.currentItem)),t.currentItem.after(t.placeholder),n.placeholder.update(t,t.placeholder)},_createTrPlaceholder:function(t,i){var n=this;t.children().each(function(){e("<td>&#160;</td>",n.document[0]).attr("colspan",e(this).attr("colspan")||1).appendTo(i)})},_contactContainers:function(t){var i,n,s,r,o,a,l,h,d,c,u=null,f=null;for(i=this.containers.length-1;i>=0;i--)if(!e.contains(this.currentItem[0],this.containers[i].element[0]))if(this._intersectsWith(this.containers[i].containerCache)){if(u&&e.contains(this.containers[i].element[0],u.element[0]))continue;u=this.containers[i],f=i}else this.containers[i].containerCache.over&&(this.containers[i]._trigger("out",t,this._uiHash(this)),this.containers[i].containerCache.over=0);if(u)if(1===this.containers.length)this.containers[f].containerCache.over||(this.containers[f]._trigger("over",t,this._uiHash(this)),this.containers[f].containerCache.over=1);else{for(s=1e4,r=null,o=(d=u.floating||this._isFloating(this.currentItem))?"left":"top",a=d?"width":"height",c=d?"clientX":"clientY",n=this.items.length-1;n>=0;n--)e.contains(this.containers[f].element[0],this.items[n].item[0])&&this.items[n].item[0]!==this.currentItem[0]&&(l=this.items[n].item.offset()[o],h=!1,t[c]-l>this.items[n][a]/2&&(h=!0),Math.abs(t[c]-l)<s&&(s=Math.abs(t[c]-l),r=this.items[n],this.direction=h?"up":"down"));if(!r&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[f])return void(this.currentContainer.containerCache.over||(this.containers[f]._trigger("over",t,this._uiHash()),this.currentContainer.containerCache.over=1));r?this._rearrange(t,r,null,!0):this._rearrange(t,null,this.containers[f].element,!0),this._trigger("change",t,this._uiHash()),this.containers[f]._trigger("change",t,this._uiHash(this)),this.currentContainer=this.containers[f],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[f]._trigger("over",t,this._uiHash(this)),this.containers[f].containerCache.over=1}},_createHelper:function(t){var i=this.options,n=e.isFunction(i.helper)?e(i.helper.apply(this.element[0],[t,this.currentItem])):"clone"===i.helper?this.currentItem.clone():this.currentItem;return n.parents("body").length||e("parent"!==i.appendTo?i.appendTo:this.currentItem[0].parentNode)[0].appendChild(n[0]),n[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),n[0].style.width&&!i.forceHelperSize||n.width(this.currentItem.width()),n[0].style.height&&!i.forceHelperSize||n.height(this.currentItem.height()),n},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&e.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,i,n,s=this.options;"parent"===s.containment&&(s.containment=this.helper[0].parentNode),"document"!==s.containment&&"window"!==s.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===s.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===s.containment?this.document.width():this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(s.containment)||(t=e(s.containment)[0],i=e(s.containment).offset(),n="hidden"!==e(t).css("overflow"),this.containment=[i.left+(parseInt(e(t).css("borderLeftWidth"),10)||0)+(parseInt(e(t).css("paddingLeft"),10)||0)-this.margins.left,i.top+(parseInt(e(t).css("borderTopWidth"),10)||0)+(parseInt(e(t).css("paddingTop"),10)||0)-this.margins.top,i.left+(n?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(e(t).css("borderLeftWidth"),10)||0)-(parseInt(e(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,i.top+(n?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(e(t).css("borderTopWidth"),10)||0)-(parseInt(e(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(t,i){i||(i=this.position);var n="absolute"===t?1:-1,s="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,r=/(html|body)/i.test(s[0].tagName);return{top:i.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():r?0:s.scrollTop())*n,left:i.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():r?0:s.scrollLeft())*n}},_generatePosition:function(t){var i,n,s=this.options,r=t.pageX,o=t.pageY,a="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(a[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(r=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(o=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(r=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(o=this.containment[3]+this.offset.click.top)),s.grid&&(i=this.originalPageY+Math.round((o-this.originalPageY)/s.grid[1])*s.grid[1],o=this.containment?i-this.offset.click.top>=this.containment[1]&&i-this.offset.click.top<=this.containment[3]?i:i-this.offset.click.top>=this.containment[1]?i-s.grid[1]:i+s.grid[1]:i,n=this.originalPageX+Math.round((r-this.originalPageX)/s.grid[0])*s.grid[0],r=this.containment?n-this.offset.click.left>=this.containment[0]&&n-this.offset.click.left<=this.containment[2]?n:n-this.offset.click.left>=this.containment[0]?n-s.grid[0]:n+s.grid[0]:n)),{top:o-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:a.scrollTop()),left:r-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:a.scrollLeft())}},_rearrange:function(e,t,i,n){i?i[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?t.item[0]:t.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var s=this.counter;this._delay(function(){s===this.counter&&this.refreshPositions(!n)})},_clear:function(e,t){function i(e,t,i){return function(n){i._trigger(e,n,t._uiHash(t))}}this.reverting=!1;var n,s=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(n in this._storedCSS)"auto"!==this._storedCSS[n]&&"static"!==this._storedCSS[n]||(this._storedCSS[n]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!t&&s.push(function(e){this._trigger("receive",e,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||t||s.push(function(e){this._trigger("update",e,this._uiHash())}),this!==this.currentContainer&&(t||(s.push(function(e){this._trigger("remove",e,this._uiHash())}),s.push(function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer)),s.push(function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer)))),n=this.containers.length-1;n>=0;n--)t||s.push(i("deactivate",this,this.containers[n])),this.containers[n].containerCache.over&&(s.push(i("out",this,this.containers[n])),this.containers[n].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,t||this._trigger("beforeStop",e,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!t){for(n=0;n<s.length;n++)s[n].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){!1===e.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(t){var i=t||this;return{helper:i.helper,placeholder:i.placeholder||e([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:t?t.element:null}}})}),function(e){"function"==typeof define&&define.amd?define(["jquery","./core","./widget","./button"],e):e(jQuery)}(function(e){function t(e){return function(){var t=this.element.val();e.apply(this,arguments),this._refresh(),t!==this.element.val()&&this._trigger("change")}}return e.widget("ui.spinner",{version:"1.11.4",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var t={},i=this.element;return e.each(["min","max","step"],function(e,n){var s=i.attr(n);s!==undefined&&s.length&&(t[n]=s)}),t},_events:{keydown:function(e){this._start(e)&&this._keydown(e)&&e.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(e){this.cancelBlur?delete this.cancelBlur:(this._stop(),this._refresh(),this.previous!==this.element.val()&&this._trigger("change",e))},mousewheel:function(e,t){if(t){if(!this.spinning&&!this._start(e))return!1;this._spin((t>0?1:-1)*this.options.step,e),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(e)},100),e.preventDefault()}},"mousedown .ui-spinner-button":function(t){function i(){this.element[0]===this.document[0].activeElement||(this.element.focus(),this.previous=n,this._delay(function(){this.previous=n}))}var n;n=this.element[0]===this.document[0].activeElement?this.previous:this.element.val(),t.preventDefault(),i.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,i.call(this)}),!1!==this._start(t)&&this._repeat(null,e(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(t){if(e(t.currentTarget).hasClass("ui-state-active"))return!1!==this._start(t)&&void this._repeat(null,e(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t)},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var e=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton"),this.buttons=e.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all"),this.buttons.height()>Math.ceil(.5*e.height())&&e.height()>0&&e.height(e.height()),this.options.disabled&&this.disable()},_keydown:function(t){var i=this.options,n=e.ui.keyCode;switch(t.keyCode){case n.UP:return this._repeat(null,1,t),!0;case n.DOWN:return this._repeat(null,-1,t),!0;case n.PAGE_UP:return this._repeat(null,i.page,t),!0;case n.PAGE_DOWN:return this._repeat(null,-i.page,t),!0}return!1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+this.options.icons.up+"'>&#9650;</span></a><a class='ui-spinner-button ui-spinner-down ui-corner-br'><span class='ui-icon "+this.options.icons.down+"'>&#9660;</span></a>"},_start:function(e){return!(!this.spinning&&!1===this._trigger("start",e))&&(this.counter||(this.counter=1),this.spinning=!0,!0)},_repeat:function(e,t,i){e=e||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,t,i)},e),this._spin(t*this.options.step,i)},_spin:function(e,t){var i=this.value()||0;this.counter||(this.counter=1),i=this._adjustValue(i+e*this._increment(this.counter)),this.spinning&&!1===this._trigger("spin",t,{value:i})||(this._value(i),this.counter++)},_increment:function(t){var i=this.options.incremental;return i?e.isFunction(i)?i(t):Math.floor(t*t*t/5e4-t*t/500+17*t/200+1):1},_precision:function(){var e=this._precisionOf(this.options.step);return null!==this.options.min&&(e=Math.max(e,this._precisionOf(this.options.min))),e},_precisionOf:function(e){var t=e.toString(),i=t.indexOf(".");return-1===i?0:t.length-i-1},_adjustValue:function(e){var t,i,n=this.options;return i=e-(t=null!==n.min?n.min:0),e=t+(i=Math.round(i/n.step)*n.step),e=parseFloat(e.toFixed(this._precision())),null!==n.max&&e>n.max?n.max:null!==n.min&&e<n.min?n.min:e},_stop:function(e){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",e))},_setOption:function(e,t){if("culture"===e||"numberFormat"===e){var i=this._parse(this.element.val());return this.options[e]=t,void this.element.val(this._format(i))}"max"!==e&&"min"!==e&&"step"!==e||"string"==typeof t&&(t=this._parse(t)),"icons"===e&&(this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(t.up),this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(t.down)),this._super(e,t),"disabled"===e&&(this.widget().toggleClass("ui-state-disabled",!!t),this.element.prop("disabled",!!t),this.buttons.button(t?"disable":"enable"))},_setOptions:t(function(e){this._super(e)}),_parse:function(e){return"string"==typeof e&&""!==e&&(e=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(e,10,this.options.culture):+e),""===e||isNaN(e)?null:e},_format:function(e){return""===e?"":window.Globalize&&this.options.numberFormat?Globalize.format(e,this.options.numberFormat,this.options.culture):e},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var e=this.value();return null!==e&&e===this._adjustValue(e)},_value:function(e,t){var i;""!==e&&null!==(i=this._parse(e))&&(t||(i=this._adjustValue(i)),e=this._format(i)),this.element.val(e),this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:t(function(e){this._stepUp(e)}),_stepUp:function(e){this._start()&&(this._spin((e||1)*this.options.step),this._stop())},stepDown:t(function(e){this._stepDown(e)}),_stepDown:function(e){this._start()&&(this._spin((e||1)*-this.options.step),this._stop())},pageUp:t(function(e){this._stepUp((e||1)*this.options.page)}),pageDown:t(function(e){this._stepDown((e||1)*this.options.page)}),value:function(e){if(!arguments.length)return this._parse(this.element.val());t(this._value).call(this,e)},widget:function(){return this.uiSpinner}})}),function(e){"function"==typeof define&&define.amd?define(["jquery","./core","./widget"],e):e(jQuery)}(function(e){return e.widget("ui.tabs",{version:"1.11.4",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:(t=/#.*$/,function(e){var i,n;i=(e=e.cloneNode(!1)).href.replace(t,""),n=location.href.replace(t,"");try{i=decodeURIComponent(i)}catch(s){}try{n=decodeURIComponent(n)}catch(s){}return e.hash.length>1&&i===n}),_create:function(){var t=this,i=this.options;this.running=!1,this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",i.collapsible),this._processTabs(),i.active=this._initialActive(),e.isArray(i.disabled)&&(i.disabled=e.unique(i.disabled.concat(e.map(this.tabs.filter(".ui-state-disabled"),function(e){return t.tabs.index(e)}))).sort()),!1!==this.options.active&&this.anchors.length?this.active=this._findActive(i.active):this.active=e(),this._refresh(),this.active.length&&this.load(i.active)},_initialActive:function(){var t=this.options.active,i=this.options.collapsible,n=location.hash.substring(1);return null===t&&(n&&this.tabs.each(function(i,s){if(e(s).attr("aria-controls")===n)return t=i,!1}),null===t&&(t=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),null!==t&&-1!==t||(t=!!this.tabs.length&&0)),!1!==t&&-1===(t=this.tabs.index(this.tabs.eq(t)))&&(t=!i&&0),!i&&!1===t&&this.anchors.length&&(t=0),t},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):e()}},_tabKeydown:function(t){var i=e(this.document[0].activeElement).closest("li"),n=this.tabs.index(i),s=!0;if(!this._handlePageNav(t)){switch(t.keyCode){case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:n++;break;case e.ui.keyCode.UP:case e.ui.keyCode.LEFT:s=!1,n--;break;case e.ui.keyCode.END:n=this.anchors.length-1;break;case e.ui.keyCode.HOME:n=0;break;case e.ui.keyCode.SPACE:return t.preventDefault(),clearTimeout(this.activating),void this._activate(n);case e.ui.keyCode.ENTER:return t.preventDefault(),clearTimeout(this.activating),void this._activate(n!==this.options.active&&n);default:return}t.preventDefault(),clearTimeout(this.activating),n=this._focusNextTab(n,s),t.ctrlKey||t.metaKey||(i.attr("aria-selected","false"),this.tabs.eq(n).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",n)},this.delay))}},_panelKeydown:function(t){this._handlePageNav(t)||t.ctrlKey&&t.keyCode===e.ui.keyCode.UP&&(t.preventDefault(),this.active.focus())},_handlePageNav:function(t){return t.altKey&&t.keyCode===e.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):t.altKey&&t.keyCode===e.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(t,i){function n(){return t>s&&(t=0),t<0&&(t=s),t}for(var s=this.tabs.length-1;-1!==e.inArray(n(),this.options.disabled);)t=i?t+1:t-1;return t},_focusNextTab:function(e,t){return e=this._findNextTab(e,t),this.tabs.eq(e).focus(),e},_setOption:function(e,t){"active"!==e?"disabled"!==e?(this._super(e,t),"collapsible"===e&&(this.element.toggleClass("ui-tabs-collapsible",t),t||!1!==this.options.active||this._activate(0)),"event"===e&&this._setupEvents(t),"heightStyle"===e&&this._setupHeightStyle(t)):this._setupDisabled(t):this._activate(t)},_sanitizeSelector:function(e){return e?e.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var t=this.options,i=this.tablist.children(":has(a[href])");t.disabled=e.map(i.filter(".ui-state-disabled"),function(e){return i.index(e)}),this._processTabs(),!1!==t.active&&this.anchors.length?this.active.length&&!e.contains(this.tablist[0],this.active[0])?this.tabs.length===t.disabled.length?(t.active=!1,this.active=e()):this._activate(this._findNextTab(Math.max(0,t.active-1),!1)):t.active=this.tabs.index(this.active):(t.active=!1,this.active=e()),this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"}),this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var t=this,i=this.tabs,n=this.anchors,s=this.panels;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist").delegate("> li","mousedown"+this.eventNamespace,function(t){e(this).is(".ui-state-disabled")&&t.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){e(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1}),this.anchors=this.tabs.map(function(){return e("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1}),this.panels=e(),this.anchors.each(function(i,n){var s,r,o,a=e(n).uniqueId().attr("id"),l=e(n).closest("li"),h=l.attr("aria-controls");t._isLocal(n)?(o=(s=n.hash).substring(1),r=t.element.find(t._sanitizeSelector(s))):(s="#"+(o=l.attr("aria-controls")||e({}).uniqueId()[0].id),(r=t.element.find(s)).length||(r=t._createPanel(o)).insertAfter(t.panels[i-1]||t.tablist),r.attr("aria-live","polite")),r.length&&(t.panels=t.panels.add(r)),h&&l.data("ui-tabs-aria-controls",h),l.attr({"aria-controls":o,"aria-labelledby":a}),r.attr("aria-labelledby",a)}),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel"),i&&(this._off(i.not(this.tabs)),this._off(n.not(this.anchors)),this._off(s.not(this.panels)))},_getList:function(){return this.tablist||this.element.find("ol,ul").eq(0)},_createPanel:function(t){return e("<div>").attr("id",t).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(t){e.isArray(t)&&(t.length?t.length===this.anchors.length&&(t=!0):t=!1);for(var i,n=0;i=this.tabs[n];n++)!0===t||-1!==e.inArray(n,t)?e(i).addClass("ui-state-disabled").attr("aria-disabled","true"):e(i).removeClass("ui-state-disabled").removeAttr("aria-disabled");this.options.disabled=t},_setupEvents:function(t){var i={};t&&e.each(t.split(" "),function(e,t){i[t]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(e){e.preventDefault()}}),this._on(this.anchors,i),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(t){var i,n=this.element.parent();"fill"===t?(i=n.height(),i-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var t=e(this),n=t.css("position");"absolute"!==n&&"fixed"!==n&&(i-=t.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){i-=e(this).outerHeight(!0)}),this.panels.each(function(){e(this).height(Math.max(0,i-e(this).innerHeight()+e(this).height()))}).css("overflow","auto")):"auto"===t&&(i=0,this.panels.each(function(){i=Math.max(i,e(this).height("").height())}).height(i))},_eventHandler:function(t){var i=this.options,n=this.active,s=e(t.currentTarget).closest("li"),r=s[0]===n[0],o=r&&i.collapsible,a=o?e():this._getPanelForTab(s),l=n.length?this._getPanelForTab(n):e(),h={oldTab:n,oldPanel:l,newTab:o?e():s,newPanel:a};t.preventDefault(),s.hasClass("ui-state-disabled")||s.hasClass("ui-tabs-loading")||this.running||r&&!i.collapsible||!1===this._trigger("beforeActivate",t,h)||(i.active=!o&&this.tabs.index(s),this.active=r?e():s,this.xhr&&this.xhr.abort(),l.length||a.length||e.error("jQuery UI Tabs: Mismatching fragment identifier."),a.length&&this.load(this.tabs.index(s),t),this._toggle(t,h))},_toggle:function(t,i){function n(){r.running=!1,r._trigger("activate",t,i)}function s(){i.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),o.length&&r.options.show?r._show(o,r.options.show,n):(o.show(),n())}var r=this,o=i.newPanel,a=i.oldPanel;this.running=!0,a.length&&this.options.hide?this._hide(a,this.options.hide,function(){i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),s()}):(i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),a.hide(),s()),a.attr("aria-hidden","true"),i.oldTab.attr({"aria-selected":"false","aria-expanded":"false"}),o.length&&a.length?i.oldTab.attr("tabIndex",-1):o.length&&this.tabs.filter(function(){return 0===e(this).attr("tabIndex")}).attr("tabIndex",-1),o.attr("aria-hidden","false"),i.newTab.attr({
"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(t){var i,n=this._findActive(t);n[0]!==this.active[0]&&(n.length||(n=this.active),i=n.find(".ui-tabs-anchor")[0],this._eventHandler({target:i,currentTarget:i,preventDefault:e.noop}))},_findActive:function(t){return!1===t?e():this.tabs.eq(t)},_getIndex:function(e){return"string"==typeof e&&(e=this.anchors.index(this.anchors.filter("[href$='"+e+"']"))),e},_destroy:function(){this.xhr&&this.xhr.abort(),this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"),this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"),this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId(),this.tablist.unbind(this.eventNamespace),this.tabs.add(this.panels).each(function(){e.data(this,"ui-tabs-destroy")?e(this).remove():e(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")}),this.tabs.each(function(){var t=e(this),i=t.data("ui-tabs-aria-controls");i?t.attr("aria-controls",i).removeData("ui-tabs-aria-controls"):t.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(t){var i=this.options.disabled;!1!==i&&(t===undefined?i=!1:(t=this._getIndex(t),i=e.isArray(i)?e.map(i,function(e){return e!==t?e:null}):e.map(this.tabs,function(e,i){return i!==t?i:null})),this._setupDisabled(i))},disable:function(t){var i=this.options.disabled;if(!0!==i){if(t===undefined)i=!0;else{if(t=this._getIndex(t),-1!==e.inArray(t,i))return;i=e.isArray(i)?e.merge([t],i).sort():[t]}this._setupDisabled(i)}},load:function(t,i){t=this._getIndex(t);var n=this,s=this.tabs.eq(t),r=s.find(".ui-tabs-anchor"),o=this._getPanelForTab(s),a={tab:s,panel:o},l=function(e,t){"abort"===t&&n.panels.stop(!1,!0),s.removeClass("ui-tabs-loading"),o.removeAttr("aria-busy"),e===n.xhr&&delete n.xhr};this._isLocal(r[0])||(this.xhr=e.ajax(this._ajaxSettings(r,i,a)),this.xhr&&"canceled"!==this.xhr.statusText&&(s.addClass("ui-tabs-loading"),o.attr("aria-busy","true"),this.xhr.done(function(e,t,s){setTimeout(function(){o.html(e),n._trigger("load",i,a),l(s,t)},1)}).fail(function(e,t){setTimeout(function(){l(e,t)},1)})))},_ajaxSettings:function(t,i,n){var s=this;return{url:t.attr("href"),beforeSend:function(t,r){return s._trigger("beforeLoad",i,e.extend({jqXHR:t,ajaxSettings:r},n))}}},_getPanelForTab:function(t){var i=e(t).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+i))}});var t}),function(e){"function"==typeof define&&define.amd?define(["jquery","./core","./widget","./position"],e):e(jQuery)}(function(e){return e.widget("ui.tooltip",{version:"1.11.4",options:{content:function(){var t=e(this).attr("title")||"";return e("<a>").text(t).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_addDescribedBy:function(t,i){var n=(t.attr("aria-describedby")||"").split(/\s+/);n.push(i),t.data("ui-tooltip-id",i).attr("aria-describedby",e.trim(n.join(" ")))},_removeDescribedBy:function(t){var i=t.data("ui-tooltip-id"),n=(t.attr("aria-describedby")||"").split(/\s+/),s=e.inArray(i,n);-1!==s&&n.splice(s,1),t.removeData("ui-tooltip-id"),(n=e.trim(n.join(" ")))?t.attr("aria-describedby",n):t.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.options.disabled&&this._disable(),this.liveRegion=e("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body)},_setOption:function(t,i){var n=this;if("disabled"===t)return this[i?"_disable":"_enable"](),void(this.options[t]=i);this._super(t,i),"content"===t&&e.each(this.tooltips,function(e,t){n._updateContent(t.element)})},_disable:function(){var t=this;e.each(this.tooltips,function(i,n){var s=e.Event("blur");s.target=s.currentTarget=n.element[0],t.close(s,!0)}),this.element.find(this.options.items).addBack().each(function(){var t=e(this);t.is("[title]")&&t.data("ui-tooltip-title",t.attr("title")).removeAttr("title")})},_enable:function(){this.element.find(this.options.items).addBack().each(function(){var t=e(this);t.data("ui-tooltip-title")&&t.attr("title",t.data("ui-tooltip-title"))})},open:function(t){var i=this,n=e(t?t.target:this.element).closest(this.options.items);n.length&&!n.data("ui-tooltip-id")&&(n.attr("title")&&n.data("ui-tooltip-title",n.attr("title")),n.data("ui-tooltip-open",!0),t&&"mouseover"===t.type&&n.parents().each(function(){var t,n=e(this);n.data("ui-tooltip-open")&&((t=e.Event("blur")).target=t.currentTarget=this,i.close(t,!0)),n.attr("title")&&(n.uniqueId(),i.parents[this.id]={element:this,title:n.attr("title")},n.attr("title",""))}),this._registerCloseHandlers(t,n),this._updateContent(n,t))},_updateContent:function(e,t){var i,n=this.options.content,s=this,r=t?t.type:null;if("string"==typeof n)return this._open(t,e,n);(i=n.call(e[0],function(i){s._delay(function(){e.data("ui-tooltip-open")&&(t&&(t.type=r),this._open(t,e,i))})}))&&this._open(t,e,i)},_open:function(t,i,n){function s(e){h.of=e,o.is(":hidden")||o.position(h)}var r,o,a,l,h=e.extend({},this.options.position);n&&((r=this._find(i))?r.tooltip.find(".ui-tooltip-content").html(n):(i.is("[title]")&&(t&&"mouseover"===t.type?i.attr("title",""):i.removeAttr("title")),r=this._tooltip(i),o=r.tooltip,this._addDescribedBy(i,o.attr("id")),o.find(".ui-tooltip-content").html(n),this.liveRegion.children().hide(),n.clone?(l=n.clone()).removeAttr("id").find("[id]").removeAttr("id"):l=n,e("<div>").html(l).appendTo(this.liveRegion),this.options.track&&t&&/^mouse/.test(t.type)?(this._on(this.document,{mousemove:s}),s(t)):o.position(e.extend({of:i},this.options.position)),o.hide(),this._show(o,this.options.show),this.options.show&&this.options.show.delay&&(a=this.delayedShow=setInterval(function(){o.is(":visible")&&(s(h.of),clearInterval(a))},e.fx.interval)),this._trigger("open",t,{tooltip:o})))},_registerCloseHandlers:function(t,i){var n={keyup:function(t){if(t.keyCode===e.ui.keyCode.ESCAPE){var n=e.Event(t);n.currentTarget=i[0],this.close(n,!0)}}};i[0]!==this.element[0]&&(n.remove=function(){this._removeTooltip(this._find(i).tooltip)}),t&&"mouseover"!==t.type||(n.mouseleave="close"),t&&"focusin"!==t.type||(n.focusout="close"),this._on(!0,i,n)},close:function(t){var i,n=this,s=e(t?t.currentTarget:this.element),r=this._find(s);r?(i=r.tooltip,r.closing||(clearInterval(this.delayedShow),s.data("ui-tooltip-title")&&!s.attr("title")&&s.attr("title",s.data("ui-tooltip-title")),this._removeDescribedBy(s),r.hiding=!0,i.stop(!0),this._hide(i,this.options.hide,function(){n._removeTooltip(e(this))}),s.removeData("ui-tooltip-open"),this._off(s,"mouseleave focusout keyup"),s[0]!==this.element[0]&&this._off(s,"remove"),this._off(this.document,"mousemove"),t&&"mouseleave"===t.type&&e.each(this.parents,function(t,i){e(i.element).attr("title",i.title),delete n.parents[t]}),r.closing=!0,this._trigger("close",t,{tooltip:i}),r.hiding||(r.closing=!1))):s.removeData("ui-tooltip-open")},_tooltip:function(t){var i=e("<div>").attr("role","tooltip").addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||"")),n=i.uniqueId().attr("id");return e("<div>").addClass("ui-tooltip-content").appendTo(i),i.appendTo(this.document[0].body),this.tooltips[n]={element:t,tooltip:i}},_find:function(e){var t=e.data("ui-tooltip-id");return t?this.tooltips[t]:null},_removeTooltip:function(e){e.remove(),delete this.tooltips[e.attr("id")]},_destroy:function(){var t=this;e.each(this.tooltips,function(i,n){var s=e.Event("blur"),r=n.element;s.target=s.currentTarget=r[0],t.close(s,!0),e("#"+i).remove(),r.data("ui-tooltip-title")&&(r.attr("title")||r.attr("title",r.data("ui-tooltip-title")),r.removeData("ui-tooltip-title"))}),this.liveRegion.remove()}})}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.Popper=t()}(this,function(){"use strict";function e(e){var t=!1;return function(){t||(t=!0,window.Promise.resolve().then(function(){t=!1,e()}))}}function t(e){var t=!1;return function(){t||(t=!0,setTimeout(function(){t=!1,e()},ae))}}function i(e){return e&&"[object Function]"==={}.toString.call(e)}function n(e,t){if(1!==e.nodeType)return[];var i=getComputedStyle(e,null);return t?i[t]:i}function s(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function r(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var t=n(e),i=t.overflow,o=t.overflowX,a=t.overflowY;return/(auto|scroll)/.test(i+a+o)?e:r(s(e))}function o(e){var t=e&&e.offsetParent,i=t&&t.nodeName;return i&&"BODY"!==i&&"HTML"!==i?-1!==["TD","TABLE"].indexOf(t.nodeName)&&"static"===n(t,"position")?o(t):t:e?e.ownerDocument.documentElement:document.documentElement}function a(e){var t=e.nodeName;return"BODY"!==t&&("HTML"===t||o(e.firstElementChild)===e)}function l(e){return null!==e.parentNode?l(e.parentNode):e}function h(e,t){if(!(e&&e.nodeType&&t&&t.nodeType))return document.documentElement;var i=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,n=i?e:t,s=i?t:e,r=document.createRange();r.setStart(n,0),r.setEnd(s,0);var d=r.commonAncestorContainer;if(e!==d&&t!==d||n.contains(s))return a(d)?d:o(d);var c=l(e);return c.host?h(c.host,t):h(e,l(t).host)}function d(e){var t="top"===(arguments.length>1&&arguments[1]!==undefined?arguments[1]:"top")?"scrollTop":"scrollLeft",i=e.nodeName;if("BODY"===i||"HTML"===i){var n=e.ownerDocument.documentElement;return(e.ownerDocument.scrollingElement||n)[t]}return e[t]}function c(e,t){var i=arguments.length>2&&arguments[2]!==undefined&&arguments[2],n=d(t,"top"),s=d(t,"left"),r=i?-1:1;return e.top+=n*r,e.bottom+=n*r,e.left+=s*r,e.right+=s*r,e}function u(e,t){var i="x"===t?"Left":"Top",n="Left"===i?"Right":"Bottom";return parseFloat(e["border"+i+"Width"],10)+parseFloat(e["border"+n+"Width"],10)}function f(e,t,i,n){return Math.max(t["offset"+e],t["scroll"+e],i["client"+e],i["offset"+e],i["scroll"+e],ce()?i["offset"+e]+n["margin"+("Height"===e?"Top":"Left")]+n["margin"+("Height"===e?"Bottom":"Right")]:0)}function p(){var e=document.body,t=document.documentElement,i=ce()&&getComputedStyle(t);return{height:f("Height",e,t,i),width:f("Width",e,t,i)}}function _(e){return _e({},e,{right:e.left+e.width,bottom:e.top+e.height})}function g(e){var t={};if(ce())try{t=e.getBoundingClientRect();var i=d(e,"top"),s=d(e,"left");t.top+=i,t.left+=s,t.bottom+=i,t.right+=s}catch(g){}else t=e.getBoundingClientRect();var r={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},o="HTML"===e.nodeName?p():{},a=o.width||e.clientWidth||r.right-r.left,l=o.height||e.clientHeight||r.bottom-r.top,h=e.offsetWidth-a,c=e.offsetHeight-l;if(h||c){var f=n(e);h-=u(f,"x"),c-=u(f,"y"),r.width-=h,r.height-=c}return _(r)}function m(e,t){var i=ce(),s="HTML"===t.nodeName,o=g(e),a=g(t),l=r(e),h=n(t),d=parseFloat(h.borderTopWidth,10),u=parseFloat(h.borderLeftWidth,10),f=_({top:o.top-a.top-d,left:o.left-a.left-u,width:o.width,height:o.height});if(f.marginTop=0,f.marginLeft=0,!i&&s){var p=parseFloat(h.marginTop,10),m=parseFloat(h.marginLeft,10);f.top-=d-p,f.bottom-=d-p,f.left-=u-m,f.right-=u-m,f.marginTop=p,f.marginLeft=m}return(i?t.contains(l):t===l&&"BODY"!==l.nodeName)&&(f=c(f,t)),f}function v(e){var t=e.ownerDocument.documentElement,i=m(e,t),n=Math.max(t.clientWidth,window.innerWidth||0),s=Math.max(t.clientHeight,window.innerHeight||0),r=d(t),o=d(t,"left");return _({top:r-i.top+i.marginTop,left:o-i.left+i.marginLeft,width:n,height:s})}function y(e){var t=e.nodeName;return"BODY"!==t&&"HTML"!==t&&("fixed"===n(e,"position")||y(s(e)))}function b(e,t,i,n){var o={top:0,left:0},a=h(e,t);if("viewport"===n)o=v(a);else{var l=void 0;"scrollParent"===n?"BODY"===(l=r(s(t))).nodeName&&(l=e.ownerDocument.documentElement):l="window"===n?e.ownerDocument.documentElement:n;var d=m(l,a);if("HTML"!==l.nodeName||y(a))o=d;else{var c=p(),u=c.height,f=c.width;o.top+=d.top-d.marginTop,o.bottom=u+d.top,o.left+=d.left-d.marginLeft,o.right=f+d.left}}return o.left+=i,o.top+=i,o.right-=i,o.bottom-=i,o}function x(e){return e.width*e.height}function w(e,t,i,n,s){var r=arguments.length>5&&arguments[5]!==undefined?arguments[5]:0;if(-1===e.indexOf("auto"))return e;var o=b(i,n,r,s),a={top:{width:o.width,height:t.top-o.top},right:{width:o.right-t.right,height:o.height},bottom:{width:o.width,height:o.bottom-t.bottom},left:{width:t.left-o.left,height:o.height}},l=Object.keys(a).map(function(e){return _e({key:e},a[e],{area:x(a[e])})}).sort(function(e,t){return t.area-e.area}),h=l.filter(function(e){var t=e.width,n=e.height;return t>=i.clientWidth&&n>=i.clientHeight}),d=h.length>0?h[0].key:l[0].key,c=e.split("-")[1];return d+(c?"-"+c:"")}function k(e,t,i){return m(i,h(t,i))}function E(e){var t=getComputedStyle(e),i=parseFloat(t.marginTop)+parseFloat(t.marginBottom),n=parseFloat(t.marginLeft)+parseFloat(t.marginRight);return{width:e.offsetWidth+n,height:e.offsetHeight+i}}function C(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,function(e){return t[e]})}function D(e,t,i){i=i.split("-")[0];var n=E(e),s={width:n.width,height:n.height},r=-1!==["right","left"].indexOf(i),o=r?"top":"left",a=r?"left":"top",l=r?"height":"width",h=r?"width":"height";return s[o]=t[o]+t[l]/2-n[l]/2,s[a]=i===a?t[a]-n[h]:t[C(a)],s}function T(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function S(e,t,i){if(Array.prototype.findIndex)return e.findIndex(function(e){return e[t]===i});var n=T(e,function(e){return e[t]===i});return e.indexOf(n)}function A(e,t,n){return(n===undefined?e:e.slice(0,S(e,"name",n))).forEach(function(e){e["function"]&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var n=e["function"]||e.fn;e.enabled&&i(n)&&(t.offsets.popper=_(t.offsets.popper),t.offsets.reference=_(t.offsets.reference),t=n(t,e))}),t}function O(){if(!this.state.isDestroyed){var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=k(this.state,this.popper,this.reference),e.placement=w(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.offsets.popper=D(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position="absolute",e=A(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}function N(e,t){return e.some(function(e){var i=e.name;return e.enabled&&i===t})}function I(e){for(var t=[!1,"ms","Webkit","Moz","O"],i=e.charAt(0).toUpperCase()+e.slice(1),n=0;n<t.length-1;n++){var s=t[n],r=s?""+s+i:e;if("undefined"!=typeof document.body.style[r])return r}return null}function M(){return this.state.isDestroyed=!0,N(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.left="",this.popper.style.position="",this.popper.style.top="",this.popper.style[I("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function L(e){var t=e.ownerDocument;return t?t.defaultView:window}function P(e,t,i,n){var s="BODY"===e.nodeName,o=s?e.ownerDocument.defaultView:e;o.addEventListener(t,i,{passive:!0}),s||P(r(o.parentNode),t,i,n),n.push(o)}function H(e,t,i,n){i.updateBound=n,L(e).addEventListener("resize",i.updateBound,{passive:!0});var s=r(e);return P(s,"scroll",i.updateBound,i.scrollParents),i.scrollElement=s,i.eventsEnabled=!0,i}function j(){this.state.eventsEnabled||(this.state=H(this.reference,this.options,this.state,this.scheduleUpdate))}function R(e,t){return L(e).removeEventListener("resize",t.updateBound),t.scrollParents.forEach(function(e){e.removeEventListener("scroll",t.updateBound)}),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t}function z(){this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=R(this.reference,this.state))}function F(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function W(e,t){Object.keys(t).forEach(function(i){var n="";-1!==["width","height","top","right","bottom","left"].indexOf(i)&&F(t[i])&&(n="px"),e.style[i]=t[i]+n})}function B(e,t){Object.keys(t).forEach(function(i){!1!==t[i]?e.setAttribute(i,t[i]):e.removeAttribute(i)})}function q(e){return W(e.instance.popper,e.styles),B(e.instance.popper,e.attributes),e.arrowElement&&Object.keys(e.arrowStyles).length&&W(e.arrowElement,e.arrowStyles),e}function V(e,t,i,n,s){var r=k(s,t,e),o=w(i.placement,r,t,e,i.modifiers.flip.boundariesElement,i.modifiers.flip.padding);return t.setAttribute("x-placement",o),W(t,{position:"absolute"}),i}function U(e,t){var i=t.x,n=t.y,s=e.offsets.popper,r=T(e.instance.modifiers,function(e){return"applyStyle"===e.name}).gpuAcceleration;r!==undefined&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var a=r!==undefined?r:t.gpuAcceleration,l=g(o(e.instance.popper)),h={position:s.position},d={left:Math.floor(s.left),top:Math.floor(s.top),bottom:Math.floor(s.bottom),right:Math.floor(s.right)},c="bottom"===i?"top":"bottom",u="right"===n?"left":"right",f=I("transform"),p=void 0,_=void 0;if(_="bottom"===c?-l.height+d.bottom:d.top,p="right"===u?-l.width+d.right:d.left,a&&f)h[f]="translate3d("+p+"px, "+_+"px, 0)",h[c]=0,h[u]=0,h.willChange="transform";else{var m="bottom"===c?-1:1,v="right"===u?-1:1;h[c]=_*m,h[u]=p*v,h.willChange=c+", "+u}var y={"x-placement":e.placement};return e.attributes=_e({},y,e.attributes),e.styles=_e({},h,e.styles),e.arrowStyles=_e({},e.offsets.arrow,e.arrowStyles),e}function Y(e,t,i){var n=T(e,function(e){return e.name===t}),s=!!n&&e.some(function(e){return e.name===i&&e.enabled&&e.order<n.order});if(!s){var r="`"+t+"`",o="`"+i+"`";console.warn(o+" modifier is required by "+r+" modifier in order to work, be sure to include it before "+r+"!")}return s}function X(e,t){var i;if(!Y(e.instance.modifiers,"arrow","keepTogether"))return e;var s=t.element;if("string"==typeof s){if(!(s=e.instance.popper.querySelector(s)))return e}else if(!e.instance.popper.contains(s))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),e;var r=e.placement.split("-")[0],o=e.offsets,a=o.popper,l=o.reference,h=-1!==["left","right"].indexOf(r),d=h?"height":"width",c=h?"Top":"Left",u=c.toLowerCase(),f=h?"left":"top",p=h?"bottom":"right",g=E(s)[d];l[p]-g<a[u]&&(e.offsets.popper[u]-=a[u]-(l[p]-g)),l[u]+g>a[p]&&(e.offsets.popper[u]+=l[u]+g-a[p]),e.offsets.popper=_(e.offsets.popper);var m=l[u]+l[d]/2-g/2,v=n(e.instance.popper),y=parseFloat(v["margin"+c],10),b=parseFloat(v["border"+c+"Width"],10),x=m-e.offsets.popper[u]-y-b;return x=Math.max(Math.min(a[d]-g,x),0),e.arrowElement=s,e.offsets.arrow=(pe(i={},u,Math.round(x)),pe(i,f,""),i),e}function K(e){return"end"===e?"start":"start"===e?"end":e}function G(e){var t=arguments.length>1&&arguments[1]!==undefined&&arguments[1],i=me.indexOf(e),n=me.slice(i+1).concat(me.slice(0,i));return t?n.reverse():n}function $(e,t){if(N(e.instance.modifiers,"inner"))return e;if(e.flipped&&e.placement===e.originalPlacement)return e;var i=b(e.instance.popper,e.instance.reference,t.padding,t.boundariesElement),n=e.placement.split("-")[0],s=C(n),r=e.placement.split("-")[1]||"",o=[];switch(t.behavior){case ve.FLIP:o=[n,s];break;case ve.CLOCKWISE:o=G(n);break;case ve.COUNTERCLOCKWISE:o=G(n,!0);break;default:o=t.behavior}return o.forEach(function(a,l){if(n!==a||o.length===l+1)return e;n=e.placement.split("-")[0],s=C(n);var h=e.offsets.popper,d=e.offsets.reference,c=Math.floor,u="left"===n&&c(h.right)>c(d.left)||"right"===n&&c(h.left)<c(d.right)||"top"===n&&c(h.bottom)>c(d.top)||"bottom"===n&&c(h.top)<c(d.bottom),f=c(h.left)<c(i.left),p=c(h.right)>c(i.right),_=c(h.top)<c(i.top),g=c(h.bottom)>c(i.bottom),m="left"===n&&f||"right"===n&&p||"top"===n&&_||"bottom"===n&&g,v=-1!==["top","bottom"].indexOf(n),y=!!t.flipVariations&&(v&&"start"===r&&f||v&&"end"===r&&p||!v&&"start"===r&&_||!v&&"end"===r&&g);(u||m||y)&&(e.flipped=!0,(u||m)&&(n=o[l+1]),y&&(r=K(r)),e.placement=n+(r?"-"+r:""),e.offsets.popper=_e({},e.offsets.popper,D(e.instance.popper,e.offsets.reference,e.placement)),e=A(e.instance.modifiers,e,"flip"))}),e}function Q(e){var t=e.offsets,i=t.popper,n=t.reference,s=e.placement.split("-")[0],r=Math.floor,o=-1!==["top","bottom"].indexOf(s),a=o?"right":"bottom",l=o?"left":"top",h=o?"width":"height";return i[a]<r(n[l])&&(e.offsets.popper[l]=r(n[l])-i[h]),i[l]>r(n[a])&&(e.offsets.popper[l]=r(n[a])),e}function J(e,t,i,n){var s=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),r=+s[1],o=s[2];if(!r)return e;if(0===o.indexOf("%")){var a=void 0;switch(o){case"%p":a=i;break;case"%":case"%r":default:a=n}return _(a)[t]/100*r}if("vh"===o||"vw"===o){return("vh"===o?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*r}return r}function Z(e,t,i,n){var s=[0,0],r=-1!==["right","left"].indexOf(n),o=e.split(/(\+|\-)/).map(function(e){return e.trim()}),a=o.indexOf(T(o,function(e){return-1!==e.search(/,|\s/)}));o[a]&&-1===o[a].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var l=/\s*,\s*|\s+/,h=-1!==a?[o.slice(0,a).concat([o[a].split(l)[0]]),[o[a].split(l)[1]].concat(o.slice(a+1))]:[o];return(h=h.map(function(e,n){var s=(1===n?!r:r)?"height":"width",o=!1;return e.reduce(function(e,t){return""===e[e.length-1]&&-1!==["+","-"].indexOf(t)?(e[e.length-1]=t,o=!0,e):o?(e[e.length-1]+=t,o=!1,e):e.concat(t)},[]).map(function(e){return J(e,s,t,i)})})).forEach(function(e,t){e.forEach(function(i,n){F(i)&&(s[t]+=i*("-"===e[n-1]?-1:1))})}),s}function ee(e,t){var i=t.offset,n=e.placement,s=e.offsets,r=s.popper,o=s.reference,a=n.split("-")[0],l=void 0;return l=F(+i)?[+i,0]:Z(i,r,o,a),"left"===a?(r.top+=l[0],r.left-=l[1]):"right"===a?(r.top+=l[0],r.left+=l[1]):"top"===a?(r.left+=l[0],r.top-=l[1]):"bottom"===a&&(r.left+=l[0],r.top+=l[1]),e.popper=r,e}function te(e,t){var i=t.boundariesElement||o(e.instance.popper);e.instance.reference===i&&(i=o(i));var n=b(e.instance.popper,e.instance.reference,t.padding,i);t.boundaries=n;var s=t.priority,r=e.offsets.popper,a={primary:function(e){var i=r[e];return r[e]<n[e]&&!t.escapeWithReference&&(i=Math.max(r[e],n[e])),pe({},e,i)},secondary:function(e){var i="right"===e?"left":"top",s=r[i];return r[e]>n[e]&&!t.escapeWithReference&&(s=Math.min(r[i],n[e]-("right"===e?r.width:r.height))),pe({},i,s)}};return s.forEach(function(e){var t=-1!==["left","top"].indexOf(e)?"primary":"secondary";r=_e({},r,a[t](e))}),e.offsets.popper=r,e}function ie(e){var t=e.placement,i=t.split("-")[0],n=t.split("-")[1];if(n){var s=e.offsets,r=s.reference,o=s.popper,a=-1!==["bottom","top"].indexOf(i),l=a?"left":"top",h=a?"width":"height",d={start:pe({},l,r[l]),end:pe({},l,r[l]+r[h]-o[h])};e.offsets.popper=_e({},o,d[n])}return e}function ne(e){if(!Y(e.instance.modifiers,"hide","preventOverflow"))return e;var t=e.offsets.reference,i=T(e.instance.modifiers,function(e){return"preventOverflow"===e.name}).boundaries;if(t.bottom<i.top||t.left>i.right||t.top>i.bottom||t.right<i.left){if(!0===e.hide)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(!1===e.hide)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}function se(e){var t=e.placement,i=t.split("-")[0],n=e.offsets,s=n.popper,r=n.reference,o=-1!==["left","right"].indexOf(i),a=-1===["top","left"].indexOf(i);return s[o?"left":"top"]=r[i]-(a?s[o?"width":"height"]:0),e.placement=C(t),e.offsets.popper=_(s),e}for(var re="undefined"!=typeof window&&"undefined"!=typeof document,oe=["Edge","Trident","Firefox"],ae=0,le=0;le<oe.length;le+=1)if(re&&navigator.userAgent.indexOf(oe[le])>=0){ae=1;break}var he=re&&window.Promise?e:t,de=undefined,ce=function(){return de===undefined&&(de=-1!==navigator.appVersion.indexOf("MSIE 10")),de},ue=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},fe=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),pe=function(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e},_e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},ge=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],me=ge.slice(3),ve={FLIP:"flip",CLOCKWISE:"clockwise",COUNTERCLOCKWISE:"counterclockwise"},ye={placement:"bottom",eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:ie},offset:{order:200,enabled:!0,fn:ee,offset:0},preventOverflow:{order:300,enabled:!0,fn:te,priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:Q},arrow:{order:500,enabled:!0,fn:X,element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:$,behavior:"flip",padding:5,boundariesElement:"viewport"},inner:{order:700,enabled:!1,fn:se},hide:{order:800,enabled:!0,fn:ne},computeStyle:{order:850,enabled:!0,fn:U,gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:q,onLoad:V,gpuAcceleration:undefined}}},be=function(){function e(t,n){var s=this,r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};ue(this,e),this.scheduleUpdate=function(){return requestAnimationFrame(s.update)},this.update=he(this.update.bind(this)),this.options=_e({},e.Defaults,r),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=t&&t.jquery?t[0]:t,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(_e({},e.Defaults.modifiers,r.modifiers)).forEach(function(t){s.options.modifiers[t]=_e({},e.Defaults.modifiers[t]||{},r.modifiers?r.modifiers[t]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(e){return _e({name:e},s.options.modifiers[e])}).sort(function(e,t){return e.order-t.order}),this.modifiers.forEach(function(e){e.enabled&&i(e.onLoad)&&e.onLoad(s.reference,s.popper,s.options,e,s.state)}),this.update();var o=this.options.eventsEnabled;o&&this.enableEventListeners(),this.state.eventsEnabled=o}return fe(e,[{key:"update",value:function(){return O.call(this)}},{key:"destroy",value:function(){return M.call(this)}},{key:"enableEventListeners",value:function(){return j.call(this)}},{key:"disableEventListeners",value:function(){return z.call(this)}}]),e}();return be.Utils=("undefined"!=typeof window?window:global).PopperUtils,be.placements=ge,be.Defaults=ye,be}),function(e,t){"use strict";var i;e.rails!==t&&e.error("jquery-ujs has already been loaded!");var n=e(document);e.rails=i={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote]:not([disabled]), a[data-disable-with], a[data-disable]",buttonClickSelector:"button[data-remote]:not([form]):not(form button), button[data-confirm]:not([form]):not(form button)",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type]), input[type=submit][form], input[type=image][form], button[type=submit][form], button[form]:not([type])",disableSelector:"input[data-disable-with]:enabled, button[data-disable-with]:enabled, textarea[data-disable-with]:enabled, input[data-disable]:enabled, button[data-disable]:enabled, textarea[data-disable]:enabled",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled, input[data-disable]:disabled, button[data-disable]:disabled, textarea[data-disable]:disabled",requiredInputSelector:"input[name][required]:not([disabled]), textarea[name][required]:not([disabled])",fileInputSelector:"input[name][type=file]:not([disabled])",linkDisableSelector:"a[data-disable-with], a[data-disable]",buttonDisableSelector:"button[data-remote][data-disable-with], button[data-remote][data-disable]",csrfToken:function(){return e("meta[name=csrf-token]").attr("content")},csrfParam:function(){return e("meta[name=csrf-param]").attr("content")},CSRFProtection:function(e){var t=i.csrfToken();t&&e.setRequestHeader("X-CSRF-Token",t)},refreshCSRFTokens:function(){e('form input[name="'+i.csrfParam()+'"]').val(i.csrfToken())},fire:function(t,i,n){var s=e.Event(i);return t.trigger(s,n),!1!==s.result},confirm:function(e){return confirm(e)},ajax:function(t){return e.ajax(t)},href:function(e){return e[0].href},isRemote:function(e){return e.data("remote")!==t&&!1!==e.data("remote")},handleRemote:function(n){var s,r,o,a,l,h;if(i.fire(n,"ajax:before")){if(a=n.data("with-credentials")||null,l=n.data("type")||e.ajaxSettings&&e.ajaxSettings.dataType,n.is("form")){s=n.data("ujs:submit-button-formmethod")||n.attr("method"),r=n.data("ujs:submit-button-formaction")||n.attr("action"),o=e(n[0]).serializeArray();var d=n.data("ujs:submit-button");d&&(o.push(d),n.data("ujs:submit-button",null)),n.data("ujs:submit-button-formmethod",null),n.data("ujs:submit-button-formaction",null)}else n.is(i.inputChangeSelector)?(s=n.data("method"),r=n.data("url"),o=n.serialize(),n.data("params")&&(o=o+"&"+n.data("params"))):n.is(i.buttonClickSelector)?(s=n.data("method")||"get",r=n.data("url"),o=n.serialize(),n.data("params")&&(o=o+"&"+n.data("params"))):(s=n.data("method"),r=i.href(n),o=n.data("params")||null);return h={type:s||"GET",data:o,dataType:l,beforeSend:function(e,s){if(s.dataType===t&&e.setRequestHeader("accept","*/*;q=0.5, "+s.accepts.script),!i.fire(n,"ajax:beforeSend",[e,s]))return!1;n.trigger("ajax:send",e)},success:function(e,t,i){n.trigger("ajax:success",[e,t,i])},complete:function(e,t){n.trigger("ajax:complete",[e,t])},error:function(e,t,i){n.trigger("ajax:error",[e,t,i])},crossDomain:i.isCrossDomain(r)},a&&(h.xhrFields={withCredentials:a}),r&&(h.url=r),i.ajax(h)}return!1},isCrossDomain:function(e){var t=document.createElement("a");t.href=location.href;var i=document.createElement("a");try{return i.href=e,i.href=i.href,!((!i.protocol||":"===i.protocol)&&!i.host||t.protocol+"//"+t.host==i.protocol+"//"+i.host)}catch(n){return!0}},handleMethod:function(n){var s=i.href(n),r=n.data("method"),o=n.attr("target"),a=i.csrfToken(),l=i.csrfParam(),h=e('<form method="post" action="'+s+'"></form>'),d='<input name="_method" value="'+r+'" type="hidden" />';l===t||a===t||i.isCrossDomain(s)||(d+='<input name="'+l+'" value="'+a+'" type="hidden" />'),o&&h.attr("target",o),h.hide().append(d).appendTo("body"),h.submit()},formElements:function(t,i){return t.is("form")?e(t[0].elements).filter(i):t.find(i)},disableFormElements:function(t){i.formElements(t,i.disableSelector).each(function(){i.disableFormElement(e(this))})},disableFormElement:function(e){var i,n;i=e.is("button")?"html":"val",(n=e.data("disable-with"))!==t&&(e.data("ujs:enable-with",e[i]()),e[i](n)),e.prop("disabled",!0),e.data("ujs:disabled",!0)},enableFormElements:function(t){i.formElements(t,i.enableSelector).each(function(){i.enableFormElement(e(this))})},enableFormElement:function(e){var i=e.is("button")?"html":"val";e.data("ujs:enable-with")!==t&&(e[i](e.data("ujs:enable-with")),e.removeData("ujs:enable-with")),e.prop("disabled",!1),e.removeData("ujs:disabled")},allowAction:function(e){var t,n=e.data("confirm"),s=!1;if(!n)return!0;if(i.fire(e,"confirm")){try{s=i.confirm(n)}catch(r){(console.error||console.log).call(console,r.stack||r)}t=i.fire(e,"confirm:complete",[s])}return s&&t},blankInputs:function(t,i,n){var s,r,o,a=e(),l=i||"input,textarea",h={};return t.find(l).each(function(){(s=e(this)).is("input[type=radio]")?(o=s.attr("name"),h[o]||(0===t.find('input[type=radio]:checked[name="'+o+'"]').length&&(r=t.find('input[type=radio][name="'+o+'"]'),a=a.add(r)),
h[o]=o)):(s.is("input[type=checkbox],input[type=radio]")?s.is(":checked"):!!s.val())===n&&(a=a.add(s))}),!!a.length&&a},nonBlankInputs:function(e,t){return i.blankInputs(e,t,!0)},stopEverything:function(t){return e(t.target).trigger("ujs:everythingStopped"),t.stopImmediatePropagation(),!1},disableElement:function(e){var n=e.data("disable-with");n!==t&&(e.data("ujs:enable-with",e.html()),e.html(n)),e.bind("click.railsDisable",function(e){return i.stopEverything(e)}),e.data("ujs:disabled",!0)},enableElement:function(e){e.data("ujs:enable-with")!==t&&(e.html(e.data("ujs:enable-with")),e.removeData("ujs:enable-with")),e.unbind("click.railsDisable"),e.removeData("ujs:disabled")}},i.fire(n,"rails:attachBindings")&&(e.ajaxPrefilter(function(e,t,n){e.crossDomain||i.CSRFProtection(n)}),e(window).on("pageshow.rails",function(){e(e.rails.enableSelector).each(function(){var t=e(this);t.data("ujs:disabled")&&e.rails.enableFormElement(t)}),e(e.rails.linkDisableSelector).each(function(){var t=e(this);t.data("ujs:disabled")&&e.rails.enableElement(t)})}),n.on("ajax:complete",i.linkDisableSelector,function(){i.enableElement(e(this))}),n.on("ajax:complete",i.buttonDisableSelector,function(){i.enableFormElement(e(this))}),n.on("click.rails",i.linkClickSelector,function(t){var n=e(this),s=n.data("method"),r=n.data("params"),o=t.metaKey||t.ctrlKey;if(!i.allowAction(n))return i.stopEverything(t);if(!o&&n.is(i.linkDisableSelector)&&i.disableElement(n),i.isRemote(n)){if(o&&(!s||"GET"===s)&&!r)return!0;var a=i.handleRemote(n);return!1===a?i.enableElement(n):a.fail(function(){i.enableElement(n)}),!1}return s?(i.handleMethod(n),!1):void 0}),n.on("click.rails",i.buttonClickSelector,function(t){var n=e(this);if(!i.allowAction(n)||!i.isRemote(n))return i.stopEverything(t);n.is(i.buttonDisableSelector)&&i.disableFormElement(n);var s=i.handleRemote(n);return!1===s?i.enableFormElement(n):s.fail(function(){i.enableFormElement(n)}),!1}),n.on("change.rails",i.inputChangeSelector,function(t){var n=e(this);return i.allowAction(n)&&i.isRemote(n)?(i.handleRemote(n),!1):i.stopEverything(t)}),n.on("submit.rails",i.formSubmitSelector,function(n){var s,r,o=e(this),a=i.isRemote(o);if(!i.allowAction(o))return i.stopEverything(n);if(o.attr("novalidate")===t)if(o.data("ujs:formnovalidate-button")===t){if((s=i.blankInputs(o,i.requiredInputSelector,!1))&&i.fire(o,"ajax:aborted:required",[s]))return i.stopEverything(n)}else o.data("ujs:formnovalidate-button",t);if(a){if(r=i.nonBlankInputs(o,i.fileInputSelector)){setTimeout(function(){i.disableFormElements(o)},13);var l=i.fire(o,"ajax:aborted:file",[r]);return l||setTimeout(function(){i.enableFormElements(o)},13),l}return i.handleRemote(o),!1}setTimeout(function(){i.disableFormElements(o)},13)}),n.on("click.rails",i.formInputClickSelector,function(t){var n=e(this);if(!i.allowAction(n))return i.stopEverything(t);var s=n.attr("name"),r=s?{name:s,value:n.val()}:null,o=n.closest("form");0===o.length&&(o=e("#"+n.attr("form"))),o.data("ujs:submit-button",r),o.data("ujs:formnovalidate-button",n.attr("formnovalidate")),o.data("ujs:submit-button-formaction",n.attr("formaction")),o.data("ujs:submit-button-formmethod",n.attr("formmethod"))}),n.on("ajax:send.rails",i.formSubmitSelector,function(t){this===t.target&&i.disableFormElements(e(this))}),n.on("ajax:complete.rails",i.formSubmitSelector,function(t){this===t.target&&i.enableFormElements(e(this))}),e(function(){i.refreshCSRFTokens()}))}(jQuery),function(e){e.fn.railsAutocomplete=function(){var t=function(){this.railsAutoCompleter||(this.railsAutoCompleter=new e.railsAutocomplete(this))};return void 0!==e.fn.on?e(document).on("focus",this.selector,t):this.live("focus",t)},e.railsAutocomplete=function(e){var t=e;this.init(t)},e.railsAutocomplete.options={showNoMatches:!0,noMatchesLabel:"no existing match"},e.railsAutocomplete.fn=e.railsAutocomplete.prototype={railsAutocomplete:"0.0.1"},e.railsAutocomplete.fn.extend=e.railsAutocomplete.extend=e.extend,e.railsAutocomplete.fn.extend({init:function(t){function i(e){return e.split(t.delimiter)}function n(e){return i(e).pop().replace(/^\s+/,"")}t.delimiter=e(t).attr("data-delimiter")||null,t.min_length=e(t).attr("min-length")||2,t.append_to=e(t).attr("data-append-to")||null,t.autoFocus=e(t).attr("data-auto-focus")||!1,e(t).autocomplete({appendTo:t.append_to,autoFocus:t.autoFocus,delay:e(t).attr("delay")||0,source:function(i,s){var r=this.element[0],o={term:n(i.term)};e(t).attr("data-autocomplete-fields")&&e.each(e.parseJSON(e(t).attr("data-autocomplete-fields")),function(t,i){o[t]=e(i).val()}),e.getJSON(e(t).attr("data-autocomplete"),o,function(){var i={};e.extend(i,e.railsAutocomplete.options),e.each(i,function(n,s){if(i.hasOwnProperty(n)){var r=e(t).attr("data-"+n);i[n]=r||s}}),0==arguments[0].length&&e.inArray(i.showNoMatches,[!0,"true"])&&(arguments[0]=[],arguments[0][0]={id:"",label:i.noMatchesLabel}),e(arguments[0]).each(function(i,n){var s={};s[n.id]=n,e(t).data(s)}),s.apply(null,arguments),e(r).trigger("railsAutocomplete.source",arguments)})},change:function(t,i){if(e(this).is("[data-id-element]")&&""!==e(e(this).attr("data-id-element")).val()&&(e(e(this).attr("data-id-element")).val(i.item?i.item.id:"").trigger("change"),e(this).attr("data-update-elements"))){var n=e.parseJSON(e(this).attr("data-update-elements")),s=i.item?e(this).data(i.item.id.toString()):{};if(n&&""===e(n.id).val())return;for(var r in n){var o=e(n[r]);o.is(":checkbox")?null!=s[r]&&o.prop("checked",s[r]):o.val(i.item?s[r]:"").trigger("change")}}},search:function(){return!(n(this.value).length<t.min_length)&&void 0},focus:function(){return!1},select:function(n,s){if(s.item.value=s.item.value.toString(),-1!=s.item.value.toLowerCase().indexOf("no match")||-1!=s.item.value.toLowerCase().indexOf("too many results"))return e(this).trigger("railsAutocomplete.noMatch",s),!1;var r=i(this.value);if(r.pop(),r.push(s.item.value),null!=t.delimiter)r.push(""),this.value=r.join(t.delimiter);else if(this.value=r.join(""),e(this).attr("data-id-element")&&e(e(this).attr("data-id-element")).val(s.item.id).trigger("change"),e(this).attr("data-update-elements")){var o=s.item,a=-1!=s.item.value.indexOf("Create New"),l=e.parseJSON(e(this).attr("data-update-elements"));for(var h in l)"checkbox"===e(l[h]).attr("type")?!0===o[h]||1===o[h]?e(l[h]).attr("checked","checked"):e(l[h]).removeAttr("checked"):a&&o[h]&&-1==o[h].indexOf("Create New")||!a?e(l[h]).val(o[h]).trigger("change"):e(l[h]).val("").trigger("change")}var d=this.value;return e(this).bind("keyup.clearId",function(){e.trim(e(this).val())!=e.trim(d)&&(e(e(this).attr("data-id-element")).val("").trigger("change"),e(this).unbind("keyup.clearId"))}),e(t).trigger("railsAutocomplete.select",s),!1}})}}),e(document).ready(function(){e("input[data-autocomplete]").railsAutocomplete()})}(jQuery),function(){this.Turbolinks={supported:null!=window.history.pushState&&null!=window.requestAnimationFrame&&null!=window.addEventListener,visit:function(e,t){return Turbolinks.controller.visit(e,t)},clearCache:function(){return Turbolinks.controller.clearCache()},setProgressBarDelay:function(e){return Turbolinks.controller.setProgressBarDelay(e)}}}.call(this),function(){var e,t,i,n,s,r,o,a,l,h=[].slice;Turbolinks.copyObject=function(e){var t,i,n;i={};for(t in e)n=e[t],i[t]=n;return i},Turbolinks.closest=function(t,i){return e.call(t,i)},e=null!=(l=document.documentElement.closest)?l:function(e){var i;for(i=this;i;){if(i.nodeType===Node.ELEMENT_NODE&&t.call(i,e))return i;i=i.parentNode}},Turbolinks.defer=function(e){return setTimeout(e,1)},Turbolinks.throttle=function(e){var t;return t=null,function(){var i,n;return i=1<=arguments.length?h.call(arguments,0):[],null!=t?t:t=requestAnimationFrame((n=this,function(){return t=null,e.apply(n,i)}))}},Turbolinks.dispatch=function(e,t){var n,s,r,o,a,l;return l=(a=null!=t?t:{}).target,n=a.cancelable,s=a.data,(r=document.createEvent("Events")).initEvent(e,!0,!0===n),r.data=null!=s?s:{},r.cancelable&&!i&&(o=r.preventDefault,r.preventDefault=function(){return this.defaultPrevented||Object.defineProperty(this,"defaultPrevented",{get:function(){return!0}}),o.call(this)}),(null!=l?l:document).dispatchEvent(r),r},(a=document.createEvent("Events")).initEvent("test",!0,!0),a.preventDefault(),i=a.defaultPrevented,Turbolinks.match=function(e,i){return t.call(e,i)},t=null!=(s=null!=(r=null!=(o=(n=document.documentElement).matchesSelector)?o:n.webkitMatchesSelector)?r:n.msMatchesSelector)?s:n.mozMatchesSelector,Turbolinks.uuid=function(){var e,t,i;for(i="",e=t=1;36>=t;e=++t)i+=9===e||14===e||19===e||24===e?"-":15===e?"4":20===e?(Math.floor(4*Math.random())+8).toString(16):Math.floor(15*Math.random()).toString(16);return i}}.call(this),function(){Turbolinks.Location=function(){function e(e){var t,i;null==e&&(e=""),(i=document.createElement("a")).href=e.toString(),this.absoluteURL=i.href,2>(t=i.hash.length)?this.requestURL=this.absoluteURL:(this.requestURL=this.absoluteURL.slice(0,-t),this.anchor=i.hash.slice(1))}var t,i,n,s;return e.wrap=function(e){return e instanceof this?e:new this(e)},e.prototype.getOrigin=function(){return this.absoluteURL.split("/",3).join("/")},e.prototype.getPath=function(){var e,t;return null!=(e=null!=(t=this.requestURL.match(/\/\/[^\/]*(\/[^?;]*)/))?t[1]:void 0)?e:"/"},e.prototype.getPathComponents=function(){return this.getPath().split("/").slice(1)},e.prototype.getLastPathComponent=function(){return this.getPathComponents().slice(-1)[0]},e.prototype.getExtension=function(){var e,t;return null!=(e=null!=(t=this.getLastPathComponent().match(/\.[^.]*$/))?t[0]:void 0)?e:""},e.prototype.isHTML=function(){return this.getExtension().match(/^(?:|\.(?:htm|html|xhtml))$/)},e.prototype.isPrefixedBy=function(e){var t;return t=i(e),this.isEqualTo(e)||s(this.absoluteURL,t)},e.prototype.isEqualTo=function(e){return this.absoluteURL===(null!=e?e.absoluteURL:void 0)},e.prototype.toCacheKey=function(){return this.requestURL},e.prototype.toJSON=function(){return this.absoluteURL},e.prototype.toString=function(){return this.absoluteURL},e.prototype.valueOf=function(){return this.absoluteURL},i=function(e){return t(e.getOrigin()+e.getPath())},t=function(e){return n(e,"/")?e:e+"/"},s=function(e,t){return e.slice(0,t.length)===t},n=function(e,t){return e.slice(-t.length)===t},e}()}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};Turbolinks.HttpRequest=function(){function t(t,i,n){this.delegate=t,this.requestCanceled=e(this.requestCanceled,this),this.requestTimedOut=e(this.requestTimedOut,this),this.requestFailed=e(this.requestFailed,this),this.requestLoaded=e(this.requestLoaded,this),this.requestProgressed=e(this.requestProgressed,this),this.url=Turbolinks.Location.wrap(i).requestURL,this.referrer=Turbolinks.Location.wrap(n).absoluteURL,this.createXHR()}return t.NETWORK_FAILURE=0,t.TIMEOUT_FAILURE=-1,t.timeout=60,t.prototype.send=function(){var e;return this.xhr&&!this.sent?(this.notifyApplicationBeforeRequestStart(),this.setProgress(0),this.xhr.send(),this.sent=!0,"function"==typeof(e=this.delegate).requestStarted?e.requestStarted():void 0):void 0},t.prototype.cancel=function(){return this.xhr&&this.sent?this.xhr.abort():void 0},t.prototype.requestProgressed=function(e){return e.lengthComputable?this.setProgress(e.loaded/e.total):void 0},t.prototype.requestLoaded=function(){return this.endRequest((e=this,function(){var t;return 200<=(t=e.xhr.status)&&300>t?e.delegate.requestCompletedWithResponse(e.xhr.responseText,e.xhr.getResponseHeader("Turbolinks-Location")):(e.failed=!0,e.delegate.requestFailedWithStatusCode(e.xhr.status,e.xhr.responseText))}));var e},t.prototype.requestFailed=function(){return this.endRequest((e=this,function(){return e.failed=!0,e.delegate.requestFailedWithStatusCode(e.constructor.NETWORK_FAILURE)}));var e},t.prototype.requestTimedOut=function(){return this.endRequest((e=this,function(){return e.failed=!0,e.delegate.requestFailedWithStatusCode(e.constructor.TIMEOUT_FAILURE)}));var e},t.prototype.requestCanceled=function(){return this.endRequest()},t.prototype.notifyApplicationBeforeRequestStart=function(){return Turbolinks.dispatch("turbolinks:request-start",{data:{url:this.url,xhr:this.xhr}})},t.prototype.notifyApplicationAfterRequestEnd=function(){return Turbolinks.dispatch("turbolinks:request-end",{data:{url:this.url,xhr:this.xhr}})},t.prototype.createXHR=function(){return this.xhr=new XMLHttpRequest,this.xhr.open("GET",this.url,!0),this.xhr.timeout=1e3*this.constructor.timeout,this.xhr.setRequestHeader("Accept","text/html, application/xhtml+xml"),this.xhr.setRequestHeader("Turbolinks-Referrer",this.referrer),this.xhr.onprogress=this.requestProgressed,this.xhr.onload=this.requestLoaded,this.xhr.onerror=this.requestFailed,this.xhr.ontimeout=this.requestTimedOut,this.xhr.onabort=this.requestCanceled},t.prototype.endRequest=function(e){return this.xhr?(this.notifyApplicationAfterRequestEnd(),null!=e&&e.call(this),this.destroy()):void 0},t.prototype.setProgress=function(e){var t;return this.progress=e,"function"==typeof(t=this.delegate).requestProgressed?t.requestProgressed(this.progress):void 0},t.prototype.destroy=function(){var e;return this.setProgress(1),"function"==typeof(e=this.delegate).requestFinished&&e.requestFinished(),this.delegate=null,this.xhr=null},t}()}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};Turbolinks.ProgressBar=function(){function t(){this.trickle=e(this.trickle,this),this.stylesheetElement=this.createStylesheetElement(),this.progressElement=this.createProgressElement()}var i;return i=300,t.defaultCSS=".turbolinks-progress-bar {\n  position: fixed;\n  display: block;\n  top: 0;\n  left: 0;\n  height: 3px;\n  background: #0076ff;\n  z-index: 9999;\n  transition: width "+i+"ms ease-out, opacity "+i/2+"ms "+i/2+"ms ease-in;\n  transform: translate3d(0, 0, 0);\n}",t.prototype.show=function(){return this.visible?void 0:(this.visible=!0,this.installStylesheetElement(),this.installProgressElement(),this.startTrickling())},t.prototype.hide=function(){return this.visible&&!this.hiding?(this.hiding=!0,this.fadeProgressElement((e=this,function(){return e.uninstallProgressElement(),e.stopTrickling(),e.visible=!1,e.hiding=!1}))):void 0;var e},t.prototype.setValue=function(e){return this.value=e,this.refresh()},t.prototype.installStylesheetElement=function(){return document.head.insertBefore(this.stylesheetElement,document.head.firstChild)},t.prototype.installProgressElement=function(){return this.progressElement.style.width=0,this.progressElement.style.opacity=1,document.documentElement.insertBefore(this.progressElement,document.body),this.refresh()},t.prototype.fadeProgressElement=function(e){return this.progressElement.style.opacity=0,setTimeout(e,1.5*i)},t.prototype.uninstallProgressElement=function(){return this.progressElement.parentNode?document.documentElement.removeChild(this.progressElement):void 0},t.prototype.startTrickling=function(){return null!=this.trickleInterval?this.trickleInterval:this.trickleInterval=setInterval(this.trickle,i)},t.prototype.stopTrickling=function(){return clearInterval(this.trickleInterval),this.trickleInterval=null},t.prototype.trickle=function(){return this.setValue(this.value+Math.random()/100)},t.prototype.refresh=function(){return requestAnimationFrame((e=this,function(){return e.progressElement.style.width=10+90*e.value+"%"}));var e},t.prototype.createStylesheetElement=function(){var e;return(e=document.createElement("style")).type="text/css",e.textContent=this.constructor.defaultCSS,e},t.prototype.createProgressElement=function(){var e;return(e=document.createElement("div")).className="turbolinks-progress-bar",e},t}()}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};Turbolinks.BrowserAdapter=function(){function t(t){this.controller=t,this.showProgressBar=e(this.showProgressBar,this),this.progressBar=new Turbolinks.ProgressBar}var i,n,s;return s=Turbolinks.HttpRequest,i=s.NETWORK_FAILURE,n=s.TIMEOUT_FAILURE,t.prototype.visitProposedToLocationWithAction=function(e,t){return this.controller.startVisitToLocationWithAction(e,t)},t.prototype.visitStarted=function(e){return e.issueRequest(),e.changeHistory(),e.loadCachedSnapshot()},t.prototype.visitRequestStarted=function(e){return this.progressBar.setValue(0),e.hasCachedSnapshot()||"restore"!==e.action?this.showProgressBarAfterDelay():this.showProgressBar()},t.prototype.visitRequestProgressed=function(e){return this.progressBar.setValue(e.progress)},t.prototype.visitRequestCompleted=function(e){return e.loadResponse()},t.prototype.visitRequestFailedWithStatusCode=function(e,t){switch(t){case i:case n:return this.reload();default:return e.loadResponse()}},t.prototype.visitRequestFinished=function(){return this.hideProgressBar()},t.prototype.visitCompleted=function(e){return e.followRedirect()},t.prototype.pageInvalidated=function(){return this.reload()},t.prototype.showProgressBarAfterDelay=function(){return this.progressBarTimeout=setTimeout(this.showProgressBar,this.controller.progressBarDelay)},t.prototype.showProgressBar=function(){return this.progressBar.show()},t.prototype.hideProgressBar=function(){return this.progressBar.hide(),clearTimeout(this.progressBarTimeout)},t.prototype.reload=function(){return window.location.reload()},t}()}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};Turbolinks.History=function(){function t(t){this.delegate=t,this.onPageLoad=e(this.onPageLoad,this),this.onPopState=e(this.onPopState,this)}return t.prototype.start=function(){return this.started?void 0:(addEventListener("popstate",this.onPopState,!1),addEventListener("load",this.onPageLoad,!1),this.started=!0)},t.prototype.stop=function(){return this.started?(removeEventListener("popstate",this.onPopState,!1),removeEventListener("load",this.onPageLoad,!1),this.started=!1):void 0},t.prototype.push=function(e,t){return e=Turbolinks.Location.wrap(e),this.update("push",e,t)},t.prototype.replace=function(e,t){return e=Turbolinks.Location.wrap(e),this.update("replace",e,t)},t.prototype.onPopState=function(e){var t,i,n,s;return this.shouldHandlePopState()&&(s=null!=(i=e.state)?i.turbolinks:void 0)?(t=Turbolinks.Location.wrap(window.location),n=s.restorationIdentifier,this.delegate.historyPoppedToLocationWithRestorationIdentifier(t,n)):void 0},t.prototype.onPageLoad=function(){return Turbolinks.defer((e=this,function(){return e.pageLoaded=!0}));var e},t.prototype.shouldHandlePopState=function(){return this.pageIsLoaded()},t.prototype.pageIsLoaded=function(){return this.pageLoaded||"complete"===document.readyState},t.prototype.update=function(e,t,i){var n;return n={turbolinks:{restorationIdentifier:i}},history[e+"State"](n,null,t)},t}()}.call(this),function(){Turbolinks.Snapshot=function(){function e(e){var t,i;i=e.head,t=e.body,this.head=null!=i?i:document.createElement("head"),this.body=null!=t?t:document.createElement("body")}return e.wrap=function(e){return e instanceof this?e:this.fromHTML(e)},e.fromHTML=function(e){var t;return(t=document.createElement("html")).innerHTML=e,this.fromElement(t)},e.fromElement=function(e){return new this({head:e.querySelector("head"),body:e.querySelector("body")})},e.prototype.clone=function(){return new e({head:this.head.cloneNode(!0),body:this.body.cloneNode(!0)})},e.prototype.getRootLocation=function(){var e,t;return t=null!=(e=this.getSetting("root"))?e:"/",new Turbolinks.Location(t)},e.prototype.getCacheControlValue=function(){return this.getSetting("cache-control")},e.prototype.getElementForAnchor=function(e){try{return this.body.querySelector("[id='"+e+"'], a[name='"+e+"']")}catch(t){}},e.prototype.hasAnchor=function(e){return null!=this.getElementForAnchor(e)},e.prototype.isPreviewable=function(){return"no-preview"!==this.getCacheControlValue()},e.prototype.isCacheable=function(){return"no-cache"!==this.getCacheControlValue()},e.prototype.isVisitable=function(){return"reload"!==this.getSetting("visit-control")},e.prototype.getSetting=function(e){var t,i;return null!=(t=(i=this.head.querySelectorAll("meta[name='turbolinks-"+e+"']"))[i.length-1])?t.getAttribute("content"):void 0},e}()}.call(this),function(){var e=[].slice;Turbolinks.Renderer=function(){function t(){}var i;return t.render=function(){var t,i,n;return i=arguments[0],t=arguments[1],(n=function(e,t,i){i.prototype=e.prototype;var n=new i,s=e.apply(n,t);return Object(s)===s?s:n}(this,3<=arguments.length?e.call(arguments,2):[],function(){})).delegate=i,n.render(t),n},t.prototype.renderView=function(e){return this.delegate.viewWillRender(this.newBody),e(),this.delegate.viewRendered(this.newBody)},t.prototype.invalidateView=function(){return this.delegate.viewInvalidated()},t.prototype.createScriptElement=function(e){var t;return"false"===e.getAttribute("data-turbolinks-eval")?e:((t=document.createElement("script")).textContent=e.textContent,t.async=!1,i(t,e),t)},i=function(e,t){var i,n,s,r,o,a,l;for(a=[],i=0,n=(r=t.attributes).length;n>i;i++)o=r[i],s=o.name,l=o.value,a.push(e.setAttribute(s,l));return a},t}()}.call(this),function(){Turbolinks.HeadDetails=function(){function e(e){var t,i,r,o,a,l,h;for(this.element=e,this.elements={},o=0,l=(h=this.element.childNodes).length;l>o;o++)r=h[o],r.nodeType===Node.ELEMENT_NODE&&(a=r.outerHTML,i=null!=(t=this.elements)[a]?t[a]:t[a]={type:s(r),tracked:n(r),elements:[]},i.elements.push(r))}var t,i,n,s;return e.prototype.hasElementWithKey=function(e){return e in this.elements},e.prototype.getTrackedElementSignature=function(){var e,t;return function(){var i,n;i=this.elements,n=[];for(e in i)t=i[e].tracked,t&&n.push(e);return n}.call(this).join("")},e.prototype.getScriptElementsNotInDetails=function(e){return this.getElementsMatchingTypeNotInDetails("script",e)},e.prototype.getStylesheetElementsNotInDetails=function(e){return this.getElementsMatchingTypeNotInDetails("stylesheet",e)},e.prototype.getElementsMatchingTypeNotInDetails=function(e,t){var i,n,s,r,o,a;s=this.elements,o=[];for(n in s)r=s[n],a=r.type,i=r.elements,a!==e||t.hasElementWithKey(n)||o.push(i[0]);return o},e.prototype.getProvisionalElements=function(){var e,t,i,n,s,r,o;i=[],n=this.elements;for(t in n)s=n[t],o=s.type,r=s.tracked,e=s.elements,null!=o||r?e.length>1&&i.push.apply(i,e.slice(1)):i.push.apply(i,e);return i},s=function(e){return t(e)?"script":i(e)?"stylesheet":void 0},n=function(e){return"reload"===e.getAttribute("data-turbolinks-track")},t=function(e){return"script"===e.tagName.toLowerCase()},i=function(e){var t;return"style"===(t=e.tagName.toLowerCase())||"link"===t&&"stylesheet"===e.getAttribute("rel")},e}()}.call(this),function(){var e=function(e,i){function n(){this.constructor=e}for(var s in i)t.call(i,s)&&(e[s]=i[s]);return n.prototype=i.prototype,e.prototype=new n,e.__super__=i.prototype,e},t={}.hasOwnProperty;Turbolinks.SnapshotRenderer=function(t){function i(e,t,i){this.currentSnapshot=e,this.newSnapshot=t,this.isPreview=i,this.currentHeadDetails=new Turbolinks.HeadDetails(this.currentSnapshot.head),this.newHeadDetails=new Turbolinks.HeadDetails(this.newSnapshot.head),this.newBody=this.newSnapshot.body}return e(i,t),i.prototype.render=function(e){return this.shouldRender()?(this.mergeHead(),this.renderView((t=this,function(){return t.replaceBody(),t.isPreview||t.focusFirstAutofocusableElement(),e()}))):this.invalidateView();var t},i.prototype.mergeHead=function(){return this.copyNewHeadStylesheetElements(),this.copyNewHeadScriptElements(),this.removeCurrentHeadProvisionalElements(),this.copyNewHeadProvisionalElements()},i.prototype.replaceBody=function(){return this.activateBodyScriptElements(),this.importBodyPermanentElements(),this.assignNewBody()},i.prototype.shouldRender=function(){return this.newSnapshot.isVisitable()&&this.trackedElementsAreIdentical()},i.prototype.trackedElementsAreIdentical=function(){return this.currentHeadDetails.getTrackedElementSignature()===this.newHeadDetails.getTrackedElementSignature()},i.prototype.copyNewHeadStylesheetElements=function(){var e,t,i,n,s;for(s=[],t=0,i=(n=this.getNewHeadStylesheetElements()).length;i>t;t++)e=n[t],s.push(document.head.appendChild(e));return s},i.prototype.copyNewHeadScriptElements=function(){var e,t,i,n,s;for(s=[],t=0,i=(n=this.getNewHeadScriptElements()).length;i>t;t++)e=n[t],s.push(document.head.appendChild(this.createScriptElement(e)));return s},i.prototype.removeCurrentHeadProvisionalElements=function(){var e,t,i,n,s;for(s=[],t=0,i=(n=this.getCurrentHeadProvisionalElements()).length;i>t;t++)e=n[t],s.push(document.head.removeChild(e));return s},i.prototype.copyNewHeadProvisionalElements=function(){var e,t,i,n,s;for(s=[],t=0,i=(n=this.getNewHeadProvisionalElements()).length;i>t;t++)e=n[t],s.push(document.head.appendChild(e));return s},i.prototype.importBodyPermanentElements=function(){var e,t,i,n,s,r;for(r=[],t=0,i=(n=this.getNewBodyPermanentElements()).length;i>t;t++)s=n[t],(e=this.findCurrentBodyPermanentElement(s))?r.push(s.parentNode.replaceChild(e,s)):r.push(void 0);return r},i.prototype.activateBodyScriptElements=function(){var e,t,i,n,s,r;for(r=[],t=0,i=(n=this.getNewBodyScriptElements()).length;i>t;t++)s=n[t],e=this.createScriptElement(s),r.push(s.parentNode.replaceChild(e,s));return r},i.prototype.assignNewBody=function(){return document.body=this.newBody},i.prototype.focusFirstAutofocusableElement=function(){var e;return null!=(e=this.findFirstAutofocusableElement())?e.focus():void 0},i.prototype.getNewHeadStylesheetElements=function(){return this.newHeadDetails.getStylesheetElementsNotInDetails(this.currentHeadDetails)},i.prototype.getNewHeadScriptElements=function(){return this.newHeadDetails.getScriptElementsNotInDetails(this.currentHeadDetails)},i.prototype.getCurrentHeadProvisionalElements=function(){return this.currentHeadDetails.getProvisionalElements()},i.prototype.getNewHeadProvisionalElements=function(){return this.newHeadDetails.getProvisionalElements()},i.prototype.getNewBodyPermanentElements=function(){return this.newBody.querySelectorAll("[id][data-turbolinks-permanent]")},i.prototype.findCurrentBodyPermanentElement=function(e){return document.body.querySelector("#"+e.id+"[data-turbolinks-permanent]")},i.prototype.getNewBodyScriptElements=function(){return this.newBody.querySelectorAll("script")},i.prototype.findFirstAutofocusableElement=function(){return document.body.querySelector("[autofocus]")},i}(Turbolinks.Renderer)}.call(this),function(){var e=function(e,i){function n(){this.constructor=e}for(var s in i)t.call(i,s)&&(e[s]=i[s]);return n.prototype=i.prototype,e.prototype=new n,e.__super__=i.prototype,e},t={}.hasOwnProperty;Turbolinks.ErrorRenderer=function(t){function i(e){this.html=e}return e(i,t),i.prototype.render=function(e){return this.renderView((t=this,function(){return t.replaceDocumentHTML(),t.activateBodyScriptElements(),e()}));var t},i.prototype.replaceDocumentHTML=function(){return document.documentElement.innerHTML=this.html},i.prototype.activateBodyScriptElements=function(){var e,t,i,n,s,r;for(r=[],t=0,i=(n=this.getScriptElements()).length;i>t;t++)s=n[t],e=this.createScriptElement(s),r.push(s.parentNode.replaceChild(e,s));return r},i.prototype.getScriptElements=function(){return document.documentElement.querySelectorAll("script")},i}(Turbolinks.Renderer)}.call(this),function(){Turbolinks.View=function(){function e(e){this.delegate=e,this.element=document.documentElement}return e.prototype.getRootLocation=function(){return this.getSnapshot().getRootLocation()},e.prototype.getElementForAnchor=function(e){return this.getSnapshot().getElementForAnchor(e)},e.prototype.getSnapshot=function(){return Turbolinks.Snapshot.fromElement(this.element)},e.prototype.render=function(e,t){var i,n,s;return s=e.snapshot,i=e.error,n=e.isPreview,this.markAsPreview(n),null!=s?this.renderSnapshot(s,n,t):this.renderError(i,t)},e.prototype.markAsPreview=function(e){return e?this.element.setAttribute("data-turbolinks-preview",""):this.element.removeAttribute("data-turbolinks-preview")},e.prototype.renderSnapshot=function(e,t,i){return Turbolinks.SnapshotRenderer.render(this.delegate,i,this.getSnapshot(),Turbolinks.Snapshot.wrap(e),t)},e.prototype.renderError=function(e,t){return Turbolinks.ErrorRenderer.render(this.delegate,t,e)},e}()}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};Turbolinks.ScrollManager=function(){function t(t){this.delegate=t,this.onScroll=e(this.onScroll,this),this.onScroll=Turbolinks.throttle(this.onScroll)}return t.prototype.start=function(){return this.started?void 0:(addEventListener("scroll",this.onScroll,!1),this.onScroll(),this.started=!0)},t.prototype.stop=function(){return this.started?(removeEventListener("scroll",this.onScroll,!1),this.started=!1):void 0},t.prototype.scrollToElement=function(e){return e.scrollIntoView()},t.prototype.scrollToPosition=function(e){var t,i;return t=e.x,i=e.y,window.scrollTo(t,i)},t.prototype.onScroll=function(){return this.updatePosition({x:window.pageXOffset,y:window.pageYOffset})},t.prototype.updatePosition=function(e){var t;return this.position=e,null!=(t=this.delegate)?t.scrollPositionChanged(this.position):void 0},t}()}.call(this),function(){Turbolinks.SnapshotCache=function(){function e(e){this.size=e,this.keys=[],this.snapshots={}}var t;return e.prototype.has=function(e){return t(e)in this.snapshots},e.prototype.get=function(e){var t;if(this.has(e))return t=this.read(e),this.touch(e),t},e.prototype.put=function(e,t){return this.write(e,t),this.touch(e),t},e.prototype.read=function(e){var i;return i=t(e),this.snapshots[i]},e.prototype.write=function(e,i){var n;return n=t(e),this.snapshots[n]=i},e.prototype.touch=function(e){var i,n;return n=t(e),(i=this.keys.indexOf(n))>-1&&this.keys.splice(i,1),this.keys.unshift(n),this.trim()},e.prototype.trim=function(){var e,t,i,n,s;for(s=[],e=0,i=(n=this.keys.splice(this.size)).length;i>e;e++)t=n[e],s.push(delete this.snapshots[t]);return s},t=function(e){return Turbolinks.Location.wrap(e).toCacheKey()},e}()}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};Turbolinks.Visit=function(){function t(t,i,n){this.controller=t,this.action=n,this.performScroll=e(this.performScroll,this),this.identifier=Turbolinks.uuid(),this.location=Turbolinks.Location.wrap(i),this.adapter=this.controller.adapter,this.state="initialized",this.timingMetrics={}}var i;return t.prototype.start=function(){return"initialized"===this.state?(this.recordTimingMetric("visitStart"),this.state="started",this.adapter.visitStarted(this)):void 0},t.prototype.cancel=function(){var e;return"started"===this.state?(null!=(e=this.request)&&e.cancel(),this.cancelRender(),this.state="canceled"):void 0},t.prototype.complete=function(){var e;return"started"===this.state?(this.recordTimingMetric("visitEnd"),this.state="completed","function"==typeof(e=this.adapter).visitCompleted&&e.visitCompleted(this),this.controller.visitCompleted(this)):void 0},t.prototype.fail=function(){var e;return"started"===this.state?(this.state="failed","function"==typeof(e=this.adapter).visitFailed?e.visitFailed(this):void 0):void 0},t.prototype.changeHistory=function(){var e,t;return this.historyChanged?void 0:(e=this.location.isEqualTo(this.referrer)?"replace":this.action,t=i(e),this.controller[t](this.location,this.restorationIdentifier),this.historyChanged=!0)},t.prototype.issueRequest=function(){return this.shouldIssueRequest()&&null==this.request?(this.progress=0,this.request=new Turbolinks.HttpRequest(this,this.location,this.referrer),this.request.send()):void 0},t.prototype.getCachedSnapshot=function(){var e;return!(e=this.controller.getCachedSnapshotForLocation(this.location))||null!=this.location.anchor&&!e.hasAnchor(this.location.anchor)||"restore"!==this.action&&!e.isPreviewable()?void 0:e},t.prototype.hasCachedSnapshot=function(){return null!=this.getCachedSnapshot()},t.prototype.loadCachedSnapshot=function(){var e,t;return(t=this.getCachedSnapshot())?(e=this.shouldIssueRequest(),this.render(function(){var i;return this.cacheSnapshot(),this.controller.render({snapshot:t,isPreview:e},this.performScroll),"function"==typeof(i=this.adapter).visitRendered&&i.visitRendered(this),e?void 0:this.complete()})):void 0},t.prototype.loadResponse=function(){return null!=this.response?this.render(function(){var e,t;return this.cacheSnapshot(),this.request.failed?(this.controller.render({error:this.response},this.performScroll),"function"==typeof(e=this.adapter).visitRendered&&e.visitRendered(this),this.fail()):(this.controller.render({snapshot:this.response},this.performScroll),"function"==typeof(t=this.adapter).visitRendered&&t.visitRendered(this),this.complete())}):void 0},t.prototype.followRedirect=function(){
return this.redirectedToLocation&&!this.followedRedirect?(this.location=this.redirectedToLocation,this.controller.replaceHistoryWithLocationAndRestorationIdentifier(this.redirectedToLocation,this.restorationIdentifier),this.followedRedirect=!0):void 0},t.prototype.requestStarted=function(){var e;return this.recordTimingMetric("requestStart"),"function"==typeof(e=this.adapter).visitRequestStarted?e.visitRequestStarted(this):void 0},t.prototype.requestProgressed=function(e){var t;return this.progress=e,"function"==typeof(t=this.adapter).visitRequestProgressed?t.visitRequestProgressed(this):void 0},t.prototype.requestCompletedWithResponse=function(e,t){return this.response=e,null!=t&&(this.redirectedToLocation=Turbolinks.Location.wrap(t)),this.adapter.visitRequestCompleted(this)},t.prototype.requestFailedWithStatusCode=function(e,t){return this.response=t,this.adapter.visitRequestFailedWithStatusCode(this,e)},t.prototype.requestFinished=function(){var e;return this.recordTimingMetric("requestEnd"),"function"==typeof(e=this.adapter).visitRequestFinished?e.visitRequestFinished(this):void 0},t.prototype.performScroll=function(){return this.scrolled?void 0:("restore"===this.action?this.scrollToRestoredPosition()||this.scrollToTop():this.scrollToAnchor()||this.scrollToTop(),this.scrolled=!0)},t.prototype.scrollToRestoredPosition=function(){var e,t;return null!=(e=null!=(t=this.restorationData)?t.scrollPosition:void 0)?(this.controller.scrollToPosition(e),!0):void 0},t.prototype.scrollToAnchor=function(){return null!=this.location.anchor?(this.controller.scrollToAnchor(this.location.anchor),!0):void 0},t.prototype.scrollToTop=function(){return this.controller.scrollToPosition({x:0,y:0})},t.prototype.recordTimingMetric=function(e){var t;return null!=(t=this.timingMetrics)[e]?t[e]:t[e]=(new Date).getTime()},t.prototype.getTimingMetrics=function(){return Turbolinks.copyObject(this.timingMetrics)},i=function(e){switch(e){case"replace":return"replaceHistoryWithLocationAndRestorationIdentifier";case"advance":case"restore":return"pushHistoryWithLocationAndRestorationIdentifier"}},t.prototype.shouldIssueRequest=function(){return"restore"!==this.action||!this.hasCachedSnapshot()},t.prototype.cacheSnapshot=function(){return this.snapshotCached?void 0:(this.controller.cacheSnapshot(),this.snapshotCached=!0)},t.prototype.render=function(e){return this.cancelRender(),this.frame=requestAnimationFrame((t=this,function(){return t.frame=null,e.call(t)}));var t},t.prototype.cancelRender=function(){return this.frame?cancelAnimationFrame(this.frame):void 0},t}()}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};Turbolinks.Controller=function(){function t(){this.clickBubbled=e(this.clickBubbled,this),this.clickCaptured=e(this.clickCaptured,this),this.pageLoaded=e(this.pageLoaded,this),this.history=new Turbolinks.History(this),this.view=new Turbolinks.View(this),this.scrollManager=new Turbolinks.ScrollManager(this),this.restorationData={},this.clearCache(),this.setProgressBarDelay(500)}return t.prototype.start=function(){return Turbolinks.supported&&!this.started?(addEventListener("click",this.clickCaptured,!0),addEventListener("DOMContentLoaded",this.pageLoaded,!1),this.scrollManager.start(),this.startHistory(),this.started=!0,this.enabled=!0):void 0},t.prototype.disable=function(){return this.enabled=!1},t.prototype.stop=function(){return this.started?(removeEventListener("click",this.clickCaptured,!0),removeEventListener("DOMContentLoaded",this.pageLoaded,!1),this.scrollManager.stop(),this.stopHistory(),this.started=!1):void 0},t.prototype.clearCache=function(){return this.cache=new Turbolinks.SnapshotCache(10)},t.prototype.visit=function(e,t){var i,n;return null==t&&(t={}),e=Turbolinks.Location.wrap(e),this.applicationAllowsVisitingLocation(e)?this.locationIsVisitable(e)?(i=null!=(n=t.action)?n:"advance",this.adapter.visitProposedToLocationWithAction(e,i)):window.location=e:void 0},t.prototype.startVisitToLocationWithAction=function(e,t,i){var n;return Turbolinks.supported?(n=this.getRestorationDataForIdentifier(i),this.startVisit(e,t,{restorationData:n})):window.location=e},t.prototype.setProgressBarDelay=function(e){return this.progressBarDelay=e},t.prototype.startHistory=function(){return this.location=Turbolinks.Location.wrap(window.location),this.restorationIdentifier=Turbolinks.uuid(),this.history.start(),this.history.replace(this.location,this.restorationIdentifier)},t.prototype.stopHistory=function(){return this.history.stop()},t.prototype.pushHistoryWithLocationAndRestorationIdentifier=function(e,t){return this.restorationIdentifier=t,this.location=Turbolinks.Location.wrap(e),this.history.push(this.location,this.restorationIdentifier)},t.prototype.replaceHistoryWithLocationAndRestorationIdentifier=function(e,t){return this.restorationIdentifier=t,this.location=Turbolinks.Location.wrap(e),this.history.replace(this.location,this.restorationIdentifier)},t.prototype.historyPoppedToLocationWithRestorationIdentifier=function(e,t){var i;return this.restorationIdentifier=t,this.enabled?(i=this.getRestorationDataForIdentifier(this.restorationIdentifier),this.startVisit(e,"restore",{restorationIdentifier:this.restorationIdentifier,restorationData:i,historyChanged:!0}),this.location=Turbolinks.Location.wrap(e)):this.adapter.pageInvalidated()},t.prototype.getCachedSnapshotForLocation=function(e){var t;return(t=this.cache.get(e))?t.clone():void 0},t.prototype.shouldCacheSnapshot=function(){return this.view.getSnapshot().isCacheable()},t.prototype.cacheSnapshot=function(){var e;return this.shouldCacheSnapshot()?(this.notifyApplicationBeforeCachingSnapshot(),e=this.view.getSnapshot(),this.cache.put(this.lastRenderedLocation,e.clone())):void 0},t.prototype.scrollToAnchor=function(e){var t;return(t=this.view.getElementForAnchor(e))?this.scrollToElement(t):this.scrollToPosition({x:0,y:0})},t.prototype.scrollToElement=function(e){return this.scrollManager.scrollToElement(e)},t.prototype.scrollToPosition=function(e){return this.scrollManager.scrollToPosition(e)},t.prototype.scrollPositionChanged=function(e){return this.getCurrentRestorationData().scrollPosition=e},t.prototype.render=function(e,t){return this.view.render(e,t)},t.prototype.viewInvalidated=function(){return this.adapter.pageInvalidated()},t.prototype.viewWillRender=function(e){return this.notifyApplicationBeforeRender(e)},t.prototype.viewRendered=function(){return this.lastRenderedLocation=this.currentVisit.location,this.notifyApplicationAfterRender()},t.prototype.pageLoaded=function(){return this.lastRenderedLocation=this.location,this.notifyApplicationAfterPageLoad()},t.prototype.clickCaptured=function(){return removeEventListener("click",this.clickBubbled,!1),addEventListener("click",this.clickBubbled,!1)},t.prototype.clickBubbled=function(e){var t,i,n;return this.enabled&&this.clickEventIsSignificant(e)&&(i=this.getVisitableLinkForNode(e.target))&&(n=this.getVisitableLocationForLink(i))&&this.applicationAllowsFollowingLinkToLocation(i,n)?(e.preventDefault(),t=this.getActionForLink(i),this.visit(n,{action:t})):void 0},t.prototype.applicationAllowsFollowingLinkToLocation=function(e,t){return!this.notifyApplicationAfterClickingLinkToLocation(e,t).defaultPrevented},t.prototype.applicationAllowsVisitingLocation=function(e){return!this.notifyApplicationBeforeVisitingLocation(e).defaultPrevented},t.prototype.notifyApplicationAfterClickingLinkToLocation=function(e,t){return Turbolinks.dispatch("turbolinks:click",{target:e,data:{url:t.absoluteURL},cancelable:!0})},t.prototype.notifyApplicationBeforeVisitingLocation=function(e){return Turbolinks.dispatch("turbolinks:before-visit",{data:{url:e.absoluteURL},cancelable:!0})},t.prototype.notifyApplicationAfterVisitingLocation=function(e){return Turbolinks.dispatch("turbolinks:visit",{data:{url:e.absoluteURL}})},t.prototype.notifyApplicationBeforeCachingSnapshot=function(){return Turbolinks.dispatch("turbolinks:before-cache")},t.prototype.notifyApplicationBeforeRender=function(e){return Turbolinks.dispatch("turbolinks:before-render",{data:{newBody:e}})},t.prototype.notifyApplicationAfterRender=function(){return Turbolinks.dispatch("turbolinks:render")},t.prototype.notifyApplicationAfterPageLoad=function(e){return null==e&&(e={}),Turbolinks.dispatch("turbolinks:load",{data:{url:this.location.absoluteURL,timing:e}})},t.prototype.startVisit=function(e,t,i){var n;return null!=(n=this.currentVisit)&&n.cancel(),this.currentVisit=this.createVisit(e,t,i),this.currentVisit.start(),this.notifyApplicationAfterVisitingLocation(e)},t.prototype.createVisit=function(e,t,i){var n,s,r,o,a;return o=(s=null!=i?i:{}).restorationIdentifier,r=s.restorationData,n=s.historyChanged,(a=new Turbolinks.Visit(this,e,t)).restorationIdentifier=null!=o?o:Turbolinks.uuid(),a.restorationData=Turbolinks.copyObject(r),a.historyChanged=n,a.referrer=this.location,a},t.prototype.visitCompleted=function(e){return this.notifyApplicationAfterPageLoad(e.getTimingMetrics())},t.prototype.clickEventIsSignificant=function(e){return!(e.defaultPrevented||e.target.isContentEditable||e.which>1||e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)},t.prototype.getVisitableLinkForNode=function(e){return this.nodeIsVisitable(e)?Turbolinks.closest(e,"a[href]:not([target]):not([download])"):void 0},t.prototype.getVisitableLocationForLink=function(e){var t;return t=new Turbolinks.Location(e.getAttribute("href")),this.locationIsVisitable(t)?t:void 0},t.prototype.getActionForLink=function(e){var t;return null!=(t=e.getAttribute("data-turbolinks-action"))?t:"advance"},t.prototype.nodeIsVisitable=function(e){var t;return!(t=Turbolinks.closest(e,"[data-turbolinks]"))||"false"!==t.getAttribute("data-turbolinks")},t.prototype.locationIsVisitable=function(e){return e.isPrefixedBy(this.view.getRootLocation())&&e.isHTML()},t.prototype.getCurrentRestorationData=function(){return this.getRestorationDataForIdentifier(this.restorationIdentifier)},t.prototype.getRestorationDataForIdentifier=function(e){var t;return null!=(t=this.restorationData)[e]?t[e]:t[e]={}},t}()}.call(this),function(){!function(){var e,t;if((e=t=document.currentScript)&&!t.hasAttribute("data-turbolinks-suppress-warning"))for(;e=e.parentNode;)if(e===document.body)return console.warn("You are loading Turbolinks from a <script> element inside the <body> element. This is probably not what you meant to do!\n\nLoad your application\u2019s JavaScript bundle inside the <head> element instead. <script> elements in <body> are evaluated with each page change.\n\nFor more information, see: https://github.com/turbolinks/turbolinks#working-with-script-elements\n\n\u2014\u2014\nSuppress this warning by adding a `data-turbolinks-suppress-warning` attribute to: %s",t.outerHTML)}()}.call(this),function(){var e,t,i;Turbolinks.start=function(){return t()?(null==Turbolinks.controller&&(Turbolinks.controller=e()),Turbolinks.controller.start()):void 0},t=function(){return null==window.Turbolinks&&(window.Turbolinks=Turbolinks),i()},e=function(){var e;return(e=new Turbolinks.Controller).adapter=new Turbolinks.BrowserAdapter(e),e},(i=function(){return window.Turbolinks===Turbolinks})()&&Turbolinks.start()}.call(this),window.dhtmlXScheduler=window.scheduler={version:"4.4.0"},window.dhtmlx||(dhtmlx=function(e){for(var t in e)dhtmlx[t]=e[t];return dhtmlx}),dhtmlx.extend_api=function(e,t,i){var n=window[e];n&&(window[e]=function(e){var i;if(e&&"object"==typeof e&&!e.tagName){i=n.apply(this,t._init?t._init(e):arguments);for(var s in dhtmlx)t[s]&&this[t[s]](dhtmlx[s]);for(var s in e)t[s]?this[t[s]](e[s]):0===s.indexOf("on")&&this.attachEvent(s,e[s])}else i=n.apply(this,arguments);return t._patch&&t._patch(this),i||this},window[e].prototype=n.prototype,i&&dhtmlXHeir(window[e].prototype,i))},dhtmlxAjax={get:function(e,t){var i=new dtmlXMLLoaderObject(!0);return i.async=arguments.length<3,i.waitCall=t,i.loadXML(e),i},post:function(e,t,i){var n=new dtmlXMLLoaderObject(!0);return n.async=arguments.length<4,n.waitCall=i,n.loadXML(e,!0,t),n},getSync:function(e){return this.get(e,null,!0)},postSync:function(e,t){return this.post(e,t,null,!0)}},dtmlXMLLoaderObject.count=0,dtmlXMLLoaderObject.prototype.waitLoadFunction=function(e){var t=!0;return this.check=function(){if(e&&e.onloadAction&&(!e.xmlDoc.readyState||4==e.xmlDoc.readyState)){if(!t)return;t=!1,dtmlXMLLoaderObject.count++,"function"==typeof e.onloadAction&&e.onloadAction(e.mainObject,null,null,null,e),e.waitCall&&(e.waitCall.call(this,e),e.waitCall=null)}},this.check},dtmlXMLLoaderObject.prototype.getXMLTopNode=function(e,t){var i;if(this.xmlDoc.responseXML){if(0===(n=this.xmlDoc.responseXML.getElementsByTagName(e)).length&&-1!=e.indexOf(":"))var n=this.xmlDoc.responseXML.getElementsByTagName(e.split(":")[1]);i=n[0]}else i=this.xmlDoc.documentElement;if(i)return this._retry=!1,i;if(!this._retry&&_isIE){this._retry=!0;t=this.xmlDoc;return this.loadXMLString(this.xmlDoc.responseText.replace(/^[\s]+/,""),!0),this.getXMLTopNode(e,t)}return dhtmlxError.throwError("LoadXML","Incorrect XML",[t||this.xmlDoc,this.mainObject]),document.createElement("DIV")},dtmlXMLLoaderObject.prototype.loadXMLString=function(e,t){if(_isIE)this.xmlDoc=new ActiveXObject("Microsoft.XMLDOM"),this.xmlDoc.async=this.async,this.xmlDoc.onreadystatechange=function(){},this.xmlDoc.loadXML(e);else{var i=new DOMParser;this.xmlDoc=i.parseFromString(e,"text/xml")}t||(this.onloadAction&&this.onloadAction(this.mainObject,null,null,null,this),this.waitCall&&(this.waitCall(),this.waitCall=null))},dtmlXMLLoaderObject.prototype.loadXML=function(e,t,i,n){this.rSeed&&(e+=(-1!=e.indexOf("?")?"&":"?")+"a_dhx_rSeed="+(new Date).valueOf()),this.filePath=e,!_isIE&&window.XMLHttpRequest?this.xmlDoc=new XMLHttpRequest:this.xmlDoc=new ActiveXObject("Microsoft.XMLHTTP"),this.async&&(this.xmlDoc.onreadystatechange=new this.waitLoadFunction(this)),"string"==typeof t?this.xmlDoc.open(t,e,this.async):this.xmlDoc.open(t?"POST":"GET",e,this.async),n?(this.xmlDoc.setRequestHeader("User-Agent","dhtmlxRPC v0.1 ("+navigator.userAgent+")"),this.xmlDoc.setRequestHeader("Content-type","text/xml")):t&&this.xmlDoc.setRequestHeader("Content-type","application/x-www-form-urlencoded"),this.xmlDoc.setRequestHeader("X-Requested-With","XMLHttpRequest"),this.xmlDoc.send(i),this.async||new this.waitLoadFunction(this)()},dtmlXMLLoaderObject.prototype.destructor=function(){return this._filterXPath=null,this._getAllNamedChilds=null,this._retry=null,this.async=null,this.rSeed=null,this.filePath=null,this.onloadAction=null,this.mainObject=null,this.xmlDoc=null,this.doXPath=null,this.doXPathOpera=null,this.doXSLTransToObject=null,this.doXSLTransToString=null,this.loadXML=null,this.loadXMLString=null,this.doSerialization=null,this.xmlNodeToJSON=null,this.getXMLTopNode=null,this.setXSLParamValue=null,null},dtmlXMLLoaderObject.prototype.xmlNodeToJSON=function(e){for(var t={},i=0;i<e.attributes.length;i++)t[e.attributes[i].name]=e.attributes[i].value;t._tagvalue=e.firstChild?e.firstChild.nodeValue:"";for(i=0;i<e.childNodes.length;i++){var n=e.childNodes[i].tagName;n&&(t[n]||(t[n]=[]),t[n].push(this.xmlNodeToJSON(e.childNodes[i])))}return t},dhtmlDragAndDropObject.prototype.removeDraggableItem=function(e){e.onmousedown=null,e.dragStarter=null,e.dragLanding=null},dhtmlDragAndDropObject.prototype.addDraggableItem=function(e,t){e.onmousedown=this.preCreateDragCopy,e.dragStarter=t,this.addDragLanding(e,t)},dhtmlDragAndDropObject.prototype.addDragLanding=function(e,t){e.dragLanding=t},dhtmlDragAndDropObject.prototype.preCreateDragCopy=function(e){return!e&&!window.event||2!=(e||event).button?window.dhtmlDragAndDrop.waitDrag?(window.dhtmlDragAndDrop.waitDrag=0,document.body.onmouseup=window.dhtmlDragAndDrop.tempDOMU,document.body.onmousemove=window.dhtmlDragAndDrop.tempDOMM,!1):(window.dhtmlDragAndDrop.dragNode&&window.dhtmlDragAndDrop.stopDrag(e),window.dhtmlDragAndDrop.waitDrag=1,window.dhtmlDragAndDrop.tempDOMU=document.body.onmouseup,window.dhtmlDragAndDrop.tempDOMM=document.body.onmousemove,window.dhtmlDragAndDrop.dragStartNode=this,window.dhtmlDragAndDrop.dragStartObject=this.dragStarter,document.body.onmouseup=window.dhtmlDragAndDrop.preCreateDragCopy,document.body.onmousemove=window.dhtmlDragAndDrop.callDrag,window.dhtmlDragAndDrop.downtime=(new Date).valueOf(),!(!e||!e.preventDefault)&&(e.preventDefault(),!1)):void 0},dhtmlDragAndDropObject.prototype.callDrag=function(e){e||(e=window.event);var t=window.dhtmlDragAndDrop;if(!((new Date).valueOf()-t.downtime<100)){if(!t.dragNode){if(!t.waitDrag)return t.stopDrag(e,!0);if(t.dragNode=t.dragStartObject._createDragNode(t.dragStartNode,e),!t.dragNode)return t.stopDrag();t.dragNode.onselectstart=function(){return!1},t.gldragNode=t.dragNode,document.body.appendChild(t.dragNode),document.body.onmouseup=t.stopDrag,t.waitDrag=0,t.dragNode.pWindow=window,t.initFrameRoute()}if(t.dragNode.parentNode!=window.document.body&&t.gldragNode){var i=t.gldragNode;t.gldragNode.old&&(i=t.gldragNode.old),i.parentNode.removeChild(i);var n=t.dragNode.pWindow;if(i.pWindow&&i.pWindow.dhtmlDragAndDrop.lastLanding&&i.pWindow.dhtmlDragAndDrop.lastLanding.dragLanding._dragOut(i.pWindow.dhtmlDragAndDrop.lastLanding),_isIE){var s=document.createElement("Div");s.innerHTML=t.dragNode.outerHTML,t.dragNode=s.childNodes[0]}else t.dragNode=t.dragNode.cloneNode(!0);t.dragNode.pWindow=window,t.gldragNode.old=t.dragNode,document.body.appendChild(t.dragNode),n.dhtmlDragAndDrop.dragNode=t.dragNode}var r;t.dragNode.style.left=e.clientX+15+(t.fx?-1*t.fx:0)+(document.body.scrollLeft||document.documentElement.scrollLeft)+"px",t.dragNode.style.top=e.clientY+3+(t.fy?-1*t.fy:0)+(document.body.scrollTop||document.documentElement.scrollTop)+"px",r=e.srcElement?e.srcElement:e.target,t.checkLanding(r,e)}},dhtmlDragAndDropObject.prototype.calculateFramePosition=function(e){if(window.name){for(var t=parent.frames[window.name].frameElement.offsetParent,i=0,n=0;t;)i+=t.offsetLeft,n+=t.offsetTop,t=t.offsetParent;if(parent.dhtmlDragAndDrop){var s=parent.dhtmlDragAndDrop.calculateFramePosition(1);i+=1*s.split("_")[0],n+=1*s.split("_")[1]}if(e)return i+"_"+n;this.fx=i,this.fy=n}return"0_0"},dhtmlDragAndDropObject.prototype.checkLanding=function(e,t){e&&e.dragLanding?(this.lastLanding&&this.lastLanding.dragLanding._dragOut(this.lastLanding),this.lastLanding=e,this.lastLanding=this.lastLanding.dragLanding._dragIn(this.lastLanding,this.dragStartNode,t.clientX,t.clientY,t),this.lastLanding_scr=_isIE?t.srcElement:t.target):e&&"BODY"!=e.tagName?this.checkLanding(e.parentNode,t):(this.lastLanding&&this.lastLanding.dragLanding._dragOut(this.lastLanding,t.clientX,t.clientY,t),this.lastLanding=0,this._onNotFound&&this._onNotFound())},dhtmlDragAndDropObject.prototype.stopDrag=function(e,t){var i=window.dhtmlDragAndDrop;if(!t){i.stopFrameRoute();var n=i.lastLanding;i.lastLanding=null,n&&n.dragLanding._drag(i.dragStartNode,i.dragStartObject,n,_isIE?event.srcElement:e.target)}i.lastLanding=null,i.dragNode&&i.dragNode.parentNode==document.body&&i.dragNode.parentNode.removeChild(i.dragNode),i.dragNode=0,i.gldragNode=0,i.fx=0,i.fy=0,i.dragStartNode=0,i.dragStartObject=0,document.body.onmouseup=i.tempDOMU,document.body.onmousemove=i.tempDOMM,i.tempDOMU=null,i.tempDOMM=null,i.waitDrag=0},dhtmlDragAndDropObject.prototype.stopFrameRoute=function(e){e&&window.dhtmlDragAndDrop.stopDrag(1,1);for(var t=0;t<window.frames.length;t++)try{window.frames[t]!=e&&window.frames[t].dhtmlDragAndDrop&&window.frames[t].dhtmlDragAndDrop.stopFrameRoute(window)}catch(i){}try{parent.dhtmlDragAndDrop&&parent!=window&&parent!=e&&parent.dhtmlDragAndDrop.stopFrameRoute(window)}catch(i){}},dhtmlDragAndDropObject.prototype.initFrameRoute=function(e,t){e&&(window.dhtmlDragAndDrop.preCreateDragCopy(),window.dhtmlDragAndDrop.dragStartNode=e.dhtmlDragAndDrop.dragStartNode,window.dhtmlDragAndDrop.dragStartObject=e.dhtmlDragAndDrop.dragStartObject,window.dhtmlDragAndDrop.dragNode=e.dhtmlDragAndDrop.dragNode,window.dhtmlDragAndDrop.gldragNode=e.dhtmlDragAndDrop.dragNode,window.document.body.onmouseup=window.dhtmlDragAndDrop.stopDrag,window.waitDrag=0,!_isIE&&t&&(!_isFF||_FFrv<1.8)&&window.dhtmlDragAndDrop.calculateFramePosition());try{parent.dhtmlDragAndDrop&&parent!=window&&parent!=e&&parent.dhtmlDragAndDrop.initFrameRoute(window)}catch(n){}for(var i=0;i<window.frames.length;i++)try{window.frames[i]!=e&&window.frames[i].dhtmlDragAndDrop&&window.frames[i].dhtmlDragAndDrop.initFrameRoute(window,!e||t?1:0)}catch(n){}},_isFF=!1,_isIE=!1,_isOpera=!1,_isKHTML=!1,_isMacOS=!1,_isChrome=!1,_FFrv=!1,_KHTMLrv=!1,_OperaRv=!1,-1!=navigator.userAgent.indexOf("Macintosh")&&(_isMacOS=!0),navigator.userAgent.toLowerCase().indexOf("chrome")>-1&&(_isChrome=!0),-1!=navigator.userAgent.indexOf("Safari")||-1!=navigator.userAgent.indexOf("Konqueror")?(_KHTMLrv=parseFloat(navigator.userAgent.substr(navigator.userAgent.indexOf("Safari")+7,5)),_KHTMLrv>525?(_isFF=!0,_FFrv=1.9):_isKHTML=!0):-1!=navigator.userAgent.indexOf("Opera")?(_isOpera=!0,_OperaRv=parseFloat(navigator.userAgent.substr(navigator.userAgent.indexOf("Opera")+6,3))):-1!=navigator.appName.indexOf("Microsoft")?(_isIE=!0,-1==navigator.appVersion.indexOf("MSIE 8.0")&&-1==navigator.appVersion.indexOf("MSIE 9.0")&&-1==navigator.appVersion.indexOf("MSIE 10.0")||"BackCompat"==document.compatMode||(_isIE=8)):"Netscape"==navigator.appName&&-1!=navigator.userAgent.indexOf("Trident")?_isIE=8:(_isFF=!0,_FFrv=parseFloat(navigator.userAgent.split("rv:")[1])),dtmlXMLLoaderObject.prototype.doXPath=function(e,t,i,n){if(_isKHTML||!_isIE&&!window.XPathResult)return this.doXPathOpera(e,t);if(_isIE)return t||(t=this.xmlDoc.nodeName?this.xmlDoc:this.xmlDoc.responseXML),t||dhtmlxError.throwError("LoadXML","Incorrect XML",[t||this.xmlDoc,this.mainObject]),i&&t.setProperty("SelectionNamespaces","xmlns:xsl='"+i+"'"),"single"==n?t.selectSingleNode(e):t.selectNodes(e)||new Array(0);var s=t;t||(t=this.xmlDoc.nodeName?this.xmlDoc:this.xmlDoc.responseXML),t||dhtmlxError.throwError("LoadXML","Incorrect XML",[t||this.xmlDoc,this.mainObject]),-1!=t.nodeName.indexOf("document")?s=t:(s=t,t=t.ownerDocument);var r=XPathResult.ANY_TYPE;"single"==n&&(r=XPathResult.FIRST_ORDERED_NODE_TYPE);var o=[],a=t.evaluate(e,s,function(){return i},r,null);if(r==XPathResult.FIRST_ORDERED_NODE_TYPE)return a.singleNodeValue;for(var l=a.iterateNext();l;)o[o.length]=l,l=a.iterateNext();return o},_dhtmlxError.prototype.catchError=function(e,t){this.catches[e]=t},_dhtmlxError.prototype.throwError=function(e,t,i){return this.catches[e]?this.catches[e](e,t,i):this.catches.ALL?this.catches.ALL(e,t,i):(window.alert("Error type: "+arguments[0]+"\nDescription: "+arguments[1]),null)},window.dhtmlxError=new _dhtmlxError,dtmlXMLLoaderObject.prototype.doXPathOpera=function(e,t){var i=e.replace(/[\/]+/gi,"/").split("/"),n=null,s=1;if(!i.length)return[];if("."==i[0])n=[t];else{if(""!==i[0])return[];n=(this.xmlDoc.responseXML||this.xmlDoc).getElementsByTagName(i[s].replace(/\[[^\]]*\]/g,"")),s++}for(;s<i.length;s++)n=this._getAllNamedChilds(n,i[s]);return-1!=i[s-1].indexOf("[")&&(n=this._filterXPath(n,i[s-1])),n},dtmlXMLLoaderObject.prototype._filterXPath=function(e,t){for(var i=[],n=(t=t.replace(/[^\[]*\[\@/g,"").replace(/[\[\]\@]*/g,""),0);n<e.length;n++)e[n].getAttribute(t)&&(i[i.length]=e[n]);return i},dtmlXMLLoaderObject.prototype._getAllNamedChilds=function(e,t){var i=[];_isKHTML&&(t=t.toUpperCase());for(var n=0;n<e.length;n++)for(var s=0;s<e[n].childNodes.length;s++)_isKHTML?e[n].childNodes[s].tagName&&e[n].childNodes[s].tagName.toUpperCase()==t&&(i[i.length]=e[n].childNodes[s]):e[n].childNodes[s].tagName==t&&(i[i.length]=e[n].childNodes[s]);return i},"undefined"==typeof window.dhtmlxEvent&&(window.dhtmlxEvent=function(e,t,i){e.addEventListener?e.addEventListener(t,i,!1):e.attachEvent&&e.attachEvent("on"+t,i)}),dtmlXMLLoaderObject.prototype.xslDoc=null,dtmlXMLLoaderObject.prototype.setXSLParamValue=function(e,t,i){i||(i=this.xslDoc),i.responseXML&&(i=i.responseXML);var n=this.doXPath("/xsl:stylesheet/xsl:variable[@name='"+e+"']",i,"http://www.w3.org/1999/XSL/Transform","single");n&&(n.firstChild.nodeValue=t)},dtmlXMLLoaderObject.prototype.doXSLTransToObject=function(e,t){var i;if(e||(e=this.xslDoc),e.responseXML&&(e=e.responseXML),t||(t=this.xmlDoc),t.responseXML&&(t=t.responseXML),_isIE){i=new ActiveXObject("Msxml2.DOMDocument.3.0");try{t.transformNodeToObject(e,i)}catch(n){i=t.transformNode(e)}}else this.XSLProcessor||(this.XSLProcessor=new XSLTProcessor,this.XSLProcessor.importStylesheet(e)),i=this.XSLProcessor.transformToDocument(t);return i},dtmlXMLLoaderObject.prototype.doXSLTransToString=function(e,t){var i=this.doXSLTransToObject(e,t);return"string"==typeof i?i:this.doSerialization(i)},dtmlXMLLoaderObject.prototype.doSerialization=function(e){return e||(e=this.xmlDoc),e.responseXML&&(e=e.responseXML),_isIE?e.xml:(new XMLSerializer).serializeToString(e)},dhtmlxEventable=function(obj){obj.attachEvent=function(e,t,i){return this[e="ev_"+e.toLowerCase()]||(this[e]=new this.eventCatcher(i||this)),e+":"+this[e].addEvent(t)},obj.callEvent=function(e,t){return!this[e="ev_"+e.toLowerCase()]||this[e].apply(this,t)},obj.checkEvent=function(e){return!!this["ev_"+e.toLowerCase()]},obj.eventCatcher=function(obj){var dhx_catch=[],z=function(){for(var e=!0,t=0;t<dhx_catch.length;t++)if(dhx_catch[t]){var i=dhx_catch[t].apply(obj,arguments);e=e&&i}return e};return z.addEvent=function(ev){return"function"!=typeof ev&&(ev=eval(ev)),!!ev&&dhx_catch.push(ev)-1},z.removeEvent=function(e){dhx_catch[e]=null},z},obj.detachEvent=function(e){if(e){var t=e.split(":");this[t[0]].removeEvent(t[1])}},obj.detachAllEvents=function(){for(var e in this)0===e.indexOf("ev_")&&(this.detachEvent(e),this[e]=null)},obj=null},scheduler.event=window.dhtmlxEvent,scheduler.eventRemove=function(e,t,i){e.removeEventListener?e.removeEventListener(t,i,!1):e.detachEvent&&e.detachEvent("on"+t,i)},function(){function e(e){var t=!1,i=!1;if(window.getComputedStyle){var n=window.getComputedStyle(e,null);t=n.display,i=n.visibility}else e.currentStyle&&(t=e.currentStyle.display,i=e.currentStyle.visibility);var s=!1,r=scheduler._locate_css({target:e},"dhx_form_repeat",!1);return r&&(s=!("0px"!=r.style.height)),s=s||!e.offsetHeight,"none"!=t&&"hidden"!=i&&!s}function t(e){return!isNaN(e.getAttribute("tabindex"))&&1*e.getAttribute("tabindex")>=0}function i(e){return!{a:!0,area:!0}[e.nodeName.loLowerCase()]||!!e.getAttribute("href")}function n(e){return!{input:!0,select:!0,textarea:!0,button:!0,object:!0}[e.nodeName.toLowerCase()]||!e.hasAttribute("disabled")}scheduler._getFocusableNodes=function(s){for(var r=s.querySelectorAll(["a[href]","area[href]","input","select","textarea","button","iframe","object","embed","[tabindex]","[contenteditable]"].join(", ")),o=Array.prototype.slice.call(r,0),a=0;a<o.length;a++){var l=o[a];(t(l)||n(l)||i(l))&&e(l)||(o.splice(a,1),a--)}return o}}(),scheduler._trim=function(e){return(String.prototype.trim||function(){return this.replace(/^\s+|\s+$/g,"")}).apply(e)},window.dhtmlx||(window.dhtmlx={}),function(){function e(e,t){setTimeout(function(){if(e.box){var n=e.callback;i(!1),e.box.parentNode.removeChild(e.box),dhtmlx.callEvent("onAfterMessagePopup",[e.box]),u=e.box=null,n&&n(t)}},1)}function t(t){if(u){var i=(t=t||event).which||event.keyCode,n=!1;if(dhtmlx.message.keyboard){if(13==i||32==i){var s=t.target||t.srcElement;scheduler._getClassName(s).indexOf("dhtmlx_popup_button")>-1&&s.click?s.click():(e(u,!0),n=!0)}27==i&&(e(u,!1),n=!0)}if(n)return t.preventDefault&&t.preventDefault(),!(t.cancelBubble=!0)}}function i(e){i.cover||(i.cover=document.createElement("DIV"),i.cover.onkeydown=t,i.cover.className="dhx_modal_cover",document.body.appendChild(i.cover)),document.body.scrollHeight,i.cover.style.display=e?"inline-block":"none"}function n(e,t,i){return"<div "+scheduler._waiAria.messageButtonAttrString(e)+"class='dhtmlx_popup_button "+("dhtmlx_"+(i||(e||"")).toLowerCase().replace(/ /g,"_")+"_button")+"' result='"+t+"' ><div>"+e+"</div></div>"}function s(e){f.area||(f.area=document.createElement("DIV"),f.area.className="dhtmlx_message_area",f.area.style[f.position]="5px",document.body.appendChild(f.area)),f.hide(e.id);var t=document.createElement("DIV");return t.innerHTML="<div>"+e.text+"</div>",t.className="dhtmlx-info dhtmlx-"+e.type,t.onclick=function(){f.hide(e.id),e=null},scheduler._waiAria.messageInfoAttr(t),"bottom"==f.position&&f.area.firstChild?f.area.insertBefore(t,f.area.firstChild):f.area.appendChild(t),e.expire>0&&(f.timers[e.id]=window.setTimeout(function(){f.hide(e.id)},e.expire)),f.pull[e.id]=t,t=null,e.id}function r(t,i,s){var r=document.createElement("DIV");r.className=" dhtmlx_modal_box dhtmlx-"+t.type,r.setAttribute("dhxbox",1);var o=scheduler.uid();scheduler._waiAria.messageModalAttr(r,o);var a="",l=!1;if(t.width&&(r.style.width=t.width),t.height&&(r.style.height=t.height),t.title&&(a+='<div class="dhtmlx_popup_title" id="'+o+'">'+t.title+"</div>",l=!0),a+='<div class="dhtmlx_popup_text" '+(l?"":' id="'+o+'" ')+"><span>"+(t.content?"":t.text)+'</span></div><div  class="dhtmlx_popup_controls">',i){var h=t.ok||scheduler.locale.labels.message_ok;void 0===h&&(h="OK"),a+=n(h,!0,"ok")}if(s){var d=t.cancel||scheduler.locale.labels.message_cancel;void 0===d&&(d="Cancel"),a+=n(d,!1,"cancel")}if(t.buttons)for(var c=0;c<t.buttons.length;c++)a+=n(t.buttons[c],c);if(a+="</div>",r.innerHTML=a,t.content){var f=t.content;"string"==typeof f&&(f=document.getElementById(f)),"none"==f.style.display&&(f.style.display=""),r.childNodes[t.title?1:0].appendChild(f)}return r.onclick=function(i){var n=(i=i||event).target||i.srcElement,s=scheduler._getClassName(n);if(s||(n=n.parentNode),"dhtmlx_popup_button"==(s=scheduler._getClassName(n)).split(" ")[0]){var r=n.getAttribute("result");e(t,r="true"==r||"false"!=r&&r)}},t.box=r,u=t,r}function o(e,n,s){var o=e.tagName?e:r(e,n,s);e.hidden||i(!0),document.body.appendChild(o);var a=Math.abs(Math.floor(((window.innerWidth||document.documentElement.offsetWidth)-o.offsetWidth)/2)),l=Math.abs(Math.floor(((window.innerHeight||document.documentElement.offsetHeight)-o.offsetHeight)/2));return"top"==e.position?o.style.top="-3px":o.style.top=l+"px",o.style.left=a+"px",o.onkeydown=t,dhtmlx.modalbox.focus(o),e.hidden&&dhtmlx.modalbox.hide(o),dhtmlx.callEvent("onMessagePopup",[o]),o}function a(e){return o(e,!0,!1)}function l(e){return o(e,!0,!0)}function h(e){return o(e)}function d(e,t,i){return"object"!=typeof e&&("function"==typeof t&&(i=t,t=""),e={text:e,type:t,callback:i}),e}function c(e,t,i,n){return"object"!=typeof e&&(e={text:e,type:t,expire:i,id:n}),e.id=e.id||f.uid(),e.expire=e.expire||f.expire,e}var u=null;document.attachEvent?document.attachEvent("onkeydown",t):document.addEventListener("keydown",t,!0),dhtmlx.alert=function(){var e=d.apply(this,arguments);return e.type=e.type||"confirm",a(e)},dhtmlx.confirm=function(){var e=d.apply(this,arguments);return e.type=e.type||"alert",l(e)},dhtmlx.modalbox=function(){var e=d.apply(this,arguments);return e.type=e.type||"alert",h(e)},dhtmlx.modalbox.hide=function(e){for(;e&&e.getAttribute&&!e.getAttribute("dhxbox");)e=e.parentNode;e&&(e.parentNode.removeChild(e),i(!1))},dhtmlx.modalbox.focus=function(e){setTimeout(function(){var t=scheduler._getFocusableNodes(e);t.length&&t[0].focus&&t[0].focus()},1)};var f=dhtmlx.message=function(e){switch((e=c.apply(this,arguments)).type=e.type||"info",e.type.split("-")[0]){case"alert":return a(e);case"confirm":return l(e);case"modalbox":return h(e);default:return s(e)}};f.seed=(new Date).valueOf(),f.uid=function(){return f.seed++},f.expire=4e3,f.keyboard=!0,f.position="top",f.pull={},f.timers={},f.hideAll=function(){for(var e in f.pull)f.hide(e)},f.hide=function(e){var t=f.pull[e];t&&t.parentNode&&(window.setTimeout(function(){t.parentNode.removeChild(t),t=null},2e3),t.className+=" hidden",f.timers[e]&&window.clearTimeout(f.timers[e]),delete f.pull[e])}}(),dhtmlx.attachEvent||dhtmlxEventable(dhtmlx),dataProcessor.prototype={setTransactionMode:function(e,t){this._tMode=e,this._tSend=t,"REST"==e&&(this._tSend=!1,this._endnm=!0)},escape:function(e){return this._utf?encodeURIComponent(e):escape(e)},enableUTFencoding:function(e){this._utf=convertStringToBoolean(e)},setDataColumns:function(e){this._columns="string"==typeof e?e.split(","):e},getSyncState:function(){return!this.updatedRows.length},enableDataNames:function(e){this._endnm=convertStringToBoolean(e)},enablePartialDataSend:function(e){this._changed=convertStringToBoolean(e)},setUpdateMode:function(e,t){this.autoUpdate="cell"==e,this.updateMode=e,this.dnd=t},ignore:function(e,t){this._silent_mode=!0,e.call(t||window),this._silent_mode=!1},setUpdated:function(e,t,i){if(!this._silent_mode){var n=this.findRow(e);i=i||"updated"
;var s=this.obj.getUserData(e,this.action_param);s&&"updated"==i&&(i=s),t?(this.set_invalid(e,!1),this.updatedRows[n]=e,this.obj.setUserData(e,this.action_param,i),this._in_progress[e]&&(this._in_progress[e]="wait")):this.is_invalid(e)||(this.updatedRows.splice(n,1),this.obj.setUserData(e,this.action_param,"")),t||this._clearUpdateFlag(e),this.markRow(e,t,i),t&&this.autoUpdate&&this.sendData(e)}},_clearUpdateFlag:function(){},markRow:function(e,t,i){var n="",s=this.is_invalid(e);if(s&&(n=this.styles[s],t=!0),this.callEvent("onRowMark",[e,t,i,s])&&(n=this.styles[t?i:"clear"]+n,this.obj[this._methods[0]](e,n),s&&s.details)){n+=this.styles[s+"_cell"];for(var r=0;r<s.details.length;r++)s.details[r]&&this.obj[this._methods[1]](e,r,n)}},getState:function(e){return this.obj.getUserData(e,this.action_param)},is_invalid:function(e){return this._invalid[e]},set_invalid:function(e,t,i){i&&(t={value:t,details:i,toString:function(){return this.value.toString()}}),this._invalid[e]=t},checkBeforeUpdate:function(){return!0},sendData:function(e){return!this._waitMode||"tree"!=this.obj.mytype&&!this.obj._h2?(this.obj.editStop&&this.obj.editStop(),void 0===e||this._tSend?this.sendAllData():!this._in_progress[e]&&(this.messages=[],!(!this.checkBeforeUpdate(e)&&this.callEvent("onValidationError",[e,this.messages]))&&void this._beforeSendData(this._getRowData(e),e))):void 0},_beforeSendData:function(e,t){return!!this.callEvent("onBeforeUpdate",[t,this.getState(t),e])&&void this._sendData(e,t)},serialize:function(e,t){if("string"==typeof e)return e;if(void 0!==t)return this.serialize_one(e,"");var i=[],n=[];for(var s in e)e.hasOwnProperty(s)&&(i.push(this.serialize_one(e[s],s+this.post_delim)),n.push(s));return i.push("ids="+this.escape(n.join(","))),dhtmlx.security_key&&i.push("dhx_security="+dhtmlx.security_key),i.join("&")},serialize_one:function(e,t){if("string"==typeof e)return e;var i=[];for(var n in e)if(e.hasOwnProperty(n)){if(("id"==n||n==this.action_param)&&"REST"==this._tMode)continue;i.push(this.escape((t||"")+n)+"="+this.escape(e[n]))}return i.join("&")},_sendData:function(e,t){if(e){if(!this.callEvent("onBeforeDataSending",t?[t,this.getState(t),e]:[null,null,e]))return!1;t&&(this._in_progress[t]=(new Date).valueOf());var i=new dtmlXMLLoaderObject(function(i,n,s,r,o){var a=[];if(t)a.push(t);else if(e)for(var l in e)a.push(l);return i.afterUpdate(i,o,a)},this,!0),n=this.serverProcessor+(this._user?getUrlSymbol(this.serverProcessor)+["dhx_user="+this._user,"dhx_version="+this.obj.getUserData(0,"version")].join("&"):"");if("GET"==this._tMode)i.loadXML(n+(-1!=n.indexOf("?")?"&":"?")+this.serialize(e,t));else if("POST"==this._tMode)i.loadXML(n,!0,this.serialize(e,t));else if("REST"==this._tMode){var s=this.getState(t),r=n.replace(/(\&|\?)editing\=true/,"");"inserted"==s?i.loadXML(r+t,"POST",this.serialize(e,t)):"deleted"==s?i.loadXML(r+t,"DELETE",""):i.loadXML(r+t,"PUT",this.serialize(e,t))}this._waitMode++}},sendAllData:function(){if(this.updatedRows.length){this.messages=[];for(var e=!0,t=0;t<this.updatedRows.length;t++)e&=this.checkBeforeUpdate(this.updatedRows[t]);if(!e&&!this.callEvent("onValidationError",["",this.messages]))return!1;if(this._tSend)this._sendData(this._getAllData());else for(t=0;t<this.updatedRows.length;t++)if(!this._in_progress[this.updatedRows[t]]){if(this.is_invalid(this.updatedRows[t]))continue;if(this._beforeSendData(this._getRowData(this.updatedRows[t]),this.updatedRows[t]),this._waitMode&&("tree"==this.obj.mytype||this.obj._h2))return}}},_getAllData:function(){for(var e={},t=!1,i=0;i<this.updatedRows.length;i++){var n=this.updatedRows[i];this._in_progress[n]||this.is_invalid(n)||this.callEvent("onBeforeUpdate",[n,this.getState(n),this._getRowData(n)])&&(e[n]=this._getRowData(n,n+this.post_delim),t=!0,this._in_progress[n]=(new Date).valueOf())}return t?e:null},setVerificator:function(e,t){this.mandatoryFields[e]=t||function(e){return""!==e}},clearVerificator:function(e){this.mandatoryFields[e]=!1},findRow:function(e){var t=0;for(t=0;t<this.updatedRows.length&&e!=this.updatedRows[t];t++);return t},defineAction:function(e,t){this._uActions||(this._uActions=[]),this._uActions[e]=t},afterUpdateCallback:function(e,t,i,n){var s=e,r="error"!=i&&"invalid"!=i;if(r||this.set_invalid(e,i),this._uActions&&this._uActions[i]&&!this._uActions[i](n))return delete this._in_progress[s];"wait"!=this._in_progress[s]&&this.setUpdated(e,!1);var o=e;switch(i){case"inserted":case"insert":t!=e&&(this.obj[this._methods[2]](e,t),e=t);break;case"delete":case"deleted":return this.obj.setUserData(e,this.action_param,"true_deleted"),this.obj[this._methods[3]](e,t),delete this._in_progress[s],this.callEvent("onAfterUpdate",[e,i,t,n])}"wait"!=this._in_progress[s]?(r&&this.obj.setUserData(e,this.action_param,""),delete this._in_progress[s]):(delete this._in_progress[s],this.setUpdated(t,!0,this.obj.getUserData(e,this.action_param))),this.callEvent("onAfterUpdate",[o,i,t,n])},afterUpdate:function(e,t,i){if(window.JSON)try{var n=JSON.parse(t.xmlDoc.responseText),s=n.action||this.getState(i)||"updated",r=n.sid||i[0],o=n.tid||i[0];return e.afterUpdateCallback(r,o,s,n),void e.finalizeUpdate()}catch(d){}if(t.getXMLTopNode("data"),!t.xmlDoc.responseXML)return this.obj&&this.obj.callEvent&&this.obj.callEvent("onSaveError",[i,t.xmlDoc]),this.cleanUpdate(i);var a=t.doXPath("//data/action");if(!a.length)return this.cleanUpdate(i);for(var l=0;l<a.length;l++){var h=a[l];s=h.getAttribute("type"),r=h.getAttribute("sid"),o=h.getAttribute("tid");e.afterUpdateCallback(r,o,s,h)}e.finalizeUpdate()},cleanUpdate:function(e){if(e)for(var t=0;t<e.length;t++)delete this._in_progress[e[t]]},finalizeUpdate:function(){this._waitMode&&this._waitMode--,("tree"==this.obj.mytype||this.obj._h2)&&this.updatedRows.length&&this.sendData(),this.callEvent("onAfterUpdateFinish",[]),this.updatedRows.length||this.callEvent("onFullSync",[])},init:function(e){this.obj=e,this.obj._dp_init&&this.obj._dp_init(this)},setOnAfterUpdate:function(e){this.attachEvent("onAfterUpdate",e)},enableDebug:function(){},setOnBeforeUpdateHandler:function(e){this.attachEvent("onBeforeDataSending",e)},setAutoUpdate:function(e,t){e=e||2e3,this._user=t||(new Date).valueOf(),this._need_update=!1,this._loader=null,this._update_busy=!1,this.attachEvent("onAfterUpdate",function(e,t,i,n){this.afterAutoUpdate(e,t,i,n)}),this.attachEvent("onFullSync",function(){this.fullSync()});var i=this;window.setInterval(function(){i.loadUpdate()},e)},afterAutoUpdate:function(e,t){return"collision"!=t||(this._need_update=!0,!1)},fullSync:function(){return this._need_update&&(this._need_update=!1,this.loadUpdate()),!0},getUpdates:function(e,t){return!this._update_busy&&(this._update_busy=!0,this._loader=this._loader||new dtmlXMLLoaderObject(!0),this._loader.async=!0,this._loader.waitCall=t,void this._loader.loadXML(e))},_v:function(e){return e.firstChild?e.firstChild.nodeValue:""},_a:function(e){for(var t=[],i=0;i<e.length;i++)t[i]=this._v(e[i]);return t},loadUpdate:function(){var e=this,t=this.obj.getUserData(0,"version"),i=this.serverProcessor+getUrlSymbol(this.serverProcessor)+["dhx_user="+this._user,"dhx_version="+t].join("&");i=i.replace("editing=true&",""),this.getUpdates(i,function(){var t;try{t=e._loader.doXPath("//userdata")}catch(i){return void(e._update_busy=!1)}e.obj.setUserData(0,"version",e._v(t[0]));var n=e._loader.doXPath("//update");if(n.length){e._silent_mode=!0;for(var s=0;s<n.length;s++){var r=n[s].getAttribute("status"),o=n[s].getAttribute("id"),a=n[s].getAttribute("parent");switch(r){case"inserted":e.callEvent("insertCallback",[n[s],o,a]);break;case"updated":e.callEvent("updateCallback",[n[s],o,a]);break;case"deleted":e.callEvent("deleteCallback",[n[s],o,a])}}e._silent_mode=!1}e._update_busy=!1,e=null})}},window.dataProcessor&&!dataProcessor.prototype.init_original&&(dataProcessor.prototype.init_original=dataProcessor.prototype.init,dataProcessor.prototype.init=function(e){this.init_original(e),e._dataprocessor=this,this.setTransactionMode("POST",!0),this.serverProcessor+=(-1!=this.serverProcessor.indexOf("?")?"&":"?")+"editing=true"}),dhtmlxError.catchError("LoadXML",function(e,t,i){var n=i[0].responseText;switch(scheduler.config.ajax_error){case"alert":window.alert(n);break;case"console":window.console.log(n)}}),function(){function e(e){return(e+"").replace(n," ").replace(s," ")}function t(e){return(e+"").replace(r,"&#39;")}function i(){return!scheduler.config.wai_aria_attributes}var n=new RegExp("<(?:.|\n)*?>","gm"),s=new RegExp(" +","gm"),r=new RegExp("'","gm");scheduler._waiAria={getAttributeString:function(i){var n=[" "];for(var s in i)if("function"!=typeof i[s]&&"object"!=typeof i[s]){var r=t(e(i[s]));n.push(s+"='"+r+"'")}return n.push(" "),n.join(" ")},setAttributes:function(t,i){for(var n in i)t.setAttribute(n,e(i[n]));return t},labelAttr:function(e,t){return this.setAttributes(e,{"aria-label":t})},label:function(e){return scheduler._waiAria.getAttributeString({"aria-label":e})},hourScaleAttr:function(e,t){this.labelAttr(e,t)},monthCellAttr:function(e,t){this.labelAttr(e,scheduler.templates.day_date(t))},navBarDateAttr:function(e,t){this.labelAttr(e,t)},dayHeaderAttr:function(e,t){this.labelAttr(e,t)},dayColumnAttr:function(e,t){this.dayHeaderAttr(e,scheduler.templates.day_date(t))},headerButtonsAttributes:function(e,t){return this.setAttributes(e,{role:"button","aria-label":t})},headerToggleState:function(e,t){return this.setAttributes(e,{"aria-pressed":t?"true":"false"})},getHeaderCellAttr:function(e){return scheduler._waiAria.getAttributeString({"aria-label":e})},eventAttr:function(e,t){!scheduler.config.readonly&&scheduler.config.drag_move&&(e.id!=scheduler.getState().drag_id?t.setAttribute("aria-grabbed",!1):t.setAttribute("aria-grabbed",!0)),this._eventCommonAttr(e,t)},_eventCommonAttr:function(t,i){i.setAttribute("aria-label",e(scheduler.templates.tooltip_text(t.start_date,t.end_date,t))),scheduler.config.readonly&&i.setAttribute("aria-readonly",!0),t.$dataprocessor_class&&i.setAttribute("aria-busy",!0),i.setAttribute("aria-selected",scheduler.getState().select_id==t.id?"true":"false")},setEventBarAttr:function(e,t){this._eventCommonAttr(e,t),!scheduler.config.readonly&&scheduler.config.drag_move&&(e.id!=scheduler.getState().drag_id?t.setAttribute("aria-grabbed",!1):t.setAttribute("aria-grabbed",!0))},_getAttributes:function(e,t){var i={setAttribute:function(e,t){this[e]=t}};return e.apply(this,[t,i]),i},eventBarAttrString:function(e){return this.getAttributeString(this._getAttributes(this.setEventBarAttr,e))},agendaHeadAttrString:function(){return this.getAttributeString({role:"row"})},agendaHeadDateString:function(e){return this.getAttributeString({role:"columnheader","aria-label":e})},agendaHeadDescriptionString:function(e){return this.agendaHeadDateString(e)},agendaDataAttrString:function(){return this.getAttributeString({role:"grid"})},agendaEventAttrString:function(e){var t=this._getAttributes(this._eventCommonAttr,e);return t.role="row",this.getAttributeString(t)},agendaDetailsBtnString:function(){return this.getAttributeString({role:"button","aria-label":scheduler.locale.labels.icon_details})},gridAttrString:function(){return this.getAttributeString({role:"grid"})},gridRowAttrString:function(e){return this.agendaEventAttrString(e)},gridCellAttrString:function(e,t,i){return this.getAttributeString({role:"gridcell","aria-label":[void 0===t.label?t.id:t.label,": ",i]})},mapAttrString:function(){return this.gridAttrString()},mapRowAttrString:function(e){return this.gridRowAttrString(e)},mapDetailsBtnString:function(){return this.agendaDetailsBtnString()},minicalHeader:function(e,t){this.setAttributes(e,{id:t+"","aria-live":"assertice","aria-atomic":"true"})},minicalGrid:function(e,t){this.setAttributes(e,{"aria-labelledby":t+"",role:"grid"})},minicalRow:function(e){this.setAttributes(e,{role:"row"})},minicalDayCell:function(e,t){var i=t.valueOf()<scheduler._max_date.valueOf()&&t.valueOf()>=scheduler._min_date.valueOf();this.setAttributes(e,{role:"gridcell","aria-label":scheduler.templates.day_date(t),"aria-selected":i?"true":"false"})},minicalHeadCell:function(e){this.setAttributes(e,{role:"columnheader"})},weekAgendaDayCell:function(e){var t=e.querySelector(".dhx_wa_scale_bar"),i=e.querySelector(".dhx_wa_day_data"),n=scheduler.uid()+"";this.setAttributes(t,{id:n}),this.setAttributes(i,{"aria-labelledby":n})},weekAgendaEvent:function(e,t){this.eventAttr(t,e)},lightboxHiddenAttr:function(e){e.setAttribute("aria-hidden","true")},lightboxVisibleAttr:function(e){e.setAttribute("aria-hidden","false")},lightboxSectionButtonAttrString:function(e){return this.getAttributeString({role:"button","aria-label":e,tabindex:"0"})},yearHeader:function(e,t){this.setAttributes(e,{id:t+""})},yearGrid:function(e,t){this.minicalGrid(e,t)},yearHeadCell:function(e){return this.minicalHeadCell(e)},yearRow:function(e){return this.minicalRow(e)},yearDayCell:function(e){this.setAttributes(e,{role:"gridcell"})},lightboxAttr:function(e){e.setAttribute("role","dialog"),e.setAttribute("aria-hidden","true"),e.firstChild.setAttribute("role","heading")},lightboxButtonAttrString:function(e){return this.getAttributeString({role:"button","aria-label":scheduler.locale.labels[e],tabindex:"0"})},eventMenuAttrString:function(e){return this.getAttributeString({role:"button","aria-label":scheduler.locale.labels[e]})},lightboxHeader:function(e,t){e.setAttribute("aria-label",t)},lightboxSelectAttrString:function(e){var t="";switch(e){case"%Y":t=scheduler.locale.labels.year;break;case"%m":t=scheduler.locale.labels.month;break;case"%d":t=scheduler.locale.labels.day;break;case"%H:%i":t=scheduler.locale.labels.hour+" "+scheduler.locale.labels.minute}return scheduler._waiAria.getAttributeString({"aria-label":t})},messageButtonAttrString:function(e){return"tabindex='0' role='button' aria-label='"+e+"'"},messageInfoAttr:function(e){e.setAttribute("role","alert")},messageModalAttr:function(e,t){e.setAttribute("role","dialog"),t&&e.setAttribute("aria-labelledby",t)},quickInfoAttr:function(e){e.setAttribute("role","dialog")},quickInfoHeaderAttrString:function(){return" role='heading' "},quickInfoHeader:function(e,t){e.setAttribute("aria-label",t)},quickInfoButtonAttrString:function(e){return scheduler._waiAria.getAttributeString({role:"button","aria-label":e,tabindex:"0"})},tooltipAttr:function(e){e.setAttribute("role","tooltip")},tooltipVisibleAttr:function(e){e.setAttribute("aria-hidden","false")},tooltipHiddenAttr:function(e){e.setAttribute("aria-hidden","true")}};for(var o in scheduler._waiAria)scheduler._waiAria[o]=function(e){return function(){return i()?"":e.apply(this,arguments)}}(scheduler._waiAria[o])}(),dhtmlxEventable(scheduler),scheduler._detachDomEvent=function(e,t,i){e.removeEventListener?e.removeEventListener(t,i,!1):e.detachEvent&&e.detachEvent("on"+t,i)},scheduler._init_once=function(){function e(e){for(var t=document.body;e&&e!=t;)e=e.parentNode;return!(t!=e)}function t(){return{w:window.innerWidth||document.documentElement.clientWidth,h:window.innerHeight||document.documentElement.clientHeight}}function i(e,t){return e.w==t.w&&e.h==t.h}var n=t();dhtmlxEvent(window,"resize",function(){e(scheduler._obj)&&(window.clearTimeout(scheduler._resize_timer),scheduler._resize_timer=window.setTimeout(function(){var s=t();if(!i(n,s)){if(!e(scheduler._obj))return;scheduler.callEvent("onSchedulerResize",[])&&(scheduler.update_view(),scheduler.callEvent("onAfterSchedulerResize",[]))}n=s},20))}),scheduler._init_once=function(){}},scheduler.init=function(e,t,i){t=t||scheduler._currentDate(),i=i||"week",this._obj&&this.unset_actions(),this._obj="string"==typeof e?document.getElementById(e):e,this.$container=this._obj,this._skin_init&&scheduler._skin_init(),scheduler.date.init(),this._els=[],this._scroll=!0,this._quirks=_isIE&&"BackCompat"==document.compatMode,this._quirks7=_isIE&&-1==navigator.appVersion.indexOf("MSIE 8"),this.get_elements(),this.init_templates(),this.set_actions(),this._init_once(),this._init_touch_events(),this.set_sizes(),scheduler.callEvent("onSchedulerReady",[]),this.setCurrentView(t,i)},scheduler.xy={min_event_height:40,scale_width:50,scroll_width:18,scale_height:20,month_scale_height:20,menu_width:25,margin_top:0,margin_left:0,editor_width:140,month_head_height:22},scheduler.keys={edit_save:13,edit_cancel:27},scheduler.set_sizes=function(){var e=this._x=this._obj.clientWidth-this.xy.margin_left,t=this._y=this._obj.clientHeight-this.xy.margin_top,i=this._table_view?0:this.xy.scale_width+this.xy.scroll_width,n=this._table_view?-1:this.xy.scale_width;this.set_xy(this._els.dhx_cal_navline[0],e,this.xy.nav_height,0,0),this.set_xy(this._els.dhx_cal_header[0],e-i,this.xy.scale_height,n,this.xy.nav_height+(this._quirks?-1:1));var s=this._els.dhx_cal_navline[0].offsetHeight;s>0&&(this.xy.nav_height=s);var r=this.xy.scale_height+this.xy.nav_height+(this._quirks?-2:0);this.set_xy(this._els.dhx_cal_data[0],e,t-(r+2),0,r+2)},scheduler.set_xy=function(e,t,i,n,s){e.style.width=Math.max(0,t)+"px",e.style.height=Math.max(0,i)+"px",arguments.length>3&&(e.style.left=n+"px",e.style.top=s+"px")},scheduler.get_elements=function(){for(var e=this._obj.getElementsByTagName("DIV"),t=0;t<e.length;t++){var i=scheduler._getClassName(e[t]),n=e[t].getAttribute("name")||"";i&&(i=i.split(" ")[0]),this._els[i]||(this._els[i]=[]),this._els[i].push(e[t]);var s=scheduler.locale.labels[n||i];"string"!=typeof s&&n&&!e[t].innerHTML&&(s=n.split("_")[0]),s&&(this._waiAria.labelAttr(e[t],s),e[t].innerHTML=s)}},scheduler.unset_actions=function(){for(var e in this._els)if(this._click[e])for(var t=0;t<this._els[e].length;t++)this._els[e][t].onclick=null;this._obj.onselectstart=null,this._obj.onmousemove=null,this._obj.onmousedown=null,this._obj.onmouseup=null,this._obj.ondblclick=null,this._obj.oncontextmenu=null},scheduler.set_actions=function(){for(var e in this._els)if(this._click[e])for(var t=0;t<this._els[e].length;t++)this._els[e][t].onclick=scheduler._click[e];this._obj.onselectstart=function(){return!1},this._obj.onmousemove=function(e){scheduler._temp_touch_block||scheduler._on_mouse_move(e||event)},this._obj.onmousedown=function(e){scheduler._ignore_next_click||scheduler._on_mouse_down(e||event)},this._obj.onmouseup=function(e){scheduler._ignore_next_click||scheduler._on_mouse_up(e||event)},this._obj.ondblclick=function(e){scheduler._on_dbl_click(e||event)},this._obj.oncontextmenu=function(e){var t=e||event,i=t.target||t.srcElement;return scheduler.callEvent("onContextMenu",[scheduler._locate_event(i),t])}},scheduler.select=function(e){this._select_id!=e&&(scheduler._close_not_saved(),this.editStop(!1),this.unselect(),this._select_id=e,this.updateEvent(e))},scheduler.unselect=function(e){if(!e||e==this._select_id){var t=this._select_id;this._select_id=null,t&&this.getEvent(t)&&this.updateEvent(t)}},scheduler.getState=function(){return{mode:this._mode,date:new Date(this._date),min_date:new Date(this._min_date),max_date:new Date(this._max_date),editor_id:this._edit_id,lightbox_id:this._lightbox_id,new_event:this._new_event,select_id:this._select_id,expanded:this.expanded,drag_id:this._drag_id,drag_mode:this._drag_mode}},scheduler._click={dhx_cal_data:function(e){if(scheduler._ignore_next_click)return e.preventDefault&&e.preventDefault(),e.cancelBubble=!0,scheduler._ignore_next_click=!1,!1;var t=e?e.target:event.srcElement,i=scheduler._locate_event(t);if(e=e||event,i){if(!scheduler.callEvent("onClick",[i,e])||scheduler.config.readonly)return}else scheduler.callEvent("onEmptyClick",[scheduler.getActionData(e).date,e]);if(i&&scheduler.config.select){scheduler.select(i);var n=scheduler._getClassName(t);-1!=n.indexOf("_icon")&&scheduler._click.buttons[n.split(" ")[1].replace("icon_","")](i)}else scheduler._close_not_saved(),(new Date).valueOf()-(scheduler._new_event||0)>500&&scheduler.unselect()},dhx_cal_prev_button:function(){scheduler._click.dhx_cal_next_button(0,-1)},dhx_cal_next_button:function(e,t){scheduler.setCurrentView(scheduler.date.add(scheduler.date[scheduler._mode+"_start"](scheduler._date),t||1,scheduler._mode))},dhx_cal_today_button:function(){scheduler.callEvent("onBeforeTodayDisplayed",[])&&scheduler.setCurrentView(scheduler._currentDate())},dhx_cal_tab:function(){var e=this.getAttribute("name"),t=e.substring(0,e.search("_tab"));scheduler.setCurrentView(scheduler._date,t)},buttons:{"delete":function(e){var t=scheduler.locale.labels.confirm_deleting;scheduler._dhtmlx_confirm(t,scheduler.locale.labels.title_confirm_deleting,function(){scheduler.deleteEvent(e)})},edit:function(e){scheduler.edit(e)},save:function(){scheduler.editStop(!0)},details:function(e){scheduler.showLightbox(e)},cancel:function(){scheduler.editStop(!1)}}},scheduler._dhtmlx_confirm=function(e,t,i){if(!e)return i();var n={text:e};t&&(n.title=t),i&&(n.callback=function(e){e&&i()}),dhtmlx.confirm(n)},scheduler.addEventNow=function(e,t,i){var n={};e&&null!==e.constructor.toString().match(/object/i)&&(n=e,e=null);var s=6e4*(this.config.event_duration||this.config.time_step);e||(e=n.start_date||Math.round(scheduler._currentDate().valueOf()/s)*s);var r=new Date(e);if(!t){var o=this.config.first_hour;o>r.getHours()&&(r.setHours(o),e=r.valueOf()),t=e.valueOf()+s}var a=new Date(t);r.valueOf()==a.valueOf()&&a.setTime(a.valueOf()+s),n.start_date=n.start_date||r,n.end_date=n.end_date||a,n.text=n.text||this.locale.labels.new_event,n.id=this._drag_id=n.id||this.uid(),this._drag_mode="new-size",this._loading=!0;var l=this.addEvent(n);return this.callEvent("onEventCreated",[this._drag_id,i]),this._loading=!1,this._drag_event={},this._on_mouse_up(i),l},scheduler._on_dbl_click=function(e,t){if(t=t||e.target||e.srcElement,!this.config.readonly){var i=scheduler._getClassName(t).split(" ")[0];switch(i){case"dhx_scale_holder":case"dhx_scale_holder_now":case"dhx_month_body":case"dhx_wa_day_data":if(!scheduler.config.dblclick_create)break;this.addEventNow(this.getActionData(e).date,null,e);break;case"dhx_cal_event":case"dhx_wa_ev_body":case"dhx_agenda_line":case"dhx_grid_event":case"dhx_cal_event_line":case"dhx_cal_event_clear":var n=this._locate_event(t);if(!this.callEvent("onDblClick",[n,e]))return;this.config.details_on_dblclick||this._table_view||!this.getEvent(n)._timed||!this.config.select?this.showLightbox(n):this.edit(n);break;case"dhx_time_block":case"dhx_cal_container":return;default:var s=this["dblclick_"+i];if(s)s.call(this,e);else if(t.parentNode&&t!=this)return scheduler._on_dbl_click(e,t.parentNode)}}},scheduler._get_column_index=function(e){var t=0;if(this._cols){for(var i=0,n=0;i+this._cols[n]<e&&n<this._cols.length;)i+=this._cols[n],n++;if(t=n+(this._cols[t]?(e-i)/this._cols[t]:0),this._ignores&&t>=this._cols.length)for(;t>=1&&this._ignores[Math.floor(t)];)t--}return t},scheduler._week_indexes_from_pos=function(e){if(this._cols){var t=this._get_column_index(e.x);return e.x=Math.min(this._cols.length-1,Math.max(0,Math.ceil(t)-1)),e.y=Math.max(0,Math.ceil(60*e.y/(this.config.time_step*this.config.hour_size_px))-1)+this.config.first_hour*(60/this.config.time_step),e}return e},scheduler._mouse_coords=function(e){var t,i=document.body,n=document.documentElement;(t=_isIE||!e.pageX&&!e.pageY?{x:e.clientX+(i.scrollLeft||n.scrollLeft||0)-i.clientLeft,y:e.clientY+(i.scrollTop||n.scrollTop||0)-i.clientTop}:{x:e.pageX,y:e.pageY}).x-=getAbsoluteLeft(this._obj)+(this._table_view?0:this.xy.scale_width),t.y-=getAbsoluteTop(this._obj)+this.xy.nav_height+(this._dy_shift||0)+this.xy.scale_height-this._els.dhx_cal_data[0].scrollTop,t.ev=e;var s=this["mouse_"+this._mode];if(s)t=s.call(this,t);else if(this._table_view){var r=this._get_column_index(t.x);if(!this._cols||!this._colsS)return t;var o=0;for(o=1;o<this._colsS.heights.length&&!(this._colsS.heights[o]>t.y);o++);t.y=Math.ceil(24*(Math.max(0,r)+7*Math.max(0,o-1))*60/this.config.time_step),(scheduler._drag_mode||"month"==this._mode)&&(t.y=24*(Math.max(0,Math.ceil(r)-1)+7*Math.max(0,o-1))*60/this.config.time_step),"move"==this._drag_mode&&scheduler._ignores_detected&&scheduler.config.preserve_length&&(t._ignores=!0,this._drag_event._event_length||(this._drag_event._event_length=this._get_real_event_length(this._drag_event.start_date,this._drag_event.end_date,{x_step:1,x_unit:"day"}))),t.x=0}else t=this._week_indexes_from_pos(t);return t.timestamp=+new Date,t},scheduler._close_not_saved=function(){if((new Date).valueOf()-(scheduler._new_event||0)>500&&scheduler._edit_id){var e=scheduler.locale.labels.confirm_closing;scheduler._dhtmlx_confirm(e,scheduler.locale.labels.title_confirm_closing,function(){scheduler.editStop(scheduler.config.positive_closing)}),e&&(this._drag_id=this._drag_pos=this._drag_mode=null)}},scheduler._correct_shift=function(e,t){return e-6e4*(new Date(scheduler._min_date).getTimezoneOffset()-new Date(e).getTimezoneOffset())*(t?-1:1)},scheduler._is_pos_changed=function(e,t){function i(e,t,i){return!!(Math.abs(e-t)>i)}if(!e||!this._drag_pos)return!0;var n=100,s=5;return!!(this._drag_pos.has_moved||!this._drag_pos.timestamp||t.timestamp-this._drag_pos.timestamp>n||i(e.ev.clientX,t.ev.clientX,s)||i(e.ev.clientY,t.ev.clientY,s))},scheduler._correct_drag_start_date=function(e){var t;scheduler.matrix&&(t=scheduler.matrix[scheduler._mode]),t=t||{x_step:1,x_unit:"day"},e=new Date(e);var i=1;return(t._start_correction||t._end_correction)&&(i=60*(t.last_hour||0)-(60*e.getHours()+e.getMinutes())||1),1*e+(scheduler._get_fictional_event_length(e,i,t)-i)},scheduler._correct_drag_end_date=function(e,t){var i;scheduler.matrix&&(i=scheduler.matrix[scheduler._mode]),i=i||{x_step:1,x_unit:"day"};var n=1*e+scheduler._get_fictional_event_length(e,t,i);return new Date(1*n-(scheduler._get_fictional_event_length(n,-1,i,-1)+1))},scheduler._on_mouse_move=function(e){if(this._drag_mode){var t=this._mouse_coords(e);if(this._is_pos_changed(this._drag_pos,t)){var i,n;if(this._edit_id!=this._drag_id&&this._close_not_saved(),!this._drag_mode)return;if(this._drag_pos=t,this._drag_pos.has_moved=!0,"create"==this._drag_mode){if(this._close_not_saved(),this.unselect(this._select_id),this._loading=!0,i=this._get_date_from_pos(t).valueOf(),!this._drag_start)return this.callEvent("onBeforeEventCreated",[e,this._drag_id])?(this._loading=!1,void(this._drag_start=i)):void(this._loading=!1);n=i,this._drag_start;var s=new Date(this._drag_start),r=new Date(n);"day"!=this._mode&&"week"!=this._mode||s.getHours()!=r.getHours()||s.getMinutes()!=r.getMinutes()||(r=new Date(this._drag_start+1e3)),this._drag_id=this.uid(),this.addEvent(s,r,this.locale.labels.new_event,this._drag_id,t.fields),this.callEvent("onEventCreated",[this._drag_id,e]),this._loading=!1,this._drag_mode="new-size"}var o,a=this.getEvent(this._drag_id);if(scheduler.matrix&&(o=scheduler.matrix[scheduler._mode]),o=o||{x_step:1,x_unit:"day"},"move"==this._drag_mode)i=this._min_date.valueOf()+6e4*(t.y*this.config.time_step+24*t.x*60-(scheduler._move_pos_shift||0)),!t.custom&&this._table_view&&(i+=1e3*this.date.time_part(a.start_date)),i=this._correct_shift(i),t._ignores&&this.config.preserve_length&&this._table_view?(i=scheduler._correct_drag_start_date(i),n=scheduler._correct_drag_end_date(i,this._drag_event._event_length)):n=a.end_date.valueOf()-(a.start_date.valueOf()-i);else{if(i=a.start_date.valueOf(),n=a.end_date.valueOf(),this._table_view){var l=this._min_date.valueOf()+t.y*this.config.time_step*6e4+(t.custom?0:864e5);if("month"==this._mode)if(l=this._correct_shift(l,!1),this._drag_from_start){var h=864e5;l<=scheduler.date.date_part(new Date(n+h-1)).valueOf()&&(i=l-h)}else n=l;else t.resize_from_start?i=scheduler._correct_drag_start_date(l):n=scheduler._correct_drag_end_date(l,0)}else{var d=this.date.date_part(new Date(a.end_date.valueOf()-1)).valueOf(),c=new Date(d);n=d+t.y*this.config.time_step*6e4,n+=6e4*(new Date(n).getTimezoneOffset()-c.getTimezoneOffset()),this._els.dhx_cal_data[0].style.cursor="s-resize",("week"==this._mode||"day"==this._mode)&&(n=this._correct_shift(n))}if("new-size"==this._drag_mode)if(n<=this._drag_start){var u=t.shift||(this._table_view&&!t.custom?864e5:0);i=n-(t.shift?0:u),n=this._drag_start+(u||6e4*this.config.time_step)}else i=this._drag_start;else i>=n&&(n=i+6e4*this.config.time_step)}var f=new Date(n-1),p=new Date(i);if("move"==this._drag_mode&&scheduler.config.limit_drag_out&&(+p<+scheduler._min_date||+n>+scheduler._max_date)){if(+a.start_date<+scheduler._min_date||+a.end_date>+scheduler._max_date)p=new Date(a.start_date),n=new Date(a.end_date);else{var _=n-p;+p<+scheduler._min_date?(p=new Date(scheduler._min_date),t._ignores&&this.config.preserve_length&&this._table_view?(p=new Date(scheduler._correct_drag_start_date(p)),o._start_correction&&(p=new Date(p.valueOf()+o._start_correction)),n=new Date(1*p+this._get_fictional_event_length(p,this._drag_event._event_length,o))):n=new Date(+p+_)):(n=new Date(scheduler._max_date),t._ignores&&this.config.preserve_length&&this._table_view?(o._end_correction&&(n=new Date(n.valueOf()-o._end_correction)),n=new Date(1*n-this._get_fictional_event_length(n,0,o,!0)),p=new Date(1*n-this._get_fictional_event_length(n,this._drag_event._event_length,o,!0)),this._ignores_detected&&(p=scheduler.date.add(p,o.x_step,o.x_unit),n=new Date(1*n-this._get_fictional_event_length(n,0,o,!0)),n=scheduler.date.add(n,o.x_step,o.x_unit))):p=new Date(+n-_))}f=new Date(n-1)}if(!this._table_view&&!scheduler.config.all_timed&&(!scheduler._get_section_view()&&t.x!=this._get_event_sday({start_date:new Date(n),end_date:new Date(n)})||new Date(n).getHours()>=this.config.last_hour)){_=n-p,h=this._min_date.valueOf()+24*t.x*60*6e4;(n=scheduler.date.date_part(new Date(h))).setHours(this.config.last_hour),f=new Date(n-1),"move"==this._drag_mode&&(p=new Date(+n-_))}if(this._table_view||f.getDate()==p.getDate()&&f.getHours()<this.config.last_hour||scheduler._allow_dnd)if(a.start_date=p,a.end_date=new Date(n),this.config.update_render){var g=scheduler._els.dhx_cal_data[0].scrollTop;this.update_view(),scheduler._els.dhx_cal_data[0].scrollTop=g}else this.updateEvent(this._drag_id);this._table_view&&this.for_rendered(this._drag_id,function(e){e.className+=" dhx_in_move"}),this.callEvent("onEventDrag",[this._drag_id,this._drag_mode,e])}}else if(scheduler.checkEvent("onMouseMove")){var m=this._locate_event(e.target||e.srcElement);this.callEvent("onMouseMove",[m,e])}},scheduler._on_mouse_down=function(e,t){if(2!=e.button&&!this.config.readonly&&!this._drag_mode){t=t||e.target||e.srcElement;var i=scheduler._getClassName(t).split(" ")[0];switch(i){case"dhx_cal_event_line":case"dhx_cal_event_clear":this._table_view&&(this._drag_mode="move");break;case"dhx_event_move":case"dhx_wa_ev_body":this._drag_mode="move";break;case"dhx_event_resize":this._drag_mode="resize",scheduler._getClassName(t).indexOf("dhx_event_resize_end")<0?scheduler._drag_from_start=!0:scheduler._drag_from_start=!1;break;case"dhx_scale_holder":case"dhx_scale_holder_now":case"dhx_month_body":case"dhx_matrix_cell":case"dhx_marked_timespan":this._drag_mode="create";break;case"":if(t.parentNode)return scheduler._on_mouse_down(e,t.parentNode);break;default:if((!scheduler.checkEvent("onMouseDown")||scheduler.callEvent("onMouseDown",[i]))&&t.parentNode&&t!=this&&"dhx_body"!=i)return scheduler._on_mouse_down(e,t.parentNode);this._drag_mode=null,this._drag_id=null}if(this._drag_mode){var n=this._locate_event(t);if(this.config["drag_"+this._drag_mode]&&this.callEvent("onBeforeDrag",[n,this._drag_mode,e])){if(this._drag_id=n,(this._edit_id!=this._drag_id||this._edit_id&&"create"==this._drag_mode)&&this._close_not_saved(),!this._drag_mode)return;this._drag_event=scheduler._lame_clone(this.getEvent(this._drag_id)||{}),this._drag_pos=this._mouse_coords(e)}else this._drag_mode=this._drag_id=0}this._drag_start=null}},scheduler._get_private_properties=function(e){var t={};for(var i in e)0===i.indexOf("_")&&(t[i]=!0);return t},scheduler._clear_temporary_properties=function(e,t){var i=this._get_private_properties(e),n=this._get_private_properties(t);for(var s in n)i[s]||delete t[s]},scheduler._on_mouse_up=function(e){if(!e||2!=e.button||!scheduler.config.touch){if(this._drag_mode&&this._drag_id){this._els.dhx_cal_data[0].style.cursor="default";var t=this._drag_id,i=this._drag_mode,n=!this._drag_pos||this._drag_pos.has_moved,s=this.getEvent(this._drag_id);if(n&&(this._drag_event._dhx_changed||!this._drag_event.start_date||s.start_date.valueOf()!=this._drag_event.start_date.valueOf()||s.end_date.valueOf()!=this._drag_event.end_date.valueOf())){var r="new-size"==this._drag_mode;if(this.callEvent("onBeforeEventChanged",[s,e,r,this._drag_event]))if(this._drag_id=this._drag_mode=null,r&&this.config.edit_on_create){if(this.unselect(),this._new_event=new Date,
this._table_view||this.config.details_on_create||!this.config.select||!this.isOneDayEvent(this.getEvent(t)))return scheduler.callEvent("onDragEnd",[t,i,e]),this.showLightbox(t);this._drag_pos=!0,this._select_id=this._edit_id=t}else this._new_event||this.callEvent(r?"onEventAdded":"onEventChanged",[t,this.getEvent(t)]);else r?this.deleteEvent(s.id,!0):(this._drag_event._dhx_changed=!1,this._clear_temporary_properties(s,this._drag_event),scheduler._lame_copy(s,this._drag_event),this.updateEvent(s.id))}this._drag_pos&&(this._drag_pos.has_moved||!0===this._drag_pos)&&(this._drag_id=this._drag_mode=null,this.render_view_data()),scheduler.callEvent("onDragEnd",[t,i,e])}this._drag_id=null,this._drag_mode=null,this._drag_pos=null}},scheduler._trigger_dyn_loading=function(){return!(!this._load_mode||!this._load())&&(this._render_wait=!0,!0)},scheduler.update_view=function(){this._reset_ignores();var e=this[this._mode+"_view"];return e?e(!0):this._reset_scale(),!!this._trigger_dyn_loading()||void this.render_view_data()},scheduler.isViewExists=function(e){return!!(scheduler[e+"_view"]||scheduler.date[e+"_start"]&&scheduler.templates[e+"_date"]&&scheduler.templates[e+"_scale_date"])},scheduler._set_aria_buttons_attrs=function(){for(var e=["dhx_cal_next_button","dhx_cal_prev_button","dhx_cal_tab","dhx_cal_today_button"],t=0;t<e.length;t++)for(var i=this._els[e[t]],n=0;i&&n<i.length;n++){var s=i[n].getAttribute("name"),r=this.locale.labels[e[t]];s&&(r=this.locale.labels[s]||r),"dhx_cal_next_button"==e[t]?r=this.locale.labels.next:"dhx_cal_prev_button"==e[t]&&(r=this.locale.labels.prev),this._waiAria.headerButtonsAttributes(i[n],r||"")}},scheduler.updateView=function(e,t){e=e||this._date,t=t||this._mode;var i="dhx_cal_data",n=this._obj,s="dhx_scheduler_"+this._mode,r="dhx_scheduler_"+t;this._mode&&-1!=n.className.indexOf(s)?n.className=n.className.replace(s,r):n.className+=" "+r;var o=!(this._mode!=t||!this.config.preserve_scroll)&&this._els[i][0].scrollTop;this[this._mode+"_view"]&&t&&this._mode!=t&&this[this._mode+"_view"](!1),this._close_not_saved();var a="dhx_multi_day";this._els[a]&&(this._els[a][0].parentNode.removeChild(this._els[a][0]),this._els[a]=null),this._mode=t,this._date=e,this._table_view="month"==this._mode,this._dy_shift=0,this._set_aria_buttons_attrs();var l=this._els.dhx_cal_tab;if(l)for(var h=0;h<l.length;h++){var d=l[h],c=d.className;c=c.replace(/ active/g,""),d.getAttribute("name")==this._mode+"_tab"?(c+=" active",this._waiAria.headerToggleState(d,!0)):this._waiAria.headerToggleState(d,!1),d.className=c}this.update_view(),"number"==typeof o&&(this._els[i][0].scrollTop=o)},scheduler.setCurrentView=function(e,t){this.callEvent("onBeforeViewChange",[this._mode,this._date,t||this._mode,e||this._date])&&(this.updateView(e,t),this.callEvent("onViewChange",[this._mode,this._date]))},scheduler._render_x_header=function(e,t,i,n,s){s=s||0;var r=document.createElement("DIV");r.className="dhx_scale_bar",this.templates[this._mode+"_scalex_class"]&&(r.className+=" "+this.templates[this._mode+"_scalex_class"](i));var o=this._cols[e]-1;"month"==this._mode&&0===e&&this.config.left_border&&(r.className+=" dhx_scale_bar_border",t+=1),this.set_xy(r,o,this.xy.scale_height-2,t,s);var a=this.templates[this._mode+"_scale_date"](i,this._mode);r.innerHTML=a,this._waiAria.dayHeaderAttr(r,a),n.appendChild(r)},scheduler._get_columns_num=function(e,t){var i=7;if(!scheduler._table_view){var n=scheduler.date["get_"+scheduler._mode+"_end"];n&&(t=n(e)),i=Math.round((t.valueOf()-e.valueOf())/864e5)}return i},scheduler._get_timeunit_start=function(){return this.date[this._mode+"_start"](new Date(this._date.valueOf()))},scheduler._get_view_end=function(){var e=this._get_timeunit_start(),t=scheduler.date.add(e,1,this._mode);if(!scheduler._table_view){var i=scheduler.date["get_"+scheduler._mode+"_end"];i&&(t=i(e))}return t},scheduler._calc_scale_sizes=function(e,t,i){var n=e,s=this._get_columns_num(t,i);this._process_ignores(t,s,"day",1);for(var r=s-this._ignores_detected,o=0;s>o;o++)this._ignores[o]?(this._cols[o]=0,r++):this._cols[o]=Math.floor(n/(r-o)),n-=this._cols[o],this._colsS[o]=(this._cols[o-1]||0)+(this._colsS[o-1]||(this._table_view?0:this.xy.scale_width+2));this._colsS.col_length=s,this._colsS[s]=this._cols[s-1]+this._colsS[s-1]||0},scheduler._set_scale_col_size=function(e,t,i){var n=this.config;this.set_xy(e,t-1,n.hour_size_px*(n.last_hour-n.first_hour),i+this.xy.scale_width+1,0)},scheduler._render_scales=function(e,t){var i=new Date(scheduler._min_date),n=new Date(scheduler._max_date),s=this.date.date_part(scheduler._currentDate()),r=parseInt(e.style.width,10),o=new Date(this._min_date),a=this._get_columns_num(i,n);this._calc_scale_sizes(r,i,n);var l=0;e.innerHTML="";for(var h=0;a>h;h++){if(this._ignores[h]||this._render_x_header(h,l,o,e),!this._table_view){var d=document.createElement("DIV"),c="dhx_scale_holder";o.valueOf()==s.valueOf()&&(c="dhx_scale_holder_now"),this._ignores_detected&&this._ignores[h]&&(c+=" dhx_scale_ignore"),d.className=c+" "+this.templates.week_date_class(o,s),this._waiAria.dayColumnAttr(d,o),this._set_scale_col_size(d,this._cols[h],l),t.appendChild(d),this.callEvent("onScaleAdd",[d,o])}l+=this._cols[h],o=this.date.add(o,1,"day"),o=this.date.day_start(o)}},scheduler._reset_scale=function(){if(this.templates[this._mode+"_date"]){var e=this._els.dhx_cal_header[0],t=this._els.dhx_cal_data[0],i=this.config;e.innerHTML="",t.innerHTML="";var n=(i.readonly||!i.drag_resize?" dhx_resize_denied":"")+(i.readonly||!i.drag_move?" dhx_move_denied":"");t.className="dhx_cal_data"+n,this._scales={},this._cols=[],this._colsS={height:0},this._dy_shift=0,this.set_sizes();var s,r,o=this._get_timeunit_start(),a=scheduler._get_view_end();s=r=this._table_view?scheduler.date.week_start(o):o,this._min_date=s;var l=this.templates[this._mode+"_date"](o,a,this._mode);if(this._els.dhx_cal_date[0].innerHTML=l,this._waiAria.navBarDateAttr(this._els.dhx_cal_date[0],l),this._max_date=a,scheduler._render_scales(e,t),this._table_view)this._reset_month_scale(t,o,r);else if(this._reset_hours_scale(t,o,r),i.multi_day){var h="dhx_multi_day";this._els[h]&&(this._els[h][0].parentNode.removeChild(this._els[h][0]),this._els[h]=null);var d=this._els.dhx_cal_navline[0].offsetHeight+this._els.dhx_cal_header[0].offsetHeight+1,c=document.createElement("DIV");c.className=h,c.style.visibility="hidden",this.set_xy(c,Math.max(this._colsS[this._colsS.col_length]+this.xy.scroll_width-2,0),0,0,d),t.parentNode.insertBefore(c,t);var u=c.cloneNode(!0);u.className=h+"_icon",u.style.visibility="hidden",this.set_xy(u,this.xy.scale_width,0,0,d),c.appendChild(u),this._els[h]=[c,u],this._els[h][0].onclick=this._click.dhx_cal_data}}},scheduler._reset_hours_scale=function(e){var t=document.createElement("DIV");t.className="dhx_scale_holder";for(var i=new Date(1980,1,1,this.config.first_hour,0,0),n=1*this.config.first_hour;n<this.config.last_hour;n++){var s=document.createElement("DIV");s.className="dhx_scale_hour",s.style.height=this.config.hour_size_px+"px";var r=this.xy.scale_width;this.config.left_border&&(s.className+=" dhx_scale_hour_border"),s.style.width=r+"px";var o=scheduler.templates.hour_scale(i);s.innerHTML=o,this._waiAria.hourScaleAttr(s,o),t.appendChild(s),i=this.date.add(i,1,"hour")}e.appendChild(t),this.config.scroll_hour&&(e.scrollTop=this.config.hour_size_px*(this.config.scroll_hour-this.config.first_hour))},scheduler._currentDate=function(){return scheduler.config.now_date?new Date(scheduler.config.now_date):new Date},scheduler._reset_ignores=function(){this._ignores={},this._ignores_detected=0},scheduler._process_ignores=function(e,t,i,n,s){this._reset_ignores();var r=scheduler["ignore_"+this._mode];if(r)for(var o=new Date(e),a=0;t>a;a++)r(o)&&(this._ignores_detected+=1,this._ignores[a]=!0,s&&t++),o=scheduler.date.add(o,n,i),scheduler.date[i+"_start"]&&(o=scheduler.date[i+"_start"](o))},scheduler._render_month_scale=function(e,t,i,n){function s(e){var t=scheduler._colsS.height;return void 0!==scheduler._colsS.heights[e+1]&&(t=scheduler._colsS.heights[e+1]-(scheduler._colsS.heights[e]||0)),t}var r=scheduler.date.add(t,1,"month"),o=new Date(i),a=scheduler._currentDate();this.date.date_part(a),this.date.date_part(i),n=n||Math.ceil(Math.round((r.valueOf()-i.valueOf())/864e5)/7);for(var l=[],h=0;7>=h;h++){var d=(this._cols[h]||0)-1;0===h&&this.config.left_border&&(d-=1),l[h]=d+"px"}var c=0,u=document.createElement("table");u.setAttribute("cellpadding","0"),u.setAttribute("cellspacing","0");var f=document.createElement("tbody");u.appendChild(f);var p=[];for(h=0;n>h;h++){var _=document.createElement("tr");f.appendChild(_);for(var g=Math.max(s(h)-scheduler.xy.month_head_height,0),m=0;7>m;m++){var v=document.createElement("td");_.appendChild(v);var y="";t>i?y="dhx_before":i>=r?y="dhx_after":i.valueOf()==a.valueOf()&&(y="dhx_now"),this._ignores_detected&&this._ignores[m]&&(y+=" dhx_scale_ignore"),v.className=y+" "+this.templates.month_date_class(i,a);var b="dhx_month_body",x="dhx_month_head";if(0===m&&this.config.left_border&&(b+=" dhx_month_body_border",x+=" dhx_month_head_border"),this._ignores_detected&&this._ignores[m])v.appendChild(document.createElement("div")),v.appendChild(document.createElement("div"));else{this._waiAria.monthCellAttr(v,i);var w=document.createElement("DIV");w.className=x,w.innerHTML=this.templates.month_day(i),v.appendChild(w);var k=document.createElement("DIV");k.className=b,k.style.height=g+"px",k.style.width=l[m],v.appendChild(k)}p.push(i);var E=i.getDate();(i=this.date.add(i,1,"day")).getDate()-E>1&&(i=new Date(i.getFullYear(),i.getMonth(),E+1,12,0))}scheduler._colsS.heights[h]=c,c+=s(h)}this._min_date=o,this._max_date=i,e.innerHTML="",e.appendChild(u),this._scales={};var C=e.getElementsByTagName("div");for(h=0;h<p.length;h++){e=C[2*h+1];var D=p[h];this._scales[+D]=e}for(h=0;h<p.length;h++){D=p[h];this.callEvent("onScaleAdd",[this._scales[+D],D])}return this._max_date},scheduler._reset_month_scale=function(e,t,i,n){var s=scheduler.date.add(t,1,"month"),r=scheduler._currentDate();this.date.date_part(r),this.date.date_part(i),n=n||Math.ceil(Math.round((s.valueOf()-i.valueOf())/864e5)/7);var o=Math.floor(e.clientHeight/n)-this.xy.month_head_height;return this._colsS.height=o+this.xy.month_head_height,this._colsS.heights=[],scheduler._render_month_scale(e,t,i,n)},scheduler.getLabel=function(e,t){for(var i=this.config.lightbox.sections,n=0;n<i.length;n++)if(i[n].map_to==e)for(var s=i[n].options,r=0;r<s.length;r++)if(s[r].key==t)return s[r].label;return""},scheduler.updateCollection=function(e,t){var i=scheduler.serverList(e);return!!i&&(i.splice(0,i.length),i.push.apply(i,t||[]),scheduler.callEvent("onOptionsLoad",[]),scheduler.resetLightbox(),!0)},scheduler._lame_clone=function(e,t){var i,n,s;for(t=t||[],i=0;i<t.length;i+=2)if(e===t[i])return t[i+1];if(e&&"object"==typeof e){for(s={},n=[Array,Date,Number,String,Boolean],i=0;i<n.length;i++)e instanceof n[i]&&(s=i?new n[i](e):new n[i]);t.push(e,s);for(i in e)Object.prototype.hasOwnProperty.apply(e,[i])&&(s[i]=scheduler._lame_clone(e[i],t))}return s||e},scheduler._lame_copy=function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e},scheduler._get_date_from_pos=function(e){var t=this._min_date.valueOf()+6e4*(e.y*this.config.time_step+24*(this._table_view?0:e.x)*60);return new Date(this._correct_shift(t))},scheduler.getActionData=function(e){var t=this._mouse_coords(e);return{date:this._get_date_from_pos(t),section:t.section}},scheduler._focus=function(e,t){e&&e.focus&&(this.config.touch?window.setTimeout(function(){e.focus()},10):(t&&e.select&&e.select(),e.focus()))},scheduler._get_real_event_length=function(e,t,i){var n,s=t-e,r=i._start_correction+i._end_correction||0,o=this["ignore_"+this._mode],a=0;i.render?(a=this._get_date_index(i,e),n=this._get_date_index(i,t)):n=Math.round(s/60/60/1e3/24);for(var l=!0;n>a;){var h=scheduler.date.add(t,-i.x_step,i.x_unit);o&&o(t)&&(!l||l&&o(h))?s-=t-h:(l=!1,s-=r),t=h,n--}return s},scheduler._get_fictional_event_length=function(e,t,i,n){var s=new Date(e),r=n?-1:1;if(i._start_correction||i._end_correction){var o;o=n?60*s.getHours()+s.getMinutes()-60*(i.first_hour||0):60*(i.last_hour||0)-(60*s.getHours()+s.getMinutes());var a=60*(i.last_hour-i.first_hour),l=Math.ceil((t/6e4-o)/a);0>l&&(l=0),t+=l*(1440-a)*60*1e3}var h,d=new Date(1*e+t*r),c=this["ignore_"+this._mode],u=0;for(i.render?(u=this._get_date_index(i,s),h=this._get_date_index(i,d)):h=Math.round(t/60/60/1e3/24);h*r>=u*r;){var f=scheduler.date.add(s,i.x_step*r,i.x_unit);c&&c(s)&&(t+=(f-s)*r,h+=r),s=f,u+=r}return t},scheduler._get_section_view=function(){return this.matrix&&this.matrix[this._mode]?this.matrix[this._mode]:this._props&&this._props[this._mode]?this._props[this._mode]:null},scheduler._get_section_property=function(){return this.matrix&&this.matrix[this._mode]?this.matrix[this._mode].y_property:this._props&&this._props[this._mode]?this._props[this._mode].map_to:null},scheduler._is_initialized=function(){var e=this.getState();return this._obj&&e.date&&e.mode},scheduler._is_lightbox_open=function(){var e=this.getState();return null!==e.lightbox_id&&void 0!==e.lightbox_id},scheduler._getClassName=function(e){if(!e)return"";var t=e.className||"";return t.baseVal&&(t=t.baseVal),t.indexOf||(t=""),t||""},scheduler.date={init:function(){for(var e=scheduler.locale.date.month_short,t=scheduler.locale.date.month_short_hash={},i=0;i<e.length;i++)t[e[i]]=i;for(e=scheduler.locale.date.month_full,t=scheduler.locale.date.month_full_hash={},i=0;i<e.length;i++)t[e[i]]=i},date_part:function(e){var t=new Date(e);return e.setHours(0),e.setMinutes(0),e.setSeconds(0),e.setMilliseconds(0),e.getHours()&&(e.getDate()<t.getDate()||e.getMonth()<t.getMonth()||e.getFullYear()<t.getFullYear())&&e.setTime(e.getTime()+36e5*(24-e.getHours())),e},time_part:function(e){return(e.valueOf()/1e3-60*e.getTimezoneOffset())%86400},week_start:function(e){var t=e.getDay();return scheduler.config.start_on_monday&&(0===t?t=6:t--),this.date_part(this.add(e,-1*t,"day"))},month_start:function(e){return e.setDate(1),this.date_part(e)},year_start:function(e){return e.setMonth(0),this.month_start(e)},day_start:function(e){return this.date_part(e)},_add_days:function(e,t){var i=new Date(e.valueOf());if(i.setDate(i.getDate()+t),t==Math.round(t)&&t>0){var n=(+i-+e)%864e5;if(n&&e.getTimezoneOffset()==i.getTimezoneOffset()){var s=n/36e5;i.setTime(i.getTime()+60*(24-s)*60*1e3)}}return t>=0&&!e.getHours()&&i.getHours()&&(i.getDate()<e.getDate()||i.getMonth()<e.getMonth()||i.getFullYear()<e.getFullYear())&&i.setTime(i.getTime()+36e5*(24-i.getHours())),i},add:function(e,t,i){var n=new Date(e.valueOf());switch(i){case"day":n=scheduler.date._add_days(n,t);break;case"week":n=scheduler.date._add_days(n,7*t);break;case"month":n.setMonth(n.getMonth()+t);break;case"year":n.setYear(n.getFullYear()+t);break;case"hour":n.setTime(n.getTime()+60*t*60*1e3);break;case"minute":n.setTime(n.getTime()+60*t*1e3);break;default:return scheduler.date["add_"+i](e,t,i)}return n},to_fixed:function(e){return 10>e?"0"+e:e},copy:function(e){return new Date(e.valueOf())},date_to_str:function(e,t){return e=e.replace(/%[a-zA-Z]/g,function(e){switch(e){case"%d":return'"+scheduler.date.to_fixed(date.getDate())+"';case"%m":return'"+scheduler.date.to_fixed((date.getMonth()+1))+"';case"%j":return'"+date.getDate()+"';case"%n":return'"+(date.getMonth()+1)+"';case"%y":return'"+scheduler.date.to_fixed(date.getFullYear()%100)+"';case"%Y":return'"+date.getFullYear()+"';case"%D":return'"+scheduler.locale.date.day_short[date.getDay()]+"';case"%l":return'"+scheduler.locale.date.day_full[date.getDay()]+"';case"%M":return'"+scheduler.locale.date.month_short[date.getMonth()]+"';case"%F":return'"+scheduler.locale.date.month_full[date.getMonth()]+"';case"%h":return'"+scheduler.date.to_fixed((date.getHours()+11)%12+1)+"';case"%g":return'"+((date.getHours()+11)%12+1)+"';case"%G":return'"+date.getHours()+"';case"%H":return'"+scheduler.date.to_fixed(date.getHours())+"';case"%i":return'"+scheduler.date.to_fixed(date.getMinutes())+"';case"%a":return'"+(date.getHours()>11?"pm":"am")+"';case"%A":return'"+(date.getHours()>11?"PM":"AM")+"';case"%s":return'"+scheduler.date.to_fixed(date.getSeconds())+"';case"%W":return'"+scheduler.date.to_fixed(scheduler.date.getISOWeek(date))+"';default:return e}}),t&&(e=e.replace(/date\.get/g,"date.getUTC")),new Function("date",'return "'+e+'";')},str_to_date:function(e,t){for(var i="var temp=date.match(/[a-zA-Z]+|[0-9]+/g);",n=e.match(/%[a-zA-Z]/g),s=0;s<n.length;s++)switch(n[s]){case"%j":case"%d":i+="set[2]=temp["+s+"]||1;";break;case"%n":case"%m":i+="set[1]=(temp["+s+"]||1)-1;";break;case"%y":i+="set[0]=temp["+s+"]*1+(temp["+s+"]>50?1900:2000);";break;case"%g":case"%G":case"%h":case"%H":i+="set[3]=temp["+s+"]||0;";break;case"%i":i+="set[4]=temp["+s+"]||0;";break;case"%Y":i+="set[0]=temp["+s+"]||0;";break;case"%a":case"%A":i+="set[3]=set[3]%12+((temp["+s+"]||'').toLowerCase()=='am'?0:12);";break;case"%s":i+="set[5]=temp["+s+"]||0;";break;case"%M":i+="set[1]=scheduler.locale.date.month_short_hash[temp["+s+"]]||0;";break;case"%F":i+="set[1]=scheduler.locale.date.month_full_hash[temp["+s+"]]||0;"}var r="set[0],set[1],set[2],set[3],set[4],set[5]";return t&&(r=" Date.UTC("+r+")"),new Function("date","var set=[0,0,1,0,0,0]; "+i+" return new Date("+r+");")},getISOWeek:function(e){if(!e)return!1;var t=(e=this.date_part(new Date(e))).getDay();0===t&&(t=7);var i=new Date(e.valueOf());i.setDate(e.getDate()+(4-t));var n=i.getFullYear(),s=Math.round((i.getTime()-new Date(n,0,1).getTime())/864e5);return 1+Math.floor(s/7)},getUTCISOWeek:function(e){return this.getISOWeek(this.convert_to_utc(e))},convert_to_utc:function(e){return new Date(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds())}},scheduler.locale={date:{month_full:["January","February","March","April","May","June","July","August","September","October","November","December"],month_short:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],day_full:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],day_short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},labels:{dhx_cal_today_button:"Today",day_tab:"Day",week_tab:"Week",month_tab:"Month",new_event:"New event",icon_save:"Save",icon_cancel:"Cancel",icon_details:"Details",icon_edit:"Edit",icon_delete:"Delete",confirm_closing:"",confirm_deleting:"Event will be deleted permanently, are you sure?",section_description:"Description",section_time:"Time period",full_day:"Full day",confirm_recurring:"Do you want to edit the whole set of repeated events?",section_recurring:"Repeat event",button_recurring:"Disabled",button_recurring_open:"Enabled",button_edit_series:"Edit series",button_edit_occurrence:"Edit occurrence",agenda_tab:"Agenda",date:"Date",description:"Description",year_tab:"Year",week_agenda_tab:"Agenda",grid_tab:"Grid",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute"}},scheduler.config={default_date:"%j %M %Y",month_date:"%F %Y",load_date:"%Y-%m-%d",week_date:"%l",day_date:"%D, %F %j",hour_date:"%H:%i",month_day:"%d",xml_date:"%m/%d/%Y %H:%i",api_date:"%d-%m-%Y %H:%i",preserve_length:!0,time_step:5,start_on_monday:1,first_hour:0,last_hour:24,readonly:!1,drag_resize:1,drag_move:1,drag_create:1,dblclick_create:1,edit_on_create:1,details_on_create:0,resize_month_events:!1,resize_month_timed:!1,cascade_event_display:!1,cascade_event_count:4,cascade_event_margin:30,multi_day:!0,multi_day_height_limit:0,drag_lightbox:!0,preserve_scroll:!0,select:!0,server_utc:!1,touch:!0,touch_tip:!0,touch_drag:500,quick_info_detached:!0,positive_closing:!1,drag_highlight:!0,limit_drag_out:!1,icons_edit:["icon_save","icon_cancel"],icons_select:["icon_details","icon_edit","icon_delete"],buttons_left:["dhx_save_btn","dhx_cancel_btn"],buttons_right:["dhx_delete_btn"],lightbox:{sections:[{name:"description",height:200,map_to:"text",type:"textarea",focus:!0},{name:"time",height:72,type:"time",map_to:"auto"}]},highlight_displayed_event:!0,left_border:!1,ajax_error:"alert",delay_render:0,timeline_swap_resize:!0,wai_aria_attributes:!0},scheduler.templates={},scheduler.init_templates=function(){var e=scheduler.locale.labels;e.dhx_save_btn=e.icon_save,e.dhx_cancel_btn=e.icon_cancel,e.dhx_delete_btn=e.icon_delete;var t=scheduler.date.date_to_str,i=scheduler.config;(function(e,t){for(var i in t)e[i]||(e[i]=t[i])})(scheduler.templates,{day_date:t(i.default_date),month_date:t(i.month_date),week_date:function(e,t){return scheduler.templates.day_date(e)+" &ndash; "+scheduler.templates.day_date(scheduler.date.add(t,-1,"day"))},day_scale_date:t(i.default_date),month_scale_date:t(i.week_date),week_scale_date:t(i.day_date),hour_scale:t(i.hour_date),time_picker:t(i.hour_date),event_date:t(i.hour_date),month_day:t(i.month_day),xml_date:scheduler.date.str_to_date(i.xml_date,i.server_utc),load_format:t(i.load_date,i.server_utc),xml_format:t(i.xml_date,i.server_utc),api_date:scheduler.date.str_to_date(i.api_date),event_header:function(e,t){return scheduler.templates.event_date(e)+" - "+scheduler.templates.event_date(t)},event_text:function(e,t,i){return i.text},event_class:function(){return""},month_date_class:function(){return""},week_date_class:function(){return""},event_bar_date:function(e){return scheduler.templates.event_date(e)+" "},event_bar_text:function(e,t,i){return i.text},month_events_link:function(e,t){return"<a>View more("+t+" events)</a>"},drag_marker_class:function(){return""},drag_marker_content:function(){return""}}),this.callEvent("onTemplatesReady",[])},scheduler.templates.tooltip_date_format=scheduler.date.date_to_str("%Y-%m-%d %H:%i"),scheduler.templates.tooltip_text=function(e,t,i){return"<b>Event:</b> "+i.text+"<br/><b>Start date:</b> "+scheduler.templates.tooltip_date_format(e)+"<br/><b>End date:</b> "+scheduler.templates.tooltip_date_format(t)},scheduler.uid=function(){return this._seed||(this._seed=(new Date).valueOf()),this._seed++},scheduler._events={},scheduler.clearAll=function(){this._events={},this._loaded={},this._edit_id=null,this._select_id=null,this._drag_id=null,this._drag_mode=null,this._drag_pos=null,this.clear_view(),this.callEvent("onClearAll",[])},scheduler.addEvent=function(e,t,i,n,s){if(!arguments.length)return this.addEventNow();var r=e;1!=arguments.length&&((r=s||{}).start_date=e,r.end_date=t,r.text=i,r.id=n),r.id=r.id||scheduler.uid(),r.text=r.text||"","string"==typeof r.start_date&&(r.start_date=this.templates.api_date(r.start_date)),"string"==typeof r.end_date&&(r.end_date=this.templates.api_date(r.end_date));var o=6e4*(this.config.event_duration||this.config.time_step);r.start_date.valueOf()==r.end_date.valueOf()&&r.end_date.setTime(r.end_date.valueOf()+o),r._timed=this.isOneDayEvent(r);var a=!this._events[r.id];return this._events[r.id]=r,this.event_updated(r),this._loading||this.callEvent(a?"onEventAdded":"onEventChanged",[r.id,r]),r.id},scheduler.deleteEvent=function(e,t){var i=this._events[e];(t||this.callEvent("onBeforeEventDelete",[e,i])&&this.callEvent("onConfirmedBeforeEventDelete",[e,i]))&&(i&&(this._select_id=null,delete this._events[e],this.event_updated(i)),this.callEvent("onEventDeleted",[e,i]))},scheduler.getEvent=function(e){return this._events[e]},scheduler.setEvent=function(e,t){t.id||(t.id=e),this._events[e]=t},scheduler.for_rendered=function(e,t){for(var i=this._rendered.length-1;i>=0;i--)this._rendered[i].getAttribute("event_id")==e&&t(this._rendered[i],i)},scheduler.changeEventId=function(e,t){if(e!=t){var i=this._events[e];i&&(i.id=t,this._events[t]=i,delete this._events[e]),this.for_rendered(e,function(e){e.setAttribute("event_id",t)}),this._select_id==e&&(this._select_id=t),this._edit_id==e&&(this._edit_id=t),this.callEvent("onEventIdChange",[e,t])}},function(){for(var e=["text","Text","start_date","StartDate","end_date","EndDate"],t=function(e){return function(t){return scheduler.getEvent(t)[e]}},i=function(e){return function(t,i){var n=scheduler.getEvent(t);n[e]=i,n._changed=!0,n._timed=this.isOneDayEvent(n),scheduler.event_updated(n,!0)}},n=0;n<e.length;n+=2)scheduler["getEvent"+e[n+1]]=t(e[n]),scheduler["setEvent"+e[n+1]]=i(e[n])}(),scheduler.event_updated=function(e){this.is_visible_events(e)?this.render_view_data():this.clear_event(e.id)},scheduler.is_visible_events=function(e){if(e.start_date.valueOf()<this._max_date.valueOf()&&this._min_date.valueOf()<e.end_date.valueOf()){var t=e.start_date.getHours(),i=e.end_date.getHours()+e.end_date.getMinutes()/60,n=this.config.last_hour,s=this.config.first_hour;return!(!this._table_view&&((i>n||s>i)&&(t>=n||s>t)))||!!((e.end_date.valueOf()-e.start_date.valueOf())/36e5>24-(this.config.last_hour-this.config.first_hour)||n>t&&i>=s)}return!1},scheduler.isOneDayEvent=function(e){var t=e.end_date.getDate()-e.start_date.getDate();return t?(0>t&&(t=Math.ceil((e.end_date.valueOf()-e.start_date.valueOf())/864e5)),1==t&&!e.end_date.getHours()&&!e.end_date.getMinutes()&&(e.start_date.getHours()||e.start_date.getMinutes())):e.start_date.getMonth()==e.end_date.getMonth()&&e.start_date.getFullYear()==e.end_date.getFullYear()},scheduler.get_visible_events=function(e){var t=[];for(var i in this._events)this.is_visible_events(this._events[i])&&(!e||this._events[i]._timed)&&this.filter_event(i,this._events[i])&&t.push(this._events[i]);return t},scheduler.filter_event=function(e,t){var i=this["filter_"+this._mode];return!i||i(e,t)},scheduler._is_main_area_event=function(e){return!!e._timed},scheduler.render_view_data=function(e,t){var i=!1;if(!e){if(i=!0,this._not_render)return void(this._render_wait=!0);this._render_wait=!1,this.clear_view(),e=this.get_visible_events(!(this._table_view||this.config.multi_day))}for(var n=0,s=e.length;s>n;n++)this._recalculate_timed(e[n]);if(this.config.multi_day&&!this._table_view){var r=[],o=[];for(n=0;n<e.length;n++)this._is_main_area_event(e[n])?r.push(e[n]):o.push(e[n]);this._rendered_location=this._els.dhx_multi_day[0],this._table_view=!0,this.render_data(o,t),this._table_view=!1,this._rendered_location=this._els.dhx_cal_data[0],this._table_view=!1,this.render_data(r,t)}else this._rendered_location=this._els.dhx_cal_data[0],this.render_data(e,t);i&&this.callEvent("onDataRender",[])},scheduler._view_month_day=function(e){var t=scheduler.getActionData(e).date;scheduler.callEvent("onViewMoreClick",[t])&&scheduler.setCurrentView(t,"day")},scheduler._render_month_link=function(e){for(var t=this._rendered_location,i=this._lame_clone(e),n=e._sday;n<e._eday;n++){i._sday=n,i._eday=n+1;var s=scheduler.date,r=scheduler._min_date;r=s.add(r,i._sweek,"week"),r=s.add(r,i._sday,"day");var o=scheduler.getEvents(r,s.add(r,1,"day")).length,a=this._get_event_bar_pos(i),l=a.x2-a.x,h=document.createElement("div");h.onclick=function(e){scheduler._view_month_day(e||event)},h.className="dhx_month_link",h.style.top=a.y+"px",h.style.left=a.x+"px",h.style.width=l+"px",h.innerHTML=scheduler.templates.month_events_link(r,o),this._rendered.push(h),t.appendChild(h)}},scheduler._recalculate_timed=function(e){var t;e&&((t="object"!=typeof e?this._events[e]:e)&&(t._timed=scheduler.isOneDayEvent(t)))},scheduler.attachEvent("onEventChanged",scheduler._recalculate_timed),scheduler.attachEvent("onEventAdded",scheduler._recalculate_timed),scheduler.render_data=function(e,t){e=this._pre_render_events(e,t);for(var i=0;i<e.length;i++)if(this._table_view)if("month"!=scheduler._mode)this.render_event_bar(e[i]);else{var n=scheduler.config.max_month_events;n!==1*n||e[i]._sorder<n?this.render_event_bar(e[i]):void 0!==n&&e[i]._sorder==n&&scheduler._render_month_link(e[i])}else this.render_event(e[i])},scheduler._get_first_visible_cell=function(e){for(var t=0;t<e.length;t++)if(-1==(e[t].className||"").indexOf("dhx_scale_ignore"))return e[t];return e[0]},scheduler._pre_render_events=function(e,t){var i=this.xy.bar_height,n=this._colsS.heights,s=this._colsS.heights=[0,0,0,0,0,0,0],r=this._els.dhx_cal_data[0];if(e=this._table_view?this._pre_render_events_table(e,t):this._pre_render_events_line(e,t),this._table_view)if(t)this._colsS.heights=n;else{var o=r.firstChild;if(o.rows){for(var a=0;a<o.rows.length;a++){s[a]++;var l=o.rows[a].cells,h=this._colsS.height-this.xy.month_head_height;if(s[a]*i>h){var d=h;1*this.config.max_month_events!==this.config.max_month_events||s[a]<=this.config.max_month_events?d=s[a]*i:(this.config.max_month_events+1)*i>h&&(d=(this.config.max_month_events+1)*i);for(var c=0;c<l.length;c++)l[c].childNodes[1].style.height=d+"px"}s[a]=(s[a-1]||0)+scheduler._get_first_visible_cell(l).offsetHeight}if(s.unshift(0),o.parentNode.offsetHeight<o.parentNode.scrollHeight&&!scheduler._colsS.scroll_fix&&scheduler.xy.scroll_width){var u=scheduler._colsS,f=u[u.col_length],p=u.heights.slice();f-=scheduler.xy.scroll_width||0,this._calc_scale_sizes(f,this._min_date,this._max_date),scheduler._colsS.heights=p,this.set_xy(this._els.dhx_cal_header[0],f,this.xy.scale_height),scheduler._render_scales(this._els.dhx_cal_header[0]),scheduler._render_month_scale(this._els.dhx_cal_data[0],this._get_timeunit_start(),this._min_date),u.scroll_fix=!0}}else if(e.length||"visible"!=this._els.dhx_multi_day[0].style.visibility||(s[0]=-1),e.length||-1==s[0]){var _=(o.parentNode.childNodes,(s[0]+1)*i+1),g=_,m=_+"px";this.config.multi_day_height_limit&&(m=(g=Math.min(_,this.config.multi_day_height_limit))+"px"),r.style.top=this._els.dhx_cal_navline[0].offsetHeight+this._els.dhx_cal_header[0].offsetHeight+g+"px",r.style.height=this._obj.offsetHeight-parseInt(r.style.top,10)-(this.xy.margin_top||0)+"px";var v=this._els.dhx_multi_day[0];v.style.height=m,v.style.visibility=-1==s[0]?"hidden":"visible";var y=this._els.dhx_multi_day[1];y.style.height=m,y.style.visibility=-1==s[0]?"hidden":"visible",y.className=s[0]?"dhx_multi_day_icon":"dhx_multi_day_icon_small",this._dy_shift=(s[0]+1)*i,this.config.multi_day_height_limit&&(this._dy_shift=Math.min(this.config.multi_day_height_limit,this._dy_shift)),s[0]=0,g!=_&&(r.style.top=parseInt(r.style.top)+2+"px",v.style.overflowY="auto",y.style.position="fixed",y.style.top="",y.style.left="")}}return e},scheduler._get_event_sday=function(e){var t=this.date.day_start(new Date(e.start_date));return Math.round((t.valueOf()-this._min_date.valueOf())/864e5)},scheduler._get_event_mapped_end_date=function(e){var t=e.end_date;if(this.config.separate_short_events){var i=(e.end_date-e.start_date)/6e4;i<this._min_mapped_duration&&(t=this.date.add(t,this._min_mapped_duration-i,"minute"))}return t},scheduler._pre_render_events_line=function(e,t){e.sort(function(e,t){return e.start_date.valueOf()==t.start_date.valueOf()?e.id>t.id?1:-1:e.start_date>t.start_date?1:-1});var i=[],n=[];this._min_mapped_duration=Math.ceil(60*this.xy.min_event_height/this.config.hour_size_px);for(var s=0;s<e.length;s++){var r=e[s],o=r.start_date,a=r.end_date,l=o.getHours(),h=a.getHours();if(r._sday=this._get_event_sday(r),this._ignores[r._sday])e.splice(s,1),s--;else{if(i[r._sday]||(i[r._sday]=[]),!t){r._inner=!1;for(var d=i[r._sday];d.length;){var c=d[d.length-1];if(!(this._get_event_mapped_end_date(c).valueOf()<=r.start_date.valueOf()))break;d.splice(d.length-1,1)}for(var u=d.length,f=!1,p=0;p<d.length;p++){c=d[p];if(this._get_event_mapped_end_date(c).valueOf()<=r.start_date.valueOf()){f=!0,r._sorder=c._sorder,u=p,r._inner=!0;break}}if(d.length&&(d[d.length-1]._inner=!0),!f)if(d.length)if(d.length<=d[d.length-1]._sorder){if(d[d.length-1]._sorder)for(p=0;p<d.length;p++){for(var _=!1,g=0;g<d.length;g++)if(d[g]._sorder==p){_=!0;break}if(!_){r._sorder=p;break}}else r._sorder=0;r._inner=!0}else{var m=d[0]._sorder;for(p=1;p<d.length;p++)d[p]._sorder>m&&(m=d[p]._sorder);r._sorder=m+1,r._inner=!1}else r._sorder=0;d.splice(u,u==d.length?0:1,r),d.length>(d.max_count||0)?(d.max_count=d.length,r._count=d.length):r._count=r._count?r._count:1}(l<this.config.first_hour||h>=this.config.last_hour)&&(n.push(r),e[s]=r=this._copy_event(r),l<this.config.first_hour&&(r.start_date.setHours(this.config.first_hour),r.start_date.setMinutes(0)),h>=this.config.last_hour&&(r.end_date.setMinutes(0),r.end_date.setHours(this.config.last_hour)),r.start_date>r.end_date||l==this.config.last_hour)&&(e.splice(s,1),s--)}}if(!t){for(s=0;s<e.length;s++)e[s]._count=i[e[s]._sday].max_count;for(s=0;s<n.length;s++)n[s]._count=i[n[s]._sday].max_count}return e},scheduler._time_order=function(e){e.sort(function(e,t){return e.start_date.valueOf()==t.start_date.valueOf()?e._timed&&!t._timed?1:!e._timed&&t._timed?-1:e.id>t.id?1:-1:e.start_date>t.start_date?1:-1})},scheduler._pre_render_events_table=function(e,t){this._time_order(e)
;for(var i,n=[],s=[[],[],[],[],[],[],[]],r=this._colsS.heights,o=this._cols.length,a={},l=0;l<e.length;l++){var h=e[l],d=h.id;a[d]||(a[d]={first_chunk:!0,last_chunk:!0});var c=a[d],u=i||h.start_date,f=h.end_date;u<this._min_date&&(c.first_chunk=!1,u=this._min_date),f>this._max_date&&(c.last_chunk=!1,f=this._max_date);var p=this.locate_holder_day(u,!1,h);if(h._sday=p%o,!this._ignores[h._sday]||!h._timed){var _=this.locate_holder_day(f,!0,h)||o;h._eday=_%o||o,h._length=_-p,h._sweek=Math.floor((this._correct_shift(u.valueOf(),1)-this._min_date.valueOf())/(864e5*o));var g,m=s[h._sweek];for(g=0;g<m.length&&!(m[g]._eday<=h._sday);g++);if(h._sorder&&t||(h._sorder=g),h._sday+h._length<=o)i=null,n.push(h),m[g]=h,r[h._sweek]=m.length-1,h._first_chunk=c.first_chunk,h._last_chunk=c.last_chunk;else{var v=this._copy_event(h);v.id=h.id,v._length=o-h._sday,v._eday=o,v._sday=h._sday,v._sweek=h._sweek,v._sorder=h._sorder,v.end_date=this.date.add(u,v._length,"day"),v._first_chunk=c.first_chunk,c.first_chunk&&(c.first_chunk=!1),n.push(v),m[g]=v,i=v.end_date,r[h._sweek]=m.length-1,l--}}}return n},scheduler._copy_dummy=function(){var e=new Date(this.start_date),t=new Date(this.end_date);this.start_date=e,this.end_date=t},scheduler._copy_event=function(e){return this._copy_dummy.prototype=e,new this._copy_dummy},scheduler._rendered=[],scheduler.clear_view=function(){for(var e=0;e<this._rendered.length;e++){var t=this._rendered[e];t.parentNode&&t.parentNode.removeChild(t)}this._rendered=[]},scheduler.updateEvent=function(e){var t=this.getEvent(e);this.clear_event(e),t&&this.is_visible_events(t)&&this.filter_event(e,t)&&(this._table_view||this.config.multi_day||t._timed)&&(this.config.update_render?this.render_view_data():"month"!=this.getState().mode||this.getState().drag_id||this.isOneDayEvent(t)?this.render_view_data([t],!0):this.render_view_data())},scheduler.clear_event=function(e){this.for_rendered(e,function(e,t){e.parentNode&&e.parentNode.removeChild(e),scheduler._rendered.splice(t,1)})},scheduler._y_from_date=function(e){var t=60*e.getHours()+e.getMinutes();return Math.round((60*t*1e3-60*this.config.first_hour*60*1e3)*this.config.hour_size_px/36e5)%(24*this.config.hour_size_px)},scheduler._calc_event_y=function(e,t){t=t||0;var i=60*e.start_date.getHours()+e.start_date.getMinutes(),n=60*e.end_date.getHours()+e.end_date.getMinutes()||60*scheduler.config.last_hour;return{top:this._y_from_date(e.start_date),height:Math.max(t,(n-i)*this.config.hour_size_px/60)}},scheduler.render_event=function(e){var t=scheduler.xy.menu_width,i=this.config.use_select_menu_space?0:t;if(!(e._sday<0)){var n=scheduler.locate_holder(e._sday);if(n){var s=this._calc_event_y(e,scheduler.xy.min_event_height),r=s.top,o=s.height,a=e._count||1,l=e._sorder||0,h=Math.floor((n.clientWidth-i)/a),d=l*h+1;if(e._inner||(h*=a-l),this.config.cascade_event_display){var c=this.config.cascade_event_count,u=this.config.cascade_event_margin;d=l%c*u;var f=e._inner?(a-l-1)%c*u/2:0;h=Math.floor(n.clientWidth-i-d-f)}var p=this._render_v_bar(e,i+d,r,h,o,e._text_style,scheduler.templates.event_header(e.start_date,e.end_date,e),scheduler.templates.event_text(e.start_date,e.end_date,e));if(this._waiAria.eventAttr(e,p),this._rendered.push(p),n.appendChild(p),d=d+parseInt(n.style.left,10)+i,this._edit_id==e.id){p.style.zIndex=1,h=Math.max(h-4,scheduler.xy.editor_width),(p=document.createElement("DIV")).setAttribute("event_id",e.id),this._waiAria.eventAttr(e,p),this.set_xy(p,h,o-20,d,r+14),p.className="dhx_cal_event dhx_cal_editor";var _=scheduler.templates.event_class(e.start_date,e.end_date,e);_&&(p.className+=" "+_);var g=document.createElement("DIV");this.set_xy(g,h-6,o-26),g.style.cssText+=";margin:2px 2px 2px 2px;overflow:hidden;",p.appendChild(g),this._els.dhx_cal_data[0].appendChild(p),this._rendered.push(p),g.innerHTML="<textarea class='dhx_cal_editor'>"+e.text+"</textarea>",this._quirks7&&(g.firstChild.style.height=o-12+"px"),this._editor=g.firstChild,this._editor.onkeydown=function(e){if((e||event).shiftKey)return!0;var t=(e||event).keyCode;t==scheduler.keys.edit_save&&scheduler.editStop(!0),t==scheduler.keys.edit_cancel&&scheduler.editStop(!1)},this._editor.onselectstart=function(e){return(e||event).cancelBubble=!0,!0},scheduler._focus(g.firstChild,!0),this._els.dhx_cal_data[0].scrollLeft=0}if(0!==this.xy.menu_width&&this._select_id==e.id){this.config.cascade_event_display&&this._drag_mode&&(p.style.zIndex=1);for(var m,v=this.config["icons_"+(this._edit_id==e.id?"edit":"select")],y="",b=e.color?"background-color: "+e.color+";":"",x=e.textColor?"color: "+e.textColor+";":"",w=0;w<v.length;w++)m=this._waiAria.eventMenuAttrString(v[w]),y+="<div class='dhx_menu_icon "+v[w]+"' style='"+b+x+"' title='"+this.locale.labels[v[w]]+"'"+m+"></div>";var k=this._render_v_bar(e,d-t+1,r,t,20*v.length+26-2,"","<div style='"+b+x+"' class='dhx_menu_head'></div>",y,!0);k.style.left=d-t+1,this._els.dhx_cal_data[0].appendChild(k),this._rendered.push(k)}this.config.drag_highlight&&this._drag_id==e.id&&this.highlightEventPosition(e)}}},scheduler._render_v_bar=function(e,t,i,n,s,r,o,a,l){var h=document.createElement("DIV"),d=e.id,c=l?"dhx_cal_event dhx_cal_select_menu":"dhx_cal_event",u=scheduler.templates.event_class(e.start_date,e.end_date,e);u&&(c=c+" "+u);var f=e.color?"background:"+e.color+";":"",p=e.textColor?"color:"+e.textColor+";":"",_='<div event_id="'+d+'" class="'+c+'" style="position:absolute; top:'+i+"px; left:"+t+"px; width:"+(n-4)+"px; height:"+s+"px;"+(r||"")+'"></div>';h.innerHTML=_;var g=h.cloneNode(!0).firstChild;if(!l&&scheduler.renderEvent(g,e,n,s,o,a))return g;g=h.firstChild;var m='<div class="dhx_event_move dhx_header" style=" width:'+(n-6)+"px;"+f+'" >&nbsp;</div>';m+='<div class="dhx_event_move dhx_title" style="'+f+p+'">'+o+"</div>",m+='<div class="dhx_body" style=" width:'+(n-(this._quirks?4:14))+"px; height:"+(s-(this._quirks?20:30)+1)+"px;"+f+p+'">'+a+"</div>";var v="dhx_event_resize dhx_footer";return l&&(v="dhx_resize_denied "+v),m+='<div class="'+v+'" style=" width:'+(n-8)+"px;"+(l?" margin-top:-1px;":"")+f+p+'" ></div>',g.innerHTML=m,g},scheduler.renderEvent=function(){return!1},scheduler.locate_holder=function(e){return"day"==this._mode?this._els.dhx_cal_data[0].firstChild:this._els.dhx_cal_data[0].childNodes[e]},scheduler.locate_holder_day=function(e,t){var i=Math.floor((this._correct_shift(e,1)-this._min_date)/864e5);return t&&this.date.time_part(e)&&i++,i},scheduler._get_dnd_order=function(e,t,i){if(!this._drag_event)return e;this._drag_event._orig_sorder?e=this._drag_event._orig_sorder:this._drag_event._orig_sorder=e;for(var n=t*e;n+t>i;)e--,n-=t;return Math.max(e,0)},scheduler._get_event_bar_pos=function(e){var t=this._colsS[e._sday],i=this._colsS[e._eday];i==t&&(i=this._colsS[e._eday+1]);var n=this.xy.bar_height,s=e._sorder;if(e.id==this._drag_id){var r=this._colsS.heights[e._sweek+1]-this._colsS.heights[e._sweek]-this.xy.month_head_height;s=scheduler._get_dnd_order(s,n,r)}var o=s*n;return{x:t,x2:i,y:this._colsS.heights[e._sweek]+(this._colsS.height?this.xy.month_scale_height+2:2)+o}},scheduler.render_event_bar=function(e){var t=this._rendered_location,i=this._get_event_bar_pos(e),n=i.y,s=i.x,r=i.x2,o="";if(r){var a=scheduler.config.resize_month_events&&"month"==this._mode&&(!e._timed||scheduler.config.resize_month_timed),l=document.createElement("DIV"),h=e.hasOwnProperty("_first_chunk")&&e._first_chunk,d=e.hasOwnProperty("_last_chunk")&&e._last_chunk,c=a&&(e._timed||h),u=a&&(e._timed||d),f="dhx_cal_event_clear";(!e._timed||a)&&(f="dhx_cal_event_line"),h&&(f+=" dhx_cal_event_line_start"),d&&(f+=" dhx_cal_event_line_end"),c&&(o+="<div class='dhx_event_resize dhx_event_resize_start'></div>"),u&&(o+="<div class='dhx_event_resize dhx_event_resize_end'></div>");var p=scheduler.templates.event_class(e.start_date,e.end_date,e);p&&(f+=" "+p);var _=e.color?"background:"+e.color+";":"",g=["position:absolute","top:"+n+"px","left:"+s+"px","width:"+(r-s-15)+"px",e.textColor?"color:"+e.textColor+";":"",_,e._text_style||""].join(";"),m="<div event_id='"+e.id+"' class='"+f+"' style='"+g+"'"+this._waiAria.eventBarAttrString(e)+">";a&&(m+=o),"month"==scheduler.getState().mode&&(e=scheduler.getEvent(e.id)),e._timed&&(m+=scheduler.templates.event_bar_date(e.start_date,e.end_date,e)),m+=scheduler.templates.event_bar_text(e.start_date,e.end_date,e)+"</div>",m+="</div>",l.innerHTML=m,this._rendered.push(l.firstChild),t.appendChild(l.firstChild)}},scheduler._locate_event=function(e){for(var t=null;e&&!t&&e.getAttribute;)t=e.getAttribute("event_id"),e=e.parentNode;return t},scheduler._locate_css=function(e,t,i){void 0===i&&(i=!0);for(var n=e.target||e.srcElement,s="";n;){if(s=scheduler._getClassName(n)){var r=s.indexOf(t);if(r>=0){if(!i)return n;var o=0===r||!scheduler._trim(s.charAt(r-1)),a=r+t.length>=s.length||!scheduler._trim(s.charAt(r+t.length));if(o&&a)return n}}n=n.parentNode}return null},scheduler.edit=function(e){this._edit_id!=e&&(this.editStop(!1,e),this._edit_id=e,this.updateEvent(e))},scheduler.editStop=function(e,t){if(!t||this._edit_id!=t){var i=this.getEvent(this._edit_id);i&&(e&&(i.text=this._editor.value),this._edit_id=null,this._editor=null,this.updateEvent(i.id),this._edit_stop_event(i,e))}},scheduler._edit_stop_event=function(e,t){this._new_event?(t?this.callEvent("onEventAdded",[e.id,e]):e&&this.deleteEvent(e.id,!0),this._new_event=null):t&&this.callEvent("onEventChanged",[e.id,e])},scheduler.getEvents=function(e,t){var i=[];for(var n in this._events){var s=this._events[n];s&&(!e&&!t||s.start_date<t&&s.end_date>e)&&i.push(s)}return i},scheduler.getRenderedEvent=function(e){if(e){for(var t=scheduler._rendered,i=0;i<t.length;i++){var n=t[i];if(n.getAttribute("event_id")==e)return n}return null}},scheduler.showEvent=function(e,t){var i="number"==typeof e||"string"==typeof e?scheduler.getEvent(e):e;if(t=t||scheduler._mode,i&&(!this.checkEvent("onBeforeEventDisplay")||this.callEvent("onBeforeEventDisplay",[i,t]))){var n=scheduler.config.scroll_hour;scheduler.config.scroll_hour=i.start_date.getHours();var s=scheduler.config.preserve_scroll;scheduler.config.preserve_scroll=!1;var r=i.color,o=i.textColor;if(scheduler.config.highlight_displayed_event&&(i.color=scheduler.config.displayed_event_color,i.textColor=scheduler.config.displayed_event_text_color),scheduler.setCurrentView(new Date(i.start_date),t),i.color=r,i.textColor=o,scheduler.config.scroll_hour=n,scheduler.config.preserve_scroll=s,scheduler.matrix&&scheduler.matrix[t]){var a=scheduler.getRenderedEvent(i.id);a&&(scheduler._els.dhx_cal_data[0].scrollTop=getAbsoluteTop(a)-getAbsoluteTop(scheduler._els.dhx_cal_data[0])-20)}scheduler.callEvent("onAfterEventDisplay",[i,t])}},scheduler._append_drag_marker=function(e){if(!e.parentNode){var t=scheduler._els.dhx_cal_data[0].lastChild,i=scheduler._getClassName(t);i.indexOf("dhx_scale_holder")<0&&t.previousSibling&&(t=t.previousSibling),i=scheduler._getClassName(t),t&&0===i.indexOf("dhx_scale_holder")&&t.appendChild(e)}},scheduler._update_marker_position=function(e,t){var i=scheduler._calc_event_y(t,0);e.style.top=i.top+"px",e.style.height=i.height+"px"},scheduler.highlightEventPosition=function(e){var t=document.createElement("div");t.setAttribute("event_id",e.id),this._rendered.push(t),this._update_marker_position(t,e);var i=this.templates.drag_marker_class(e.start_date,e.end_date,e),n=this.templates.drag_marker_content(e.start_date,e.end_date,e);t.className="dhx_drag_marker",i&&(t.className+=" "+i),n&&(t.innerHTML=n),this._append_drag_marker(t)},scheduler._loaded={},scheduler._load=function(e,t){if(e=e||this._load_url){var i;if(e+=(-1==e.indexOf("?")?"?":"&")+"timeshift="+(new Date).getTimezoneOffset(),this.config.prevent_cache&&(e+="&uid="+this.uid()),t=t||this._date,this._load_mode){var n=this.templates.load_format;for(t=this.date[this._load_mode+"_start"](new Date(t.valueOf()));t>this._min_date;)t=this.date.add(t,-1,this._load_mode);i=t;for(var s=!0;i<this._max_date;)i=this.date.add(i,1,this._load_mode),this._loaded[n(t)]&&s?t=this.date.add(t,1,this._load_mode):s=!1;var r=i;do{i=r,r=this.date.add(i,-1,this._load_mode)}while(r>t&&this._loaded[n(r)]);if(t>=i)return!1;for(dhtmlxAjax.get(e+"&from="+n(t)+"&to="+n(i),function(e){scheduler.on_load(e)});i>t;)this._loaded[n(t)]=!0,t=this.date.add(t,1,this._load_mode)}else dhtmlxAjax.get(e,function(e){scheduler.on_load(e)});return this.callEvent("onXLS",[]),!0}},scheduler.on_load=function(e){var t,i=!1;if(this._process&&"xml"!=this._process)try{t=this[this._process].parse(e.xmlDoc.responseText)}catch(n){i=!0}else t=this._magic_parser(e),t||(i=!0);i&&(this.callEvent("onLoadError",[e.xmlDoc]),t=[]),scheduler._process_loading(t),this.callEvent("onXLE",[])},scheduler._process_loading=function(e){this._loading=!0,this._not_render=!0;for(var t=0;t<e.length;t++)this.callEvent("onEventLoading",[e[t]])&&this.addEvent(e[t]);this._not_render=!1,this._render_wait&&this.render_view_data(),this._loading=!1,this._after_call&&this._after_call(),this._after_call=null},scheduler._init_event=function(e){e.text=e.text||e._tagvalue||"",e.start_date=scheduler._init_date(e.start_date),e.end_date=scheduler._init_date(e.end_date)},scheduler._init_date=function(e){return e?"string"==typeof e?scheduler.templates.xml_date(e):new Date(e):null},scheduler.json={},scheduler.json.parse=function(data){"string"==typeof data&&(window.JSON?scheduler._temp=JSON.parse(data):scheduler._temp=eval("("+data+")"),data=scheduler._temp?scheduler._temp.data||scheduler._temp.d||scheduler._temp:[]),data.dhx_security&&(dhtmlx.security_key=data.dhx_security);var collections=scheduler._temp&&scheduler._temp.collections?scheduler._temp.collections:{},collections_loaded=!1;for(var key in collections)if(collections.hasOwnProperty(key)){collections_loaded=!0;var collection=collections[key],arr=scheduler.serverList[key];if(!arr)continue;arr.splice(0,arr.length);for(var j=0;j<collection.length;j++){var option=collection[j],obj={key:option.value,label:option.label};for(var option_key in option)if(option.hasOwnProperty(option_key)){if("value"==option_key||"label"==option_key)continue;obj[option_key]=option[option_key]}arr.push(obj)}}collections_loaded&&scheduler.callEvent("onOptionsLoad",[]);for(var evs=[],i=0;i<data.length;i++){var event=data[i];scheduler._init_event(event),evs.push(event)}return evs},scheduler.parse=function(e,t){this._process=t,this.on_load({xmlDoc:{responseText:e}})},scheduler.load=function(e,t){"string"==typeof t&&(this._process=t,t=arguments[2]),this._load_url=e,this._after_call=t,this._load(e,this._date)},scheduler.setLoadMode=function(e){"all"==e&&(e=""),this._load_mode=e},scheduler.serverList=function(e,t){return t?(this.serverList[e]=t.slice(0),this.serverList[e]):(this.serverList[e]=this.serverList[e]||[],this.serverList[e])},scheduler._userdata={},scheduler._magic_parser=function(e){var t;if(!e.getXMLTopNode){var i=e.xmlDoc.responseText;(e=new dtmlXMLLoaderObject(function(){})).loadXMLString(i)}if("data"!=(t=e.getXMLTopNode("data")).tagName)return null;var n=t.getAttribute("dhx_security");n&&(dhtmlx.security_key=n);for(var s=e.doXPath("//coll_options"),r=0;r<s.length;r++){var o=s[r].getAttribute("for"),a=this.serverList[o];if(a){a.splice(0,a.length);for(var l=e.doXPath(".//item",s[r]),h=0;h<l.length;h++){for(var d=l[h].attributes,c={key:l[h].getAttribute("value"),label:l[h].getAttribute("label")},u=0;u<d.length;u++){var f=d[u];"value"!=f.nodeName&&"label"!=f.nodeName&&(c[f.nodeName]=f.nodeValue)}a.push(c)}}}s.length&&scheduler.callEvent("onOptionsLoad",[]);var p=e.doXPath("//userdata");for(r=0;r<p.length;r++){var _=this._xmlNodeToJSON(p[r]);this._userdata[_.name]=_.text}var g=[];t=e.doXPath("//event");for(r=0;r<t.length;r++){var m=g[r]=this._xmlNodeToJSON(t[r]);scheduler._init_event(m)}return g},scheduler._xmlNodeToJSON=function(e){for(var t={},i=0;i<e.attributes.length;i++)t[e.attributes[i].name]=e.attributes[i].value;for(i=0;i<e.childNodes.length;i++){var n=e.childNodes[i];1==n.nodeType&&(t[n.tagName]=n.firstChild?n.firstChild.nodeValue:"")}return t.text||(t.text=e.firstChild?e.firstChild.nodeValue:""),t},scheduler.attachEvent("onXLS",function(){var e;!0===this.config.show_loading&&((e=this.config.show_loading=document.createElement("DIV")).className="dhx_loading",e.style.left=Math.round((this._x-128)/2)+"px",e.style.top=Math.round((this._y-15)/2)+"px",this._obj.appendChild(e))}),scheduler.attachEvent("onXLE",function(){var e=this.config.show_loading;e&&"object"==typeof e&&(this._obj.removeChild(e),this.config.show_loading=!0)}),scheduler.ical={parse:function(e){var t=e.match(RegExp(this.c_start+"[^\f]*"+this.c_end,""));if(t.length){t[0]=t[0].replace(/[\r\n]+(?=[a-z \t])/g," "),t[0]=t[0].replace(/\;[^:\r\n]*:/g,":");for(var i,n=[],s=RegExp("(?:"+this.e_start+")([^\f]*?)(?:"+this.e_end+")","g");null!==(i=s.exec(t));){for(var r,o={},a=/[^\r\n]+[\r\n]+/g;null!==(r=a.exec(i[1]));)this.parse_param(r.toString(),o);o.uid&&!o.id&&(o.id=o.uid),n.push(o)}return n}},parse_param:function(e,t){var i=e.indexOf(":");if(-1!=i){var n=e.substr(0,i).toLowerCase(),s=e.substr(i+1).replace(/\\\,/g,",").replace(/[\r\n]+$/,"");"summary"==n?n="text":"dtstart"==n?(n="start_date",s=this.parse_date(s,0,0)):"dtend"==n&&(n="end_date",s=this.parse_date(s,0,0)),t[n]=s}},parse_date:function(e,t,i){var n=e.split("T");n[1]&&(t=n[1].substr(0,2),i=n[1].substr(2,2));var s=n[0].substr(0,4),r=parseInt(n[0].substr(4,2),10)-1,o=n[0].substr(6,2);return scheduler.config.server_utc&&!n[1]?new Date(Date.UTC(s,r,o,t,i)):new Date(s,r,o,t,i)},c_start:"BEGIN:VCALENDAR",e_start:"BEGIN:VEVENT",e_end:"END:VEVENT",c_end:"END:VCALENDAR"},scheduler._lightbox_controls={},scheduler.formSection=function(e){for(var t=this.config.lightbox.sections,i=0;i<t.length&&t[i].name!=e;i++);var n=t[i];scheduler._lightbox||scheduler.getLightbox();var s=document.getElementById(n.id),r=s.nextSibling,o={section:n,header:s,node:r,getValue:function(e){return scheduler.form_blocks[n.type].get_value(r,e||{},n)},setValue:function(e,t){return scheduler.form_blocks[n.type].set_value(r,e,t||{},n)}},a=scheduler._lightbox_controls["get_"+n.type+"_control"];return a?a(o):o},scheduler._lightbox_controls.get_template_control=function(e){return e.control=e.node,e},scheduler._lightbox_controls.get_select_control=function(e){return e.control=e.node.getElementsByTagName("select")[0],e},scheduler._lightbox_controls.get_textarea_control=function(e){return e.control=e.node.getElementsByTagName("textarea")[0],e},scheduler._lightbox_controls.get_time_control=function(e){return e.control=e.node.getElementsByTagName("select"),e},scheduler.form_blocks={template:{render:function(e){return"<div class='dhx_cal_ltext dhx_cal_template' style='height:"+((e.height||"30")+"px")+";'></div>"},set_value:function(e,t){e.innerHTML=t||""},get_value:function(e){return e.innerHTML||""},focus:function(){}},textarea:{render:function(e){return"<div class='dhx_cal_ltext' style='height:"+((e.height||"130")+"px")+";'><textarea></textarea></div>"},set_value:function(e,t){scheduler.form_blocks.textarea._get_input(e).value=t||""},get_value:function(e){return scheduler.form_blocks.textarea._get_input(e).value},focus:function(e){var t=scheduler.form_blocks.textarea._get_input(e);scheduler._focus(t,!0)},_get_input:function(e){return e.getElementsByTagName("textarea")[0]}},select:{render:function(e){for(var t="<div class='dhx_cal_ltext' style='height:"+((e.height||"23")+"px")+";'><select style='width:100%;'>",i=0;i<e.options.length;i++)t+="<option value='"+e.options[i].key+"'>"+e.options[i].label+"</option>";return t+"</select></div>"},set_value:function(e,t,i,n){var s=e.firstChild;!s._dhx_onchange&&n.onchange&&(s.onchange=n.onchange,s._dhx_onchange=!0),void 0===t&&(t=(s.options[0]||{}).value),s.value=t||""},get_value:function(e){return e.firstChild.value},focus:function(e){var t=e.firstChild;scheduler._focus(t,!0)}},time:{render:function(e){e.time_format||(e.time_format=["%H:%i","%d","%m","%Y"]),e._time_format_order={};var t=e.time_format,i=scheduler.config,n=this.date.date_part(scheduler._currentDate()),s=1440,r=0;scheduler.config.limit_time_select&&(s=60*i.last_hour+1,r=60*i.first_hour,n.setHours(i.first_hour));for(var o="",a=0;a<t.length;a++){var l=t[a];a>0&&(o+=" ");var h="";switch(l){case"%Y":e._time_format_order[3]=a;for(var d=n.getFullYear()-5,c=0;10>c;c++)h+="<option value='"+(d+c)+"'>"+(d+c)+"</option>";break;case"%m":e._time_format_order[2]=a;for(c=0;12>c;c++)h+="<option value='"+c+"'>"+this.locale.date.month_full[c]+"</option>";break;case"%d":e._time_format_order[1]=a;for(c=1;32>c;c++)h+="<option value='"+c+"'>"+c+"</option>";break;case"%H:%i":e._time_format_order[0]=a;c=r;var u=n.getDate();for(e._time_values=[];s>c;){h+="<option value='"+c+"'>"+this.templates.time_picker(n)+"</option>",e._time_values.push(c),n.setTime(n.valueOf()+60*this.config.time_step*1e3),c=24*(n.getDate()!=u?1:0)*60+60*n.getHours()+n.getMinutes()}}if(h){var f=scheduler._waiAria.lightboxSelectAttrString(l);o+="<select "+(e.readonly?"disabled='disabled'":"")+f+">"+h+"</select> "}}return"<div style='height:30px;padding-top:0px;font-size:inherit;' class='dhx_section_time'>"+o+"<span style='font-weight:normal; font-size:10pt;'> &nbsp;&ndash;&nbsp; </span>"+o+"</div>"},set_value:function(e,t,i,n){function s(e,t,i){for(var s=n._time_values,r=60*i.getHours()+i.getMinutes(),o=r,a=!1,l=0;l<s.length;l++){var d=s[l];if(d===r){a=!0;break}r>d&&(o=d)}e[t+h[0]].value=a?r:o,a||o||(e[t+h[0]].selectedIndex=-1),e[t+h[1]].value=i.getDate(),e[t+h[2]].value=i.getMonth(),e[t+h[3]].value=i.getFullYear()}var r,o,a=scheduler.config,l=e.getElementsByTagName("select"),h=n._time_format_order;if(a.full_day){if(!e._full_day){var d="<label class='dhx_fullday'><input type='checkbox' name='full_day' value='true'> "+scheduler.locale.labels.full_day+"&nbsp;</label></input>";scheduler.config.wide_form||(d=e.previousSibling.innerHTML+d),e.previousSibling.innerHTML=d,e._full_day=!0}var c=e.previousSibling.getElementsByTagName("input")[0];c.checked=0===scheduler.date.time_part(i.start_date)&&0===scheduler.date.time_part(i.end_date),l[h[0]].disabled=c.checked,l[h[0]+l.length/2].disabled=c.checked,c.onclick=function(){if(c.checked){var t={};scheduler.form_blocks.time.get_value(e,t,n),r=scheduler.date.date_part(t.start_date),(+(o=scheduler.date.date_part(t.end_date))==+r||+o>=+r&&(0!==i.end_date.getHours()||0!==i.end_date.getMinutes()))&&(o=scheduler.date.add(o,1,"day"))}else r=null,o=null;l[h[0]].disabled=c.checked,l[h[0]+l.length/2].disabled=c.checked,s(l,0,r||i.start_date),s(l,4,o||i.end_date)}}if(a.auto_end_date&&a.event_duration)for(var u=function(){r=new Date(l[h[3]].value,l[h[2]].value,l[h[1]].value,0,l[h[0]].value),o=new Date(r.getTime()+60*scheduler.config.event_duration*1e3),s(l,4,o)},f=0;4>f;f++)l[f].onchange=u;s(l,0,i.start_date),s(l,4,i.end_date)},get_value:function(e,t,i){var n=e.getElementsByTagName("select"),s=i._time_format_order;if(t.start_date=new Date(n[s[3]].value,n[s[2]].value,n[s[1]].value,0,n[s[0]].value),t.end_date=new Date(n[s[3]+4].value,n[s[2]+4].value,n[s[1]+4].value,0,n[s[0]+4].value),!n[s[3]].value||!n[s[3]+4].value){var r=this.getEvent(this._lightbox_id);r&&(t.start_date=r.start_date,t.end_date=r.end_date)}return t.end_date<=t.start_date&&(t.end_date=scheduler.date.add(t.start_date,scheduler.config.time_step,"minute")),{start_date:new Date(t.start_date),end_date:new Date(t.end_date)}},focus:function(e){scheduler._focus(e.getElementsByTagName("select")[0])}}},scheduler.showCover=function(e){if(e){e.style.display="block";var t=window.pageYOffset||document.body.scrollTop||document.documentElement.scrollTop,i=window.pageXOffset||document.body.scrollLeft||document.documentElement.scrollLeft,n=window.innerHeight||document.documentElement.clientHeight;e.style.top=t?Math.round(t+Math.max((n-e.offsetHeight)/2,0))+"px":Math.round(Math.max((n-e.offsetHeight)/2,0)+9)+"px",document.documentElement.scrollWidth>document.body.offsetWidth?e.style.left=Math.round(i+(document.body.offsetWidth-e.offsetWidth)/2)+"px":e.style.left=Math.round((document.body.offsetWidth-e.offsetWidth)/2)+"px"}this.show_cover()},scheduler.showLightbox=function(e){if(e){if(!this.callEvent("onBeforeLightbox",[e]))return void(this._new_event&&(this._new_event=null));var t=this.getLightbox();this.showCover(t),this._fill_lightbox(e,t),this._waiAria.lightboxVisibleAttr(t),this.callEvent("onLightbox",[e])}},scheduler._fill_lightbox=function(e,t){var i=this.getEvent(e),n=t.getElementsByTagName("span"),s=[];if(scheduler.templates.lightbox_header){s.push("");var r=scheduler.templates.lightbox_header(i.start_date,i.end_date,i);s.push(r),n[1].innerHTML="",n[2].innerHTML=r}else{var o=this.templates.event_header(i.start_date,i.end_date,i),a=(this.templates.event_bar_text(i.start_date,i.end_date,i)||"").substr(0,70);s.push(o),s.push(a),n[1].innerHTML=o,n[2].innerHTML=a}this._waiAria.lightboxHeader(t,s.join(" "));for(var l=this.config.lightbox.sections,h=0;h<l.length;h++){var d=l[h],c=document.getElementById(d.id).nextSibling,u=this.form_blocks[d.type],f=void 0!==i[d.map_to]?i[d.map_to]:d.default_value;u.set_value.call(this,c,f,i,d),l[h].focus&&u.focus.call(this,c)}scheduler._lightbox_id=e},scheduler._lightbox_out=function(e){for(var t=this.config.lightbox.sections,i=0;i<t.length;i++){var n=document.getElementById(t[i].id);n=n?n.nextSibling:n;var s=this.form_blocks[t[i].type].get_value.call(this,n,e,t[i]);"auto"!=t[i].map_to&&(e[t[i].map_to]=s)}return e},scheduler._empty_lightbox=function(e){var t=scheduler._lightbox_id,i=this.getEvent(t);this.getLightbox(),this._lame_copy(i,e),this.setEvent(i.id,i),this._edit_stop_event(i,!0),this.render_view_data()},scheduler.hide_lightbox=function(){var e=this.getLightbox();this.hideCover(e),this._waiAria.lightboxHiddenAttr(e),this._lightbox_id=null,this.callEvent("onAfterLightbox",[])},scheduler.hideCover=function(e){e&&(e.style.display="none"),this.hide_cover()},scheduler.hide_cover=function(){this._cover&&this._cover.parentNode.removeChild(this._cover),this._cover=null},scheduler.show_cover=function(){if(!this._cover){this._cover=document.createElement("DIV"),this._cover.className="dhx_cal_cover";var e=void 0!==document.height?document.height:document.body.offsetHeight,t=document.documentElement?document.documentElement.scrollHeight:0;this._cover.style.height=Math.max(e,t)+"px",document.body.appendChild(this._cover)}},scheduler.save_lightbox=function(){var e=this._lightbox_out({},this._lame_copy(this.getEvent(this._lightbox_id)));(!this.checkEvent("onEventSave")||this.callEvent("onEventSave",[this._lightbox_id,e,this._new_event]))&&(this._empty_lightbox(e),this.hide_lightbox())},scheduler.startLightbox=function(e,t){this._lightbox_id=e,this._custom_lightbox=!0,this._temp_lightbox=this._lightbox,this._lightbox=t,this.showCover(t)},scheduler.endLightbox=function(e,t){this._edit_stop_event(scheduler.getEvent(this._lightbox_id),e),e&&scheduler.render_view_data(),this.hideCover(t),this._custom_lightbox&&(this._lightbox=this._temp_lightbox,this._custom_lightbox=!1),this._temp_lightbox=this._lightbox_id=null},scheduler.resetLightbox=function(){scheduler._lightbox&&!scheduler._custom_lightbox&&scheduler._lightbox.parentNode.removeChild(scheduler._lightbox),scheduler._lightbox=null},scheduler.cancel_lightbox=function(){this.callEvent("onEventCancel",[this._lightbox_id,this._new_event]),this.endLightbox(!1),this.hide_lightbox()},scheduler._init_lightbox_events=function(){this.getLightbox().onclick=function(e){var t=e?e.target:event.srcElement;t.className||(t=t.previousSibling);var i=scheduler._getClassName(t);if(t&&i)switch(i){case"dhx_save_btn":scheduler.save_lightbox();break;case"dhx_delete_btn":var n=scheduler.locale.labels.confirm_deleting;scheduler._dhtmlx_confirm(n,scheduler.locale.labels.title_confirm_deleting,function(){scheduler.deleteEvent(scheduler._lightbox_id),scheduler._new_event=null,scheduler.hide_lightbox()});break;case"dhx_cancel_btn":scheduler.cancel_lightbox();break;default:var s,r;if(t.getAttribute("dhx_button"))scheduler.callEvent("onLightboxButton",[i,t,e]);else-1!=i.indexOf("dhx_custom_button")&&(-1!=i.indexOf("dhx_custom_button_")?(s=t.parentNode.getAttribute("index"),r=t.parentNode.parentNode):(s=t.getAttribute("index"),r=t.parentNode,t=t.firstChild)),s&&scheduler.form_blocks[scheduler.config.lightbox.sections[s].type].button_click(s,t,r,r.nextSibling)}},this.getLightbox().onkeydown=function(e){var t=e||window.event,i=e.target||e.srcElement,n=i.querySelector("[dhx_button]");switch(n||(n=i.parentNode.querySelector(".dhx_custom_button, .dhx_readonly")),(e||t).keyCode){case 32:if((e||t).shiftKey)return;n&&n.click&&n.click();break;case scheduler.keys.edit_save:if((e||t).shiftKey)return;n&&n.click?n.click():scheduler.save_lightbox();break;case scheduler.keys.edit_cancel:scheduler.cancel_lightbox()}}},scheduler.setLightboxSize=function(){var e=this._lightbox;if(e){var t=e.childNodes[1];t.style.height="0px",t.style.height=t.scrollHeight+"px",e.style.height=t.scrollHeight+scheduler.xy.lightbox_additional_height+"px",t.style.height=t.scrollHeight+"px"}},scheduler._init_dnd_events=function(){dhtmlxEvent(document.body,"mousemove",scheduler._move_while_dnd),dhtmlxEvent(document.body,"mouseup",scheduler._finish_dnd),scheduler._init_dnd_events=function(){}},scheduler._move_while_dnd=function(e){if(scheduler._dnd_start_lb){document.dhx_unselectable||(document.body.className+=" dhx_unselectable",document.dhx_unselectable=!0);var t=scheduler.getLightbox(),i=e&&e.target?[e.pageX,e.pageY]:[event.clientX,event.clientY];t.style.top=scheduler._lb_start[1]+i[1]-scheduler._dnd_start_lb[1]+"px",t.style.left=scheduler._lb_start[0]+i[0]-scheduler._dnd_start_lb[0]+"px"}},scheduler._ready_to_dnd=function(e){var t=scheduler.getLightbox();scheduler._lb_start=[parseInt(t.style.left,10),parseInt(t.style.top,10)],scheduler._dnd_start_lb=e&&e.target?[e.pageX,e.pageY]:[event.clientX,event.clientY]},scheduler._finish_dnd=function(){scheduler._lb_start&&(scheduler._lb_start=scheduler._dnd_start_lb=!1,document.body.className=document.body.className.replace(" dhx_unselectable",""),document.dhx_unselectable=!1)},scheduler.getLightbox=function(){if(!this._lightbox){var e=document.createElement("DIV");e.className="dhx_cal_light",scheduler.config.wide_form&&(e.className+=" dhx_cal_light_wide"),scheduler.form_blocks.recurring&&(e.className+=" dhx_cal_light_rec"),/msie|MSIE 6/.test(navigator.userAgent)&&(e.className+=" dhx_ie6"),e.style.visibility="hidden";for(var t=this._lightbox_template,i=this.config.buttons_left,n="",s=0;s<i.length;s++)n=this._waiAria.lightboxButtonAttrString(i[s]),t+="<div "+n+" class='dhx_btn_set dhx_left_btn_set "+i[s]+"_set'><div dhx_button='1' class='"+i[s]+"'></div><div>"+scheduler.locale.labels[i[s]]+"</div></div>";i=this.config.buttons_right;for(s=0;s<i.length;s++)n=this._waiAria.lightboxButtonAttrString(i[s]),t+="<div "+n+" class='dhx_btn_set dhx_right_btn_set "+i[s]+"_set' style='float:right;'><div dhx_button='1' class='"+i[s]+"'></div><div>"+scheduler.locale.labels[i[s]]+"</div></div>";t+="</div>",e.innerHTML=t,scheduler.config.drag_lightbox&&(e.firstChild.onmousedown=scheduler._ready_to_dnd,e.firstChild.onselectstart=function(){return!1},e.firstChild.style.cursor="pointer",scheduler._init_dnd_events()),this._waiAria.lightboxAttr(e),document.body.insertBefore(e,document.body.firstChild),this._lightbox=e;var r=this.config.lightbox.sections;t="";for(s=0;s<r.length;s++){var o=this.form_blocks[r[s].type];if(o){r[s].id="area_"+this.uid();var a="";if(r[s].button)a="<div "+(n=scheduler._waiAria.lightboxSectionButtonAttrString(this.locale.labels["button_"+r[s].button]))+" class='dhx_custom_button' index='"+s+"'><div class='dhx_custom_button_"+r[s].button+"'></div><div>"+this.locale.labels["button_"+r[s].button]+"</div></div>";this.config.wide_form&&(t+="<div class='dhx_wrap_section'>");var l=this.locale.labels["section_"+r[s].name];"string"!=typeof l&&(l=r[s].name),t+="<div id='"+r[s].id+"' class='dhx_cal_lsection'>"+a+"<label>"+l+"</label></div>"+o.render.call(this,r[s]),t+="</div>"}}var h=e.getElementsByTagName("div");for(s=0;s<h.length;s++){var d=h[s];if("dhx_cal_larea"==scheduler._getClassName(d)){d.innerHTML=t;break}}for(s=0;s<r.length;s++){var c=r[s];if(c.id&&document.getElementById(c.id)){var u=document.getElementById(c.id),f=u.querySelector("label"),p=u.nextSibling;if(p){var _=p.querySelector("input, select, textarea");_&&(c.inputId=_.id||"input_"+scheduler.uid(),_.id||(_.id=c.inputId),f.setAttribute("for",c.inputId))}}}this.setLightboxSize(),this._init_lightbox_events(this),e.style.display="none",e.style.visibility="visible"}return this._lightbox},scheduler.attachEvent("onEventIdChange",function(e,t){this._lightbox_id==e&&(this._lightbox_id=t)}),
scheduler._lightbox_template="<div class='dhx_cal_ltitle'><span class='dhx_mark'>&nbsp;</span><span class='dhx_time'></span><span class='dhx_title'></span></div><div class='dhx_cal_larea'></div>",scheduler._init_touch_events=function(){"force"!=this.config.touch&&(this.config.touch=this.config.touch&&(-1!=navigator.userAgent.indexOf("Mobile")||-1!=navigator.userAgent.indexOf("iPad")||-1!=navigator.userAgent.indexOf("Android")||-1!=navigator.userAgent.indexOf("Touch"))),this.config.touch&&(this.xy.scroll_width=0,window.navigator.msPointerEnabled?(this._touch_events(["MSPointerMove","MSPointerDown","MSPointerUp"],function(e){return e.pointerType==e.MSPOINTER_TYPE_MOUSE?null:e},function(e){return!e||e.pointerType==e.MSPOINTER_TYPE_MOUSE||scheduler._pointerDragId&&scheduler._pointerDragId!=e.pointerId}),this._obj.ondblclick=function(){}):this._touch_events(["touchmove","touchstart","touchend"],function(e){return e.touches&&e.touches.length>1?null:e.touches&&e.touches[0]?{target:e.target,pageX:e.touches[0].pageX,pageY:e.touches[0].pageY}:e},function(e){return!!(e.touches&&e.touches.length>1)}))},scheduler._touch_events=function(e,t,i){function n(e,t,i){dhtmlxEvent(e,t,function(e){return!!scheduler._is_lightbox_open()||i(e)})}function s(e,t,i,n){if(e&&t){for(var s=e.target;s&&s!=scheduler._obj;)s=s.parentNode;if(s==scheduler._obj){var r=Math.abs(e.pageY-t.pageY),o=Math.abs(e.pageX-t.pageX);n>r&&o>i&&(!r||o/r>3)&&(e.pageX>t.pageX?scheduler._click.dhx_cal_next_button():scheduler._click.dhx_cal_prev_button())}}}function r(e){var t=scheduler.getState().drag_mode,i=!!scheduler.matrix&&scheduler.matrix[scheduler._mode],n=scheduler.render_view_data;"create"==t&&i&&(scheduler.render_view_data=function(){for(var e=scheduler.getState().drag_id,t=scheduler.getEvent(e),n=i.y_property,s=scheduler.getEvents(t.start_date,t.end_date),r=0;r<s.length;r++)s[r][n]!=t[n]&&(s.splice(r,1),r--);t._sorder=s.length-1,t._count=s.length,this.render_data([t],scheduler.getState().mode)}),scheduler._on_mouse_move(e),"create"==t&&i&&(scheduler.render_view_data=n)}function o(e){scheduler._hide_global_tip(),d&&(scheduler._on_mouse_up(t(e||event)),scheduler._temp_touch_block=!1),scheduler._drag_id=null,scheduler._drag_mode=null,scheduler._drag_pos=null,scheduler._pointerDragId=null,clearTimeout(h),d=u=!1,c=!0}var a,l,h,d,c,u,f=(-1!=navigator.userAgent.indexOf("Android")&&navigator.userAgent.indexOf("WebKit"),0);n(document.body,e[0],function(e){if(!i(e)){var n=t(e);if(n){if(d)return r(n),scheduler._update_global_tip(),e.preventDefault&&e.preventDefault(),e.cancelBubble=!0,!1;if(l=t(e),u)return l?void((a.target!=l.target||Math.abs(a.pageX-l.pageX)>5||Math.abs(a.pageY-l.pageY)>5)&&(c=!0,clearTimeout(h))):void(c=!0)}}}),n(this._els.dhx_cal_data[0],"scroll",o),n(this._els.dhx_cal_data[0],"touchcancel",o),n(this._els.dhx_cal_data[0],"contextmenu",function(e){return u?(e&&e.preventDefault&&e.preventDefault(),(e||event).cancelBubble=!0,!1):void 0}),n(this._obj,e[1],function(e){if(!i(e)){var n;if(scheduler._pointerDragId=e.pointerId,d=c=!1,u=!0,scheduler._temp_touch_block=!0,!(n=l=t(e)))return void(c=!0);var s=new Date;if(!c&&!d&&250>s-f)return scheduler._click.dhx_cal_data(n),window.setTimeout(function(){n.type="dblclick",scheduler._on_dbl_click(n)},50),e.preventDefault&&e.preventDefault(),e.cancelBubble=!0,scheduler._block_next_stop=!0,!1;if(f=s,!c&&!d&&scheduler.config.touch_drag){var r=scheduler._locate_event(document.activeElement),o=scheduler._locate_event(n.target),p=a?scheduler._locate_event(a.target):null;if(r&&o&&r==o&&r!=p)return e.preventDefault&&e.preventDefault(),e.cancelBubble=!0,scheduler._ignore_next_click=!1,scheduler._click.dhx_cal_data(n),a=n,!1;h=setTimeout(function(){d=!0;var e=a.target,t=scheduler._getClassName(e);e&&-1!=t.indexOf("dhx_body")&&(e=e.previousSibling),scheduler._on_mouse_down(a,e),scheduler._drag_mode&&"create"!=scheduler._drag_mode&&scheduler.for_rendered(scheduler._drag_id,function(e,t){e.style.display="none",scheduler._rendered.splice(t,1)}),scheduler.config.touch_tip&&scheduler._show_global_tip(),scheduler.updateEvent(scheduler._drag_id)},scheduler.config.touch_drag),a=n}}}),n(this._els.dhx_cal_data[0],e[2],function(e){return i(e)?void 0:(d||s(a,l,200,100),d&&(scheduler._ignore_next_click=!0),o(e),scheduler._block_next_stop?(scheduler._block_next_stop=!1,e.preventDefault&&e.preventDefault(),e.cancelBubble=!0,!1):void 0)}),dhtmlxEvent(document.body,e[2],o)},scheduler._show_global_tip=function(){scheduler._hide_global_tip();var e=scheduler._global_tip=document.createElement("DIV");e.className="dhx_global_tip",scheduler._update_global_tip(1),document.body.appendChild(e)},scheduler._update_global_tip=function(e){var t=scheduler._global_tip;if(t){var i="";if(scheduler._drag_id&&!e){var n=scheduler.getEvent(scheduler._drag_id);n&&(i="<div>"+(n._timed?scheduler.templates.event_header(n.start_date,n.end_date,n):scheduler.templates.day_date(n.start_date,n.end_date,n))+"</div>")}"create"==scheduler._drag_mode||"new-size"==scheduler._drag_mode?t.innerHTML=(scheduler.locale.labels.drag_to_create||"Drag to create")+i:t.innerHTML=(scheduler.locale.labels.drag_to_move||"Drag to move")+i}},scheduler._hide_global_tip=function(){var e=scheduler._global_tip;e&&e.parentNode&&(e.parentNode.removeChild(e),scheduler._global_tip=0)},scheduler._dp_init=function(e){e._methods=["_set_event_text_style","","_dp_change_event_id","_dp_hook_delete"],this._dp_change_event_id=function(e,t){scheduler.getEvent(e)&&scheduler.changeEventId(e,t)},this._dp_hook_delete=function(t,i){return scheduler.getEvent(t)?(t!=i&&("true_deleted"==this.getUserData(t,e.action_param)&&this.setUserData(t,e.action_param,"updated"),this.changeEventId(t,i)),this.deleteEvent(i,!0)):void 0},this.attachEvent("onEventAdded",function(t){!this._loading&&this._validId(t)&&e.setUpdated(t,!0,"inserted")}),this.attachEvent("onConfirmedBeforeEventDelete",function(t){if(this._validId(t)){var i=e.getState(t);return"inserted"==i||this._new_event?(e.setUpdated(t,!1),!0):"deleted"!=i&&("true_deleted"==i||(e.setUpdated(t,!0,"deleted"),!1))}}),this.attachEvent("onEventChanged",function(t){!this._loading&&this._validId(t)&&e.setUpdated(t,!0,"updated")}),scheduler.attachEvent("onClearAll",function(){e._in_progress={},e._invalid={},e.updatedRows=[],e._waitMode=0}),e._objToJson=function(t,i,n){n=n||"",i=i||{};for(var s in t)0!==s.indexOf("_")&&(t[s]&&t[s].getUTCFullYear?i[n+s]=this.obj.templates.xml_format(t[s]):t[s]&&"object"==typeof t[s]?e._objToJson(t[s],i,n+s+"."):i[n+s]=t[s]);return i},e._getRowData=function(e){var t=this.obj.getEvent(e);return this._objToJson(t)},e._clearUpdateFlag=function(){},e.attachEvent("insertCallback",scheduler._update_callback),e.attachEvent("updateCallback",scheduler._update_callback),e.attachEvent("deleteCallback",function(e,t){this.obj.getEvent(t)?(this.obj.setUserData(t,this.action_param,"true_deleted"),this.obj.deleteEvent(t)):this.obj._add_rec_marker&&this.obj._update_callback(e,t)})},scheduler._validId=function(){return!0},scheduler.setUserData=function(e,t,i){if(e){var n=this.getEvent(e);n&&(n[t]=i)}else this._userdata[t]=i},scheduler.getUserData=function(e,t){if(e){var i=this.getEvent(e);return i?i[t]:null}return this._userdata[t]},scheduler._set_event_text_style=function(e,t){if(scheduler.getEvent(e)){this.for_rendered(e,function(e){e.style.cssText+=";"+t});var i=this.getEvent(e);i._text_style=t,this.event_updated(i)}},scheduler._update_callback=function(e){var t=scheduler._xmlNodeToJSON(e.firstChild);"none"==t.rec_type&&(t.rec_pattern="none"),t.text=t.text||t._tagvalue,t.start_date=scheduler.templates.xml_date(t.start_date),t.end_date=scheduler.templates.xml_date(t.end_date),scheduler.addEvent(t),scheduler._add_rec_marker&&scheduler.setCurrentView()},scheduler._skin_settings={fix_tab_position:[1,0],use_select_menu_space:[1,0],wide_form:[1,0],hour_size_px:[44,42],displayed_event_color:["#ff4a4a","ffc5ab"],displayed_event_text_color:["#ffef80","7e2727"]},scheduler._skin_xy={lightbox_additional_height:[90,50],nav_height:[59,22],bar_height:[24,20]},scheduler._configure=function(e,t,i){for(var n in t)"undefined"==typeof e[n]&&(e[n]=t[n][i])},scheduler._skin_init=function(){if(!scheduler.skin)for(var e=document.getElementsByTagName("link"),t=0;t<e.length;t++){var i=e[t].href.match("dhtmlxscheduler_([a-z]+).css");if(i){scheduler.skin=i[1];break}}var n=0;if(!scheduler.skin||"classic"!==scheduler.skin&&"glossy"!==scheduler.skin||(n=1),this._configure(scheduler.config,scheduler._skin_settings,n),this._configure(scheduler.xy,scheduler._skin_xy,n),"flat"===scheduler.skin&&(scheduler.xy.scale_height=35,scheduler.templates.hour_scale=function(e){var t=e.getMinutes();return t=10>t?"0"+t:t,"<span class='dhx_scale_h'>"+e.getHours()+"</span><span class='dhx_scale_m'>&nbsp;"+t+"</span>"}),!n){var s=scheduler.config.minicalendar;s&&(s.padding=14),scheduler.templates.event_bar_date=function(e){return"\u2022 <b>"+scheduler.templates.event_date(e)+"</b> "},scheduler.attachEvent("onTemplatesReady",function(){var e=scheduler.date.date_to_str("%d");scheduler.templates._old_month_day||(scheduler.templates._old_month_day=scheduler.templates.month_day);var t=scheduler.templates._old_month_day;if(scheduler.templates.month_day=function(i){if("month"==this._mode){var n=e(i);return 1==i.getDate()&&(n=scheduler.locale.date.month_full[i.getMonth()]+" "+n),+i==+scheduler.date.date_part(this._currentDate())&&(n=scheduler.locale.labels.dhx_cal_today_button+" "+n),n}return t.call(this,i)},scheduler.config.fix_tab_position){for(var i=scheduler._els.dhx_cal_navline[0].getElementsByTagName("div"),n=null,s=211,r=0;r<i.length;r++){var o=i[r],a=o.getAttribute("name");if(a)switch(o.style.right="auto",a){case"day_tab":o.style.left="14px",o.className+=" dhx_cal_tab_first";break;case"week_tab":o.style.left="75px";break;case"month_tab":o.style.left="136px",o.className+=" dhx_cal_tab_last";break;default:o.style.left=s+"px",o.className+=" dhx_cal_tab_standalone",s=s+14+o.offsetWidth}else 0===(o.className||"").indexOf("dhx_minical_icon")&&o.parentNode==scheduler._els.dhx_cal_navline[0]&&(n=o)}n&&(n.style.left=s+"px")}}),scheduler._skin_init=function(){}}},window.jQuery&&function(e){var t=[];e.fn.dhx_scheduler=function(i){if("string"!=typeof i){var n=[];return this.each(function(){if(this&&this.getAttribute&&!this.getAttribute("dhxscheduler")){for(var e in i)"data"!=e&&(scheduler.config[e]=i[e]);this.getElementsByTagName("div").length||(this.innerHTML='<div class="dhx_cal_navline"><div class="dhx_cal_prev_button">&nbsp;</div><div class="dhx_cal_next_button">&nbsp;</div><div class="dhx_cal_today_button"></div><div class="dhx_cal_date"></div><div class="dhx_cal_tab" name="day_tab" style="right:204px;"></div><div class="dhx_cal_tab" name="week_tab" style="right:140px;"></div><div class="dhx_cal_tab" name="month_tab" style="right:76px;"></div></div><div class="dhx_cal_header"></div><div class="dhx_cal_data"></div>',this.className+=" dhx_cal_container"),scheduler.init(this,scheduler.config.date,scheduler.config.mode),i.data&&scheduler.parse(i.data),n.push(scheduler)}}),1===n.length?n[0]:n}return t[i]?t[i].apply(this,[]):void e.error("Method "+i+" does not exist on jQuery.dhx_scheduler")}}(jQuery),function(){function e(e,t,i){t&&(e._date=t),i&&(e._mode=i)}var t=scheduler.setCurrentView,i=scheduler.updateView,n=null,s=null,r=function(t,r){var o=this;window.clearTimeout(s),window.clearTimeout(n),e(this,t,r),s=setTimeout(function(){o.callEvent("onBeforeViewChange",[o._mode,o._date,r||o._mode,t||o._date])&&(i.call(o,t,r),o.callEvent("onViewChange",[o._mode,o._date]),window.clearTimeout(n),s=0)},scheduler.config.delay_render)},o=function(t,r){var o=this,a=arguments;e(this,t,r),window.clearTimeout(n),n=setTimeout(function(){s||i.apply(o,a)},scheduler.config.delay_render)};scheduler.attachEvent("onSchedulerReady",function(){scheduler.config.delay_render?(scheduler.setCurrentView=r,scheduler.updateView=o):(scheduler.setCurrentView=t,scheduler.updateView=i)})}(),scheduler.form_blocks.combo={render:function(e){e.cached_options||(e.cached_options={});var t="";return t+="<div class='"+e.type+"' style='height:"+(e.height||20)+"px;' ></div>"},set_value:function(e,t,i,n){!function(){function t(){if(e._combo&&e._combo.DOMParent){var t=e._combo;t.unload?t.unload():t.destructor&&t.destructor(),t.DOMParent=t.DOMelem=null}}t();var i=scheduler.attachEvent("onAfterLightbox",function(){t(),scheduler.detachEvent(i)})}(),window.dhx_globalImgPath=n.image_path||"/",e._combo=new dhtmlXCombo(e,n.name,e.offsetWidth-8),n.onchange&&e._combo.attachEvent("onChange",n.onchange),n.options_height&&e._combo.setOptionHeight(n.options_height);var s=e._combo;if(s.enableFilteringMode(n.filtering,n.script_path||null,!!n.cache),n.script_path){var r=i[n.map_to];r?n.cached_options[r]?(s.addOption(r,n.cached_options[r]),s.disable(1),s.selectOption(0),s.disable(0)):dhtmlxAjax.get(n.script_path+"?id="+r+"&uid="+scheduler.uid(),function(e){var t=e.doXPath("//option")[0].childNodes[0].nodeValue;n.cached_options[r]=t,s.addOption(r,t),s.disable(1),s.selectOption(0),s.disable(0)}):s.setComboValue("")}else{for(var o=[],a=0;a<n.options.length;a++){var l=n.options[a],h=[l.key,l.label,l.css];o.push(h)}if(s.addOption(o),i[n.map_to]){var d=s.getIndexByValue(i[n.map_to]);s.selectOption(d)}}},get_value:function(e,t,i){var n=e._combo.getSelectedValue();return i.script_path&&(i.cached_options[n]=e._combo.getSelectedText()),n},focus:function(){}},scheduler.form_blocks.radio={render:function(e){var t="";t+="<div class='dhx_cal_ltext dhx_cal_radio' style='height:"+e.height+"px;' >";for(var i=0;i<e.options.length;i++){var n=scheduler.uid();t+="<input id='"+n+"' type='radio' name='"+e.name+"' value='"+e.options[i].key+"'><label for='"+n+"'> "+e.options[i].label+"</label>",e.vertical&&(t+="<br/>")}return t+="</div>"},set_value:function(e,t,i,n){for(var s=e.getElementsByTagName("input"),r=0;r<s.length;r++){s[r].checked=!1;var o=i[n.map_to]||t;s[r].value==o&&(s[r].checked=!0)}},get_value:function(e){for(var t=e.getElementsByTagName("input"),i=0;i<t.length;i++)if(t[i].checked)return t[i].value},focus:function(){}},scheduler.form_blocks.checkbox={render:function(e){return scheduler.config.wide_form?'<div class="dhx_cal_wide_checkbox" '+(e.height?"style='height:"+e.height+"px;'":"")+"></div>":""},set_value:function(e,t,i,n){e=document.getElementById(n.id);var s=scheduler.uid(),r="undefined"!=typeof n.checked_value?t==n.checked_value:!!t;e.className+=" dhx_cal_checkbox";var o="<input id='"+s+"' type='checkbox' value='true' name='"+n.name+"'"+(r?"checked='true'":"")+"'>",a="<label for='"+s+"'>"+(scheduler.locale.labels["section_"+n.name]||n.name)+"</label>";(scheduler.config.wide_form?(e.innerHTML=a,e.nextSibling.innerHTML=o):e.innerHTML=o+a,n.handler)&&(e.getElementsByTagName("input")[0].onclick=n.handler)},get_value:function(e,t,i){var n=(e=document.getElementById(i.id)).getElementsByTagName("input")[0];return n||(n=e.nextSibling.getElementsByTagName("input")[0]),n.checked?i.checked_value||!0:i.unchecked_value||!1},focus:function(){}},scheduler.config.limit_start=null,scheduler.config.limit_end=null,scheduler.config.limit_view=!1,scheduler.config.check_limits=!0,scheduler.config.mark_now=!0,scheduler.config.display_marked_timespans=!0,scheduler._temp_limit_scope=function(){function e(e,t,i,n,s){var r=scheduler,o=[],a={_props:"map_to",matrix:"y_property"};for(var l in a){var h=a[l];if(r[l])for(var d in r[l]){var c=r[l][d][h];e[c]&&(o=r._add_timespan_zones(o,scheduler._get_blocked_zones(t[d],e[c],i,n,s)))}}return o=r._add_timespan_zones(o,scheduler._get_blocked_zones(t,"global",i,n,s))}var t=null,i="dhx_time_block",n="default",s=function(e,t,i){return t instanceof Date&&i instanceof Date?(e.start_date=t,e.end_date=i):(e.days=t,e.zones=i),e},r=function(e,t,n){var r="object"==typeof e?e:{days:e};return r.type=i,r.css="",t&&(n&&(r.sections=n),r=s(r,e,t)),r};scheduler.blockTime=function(e,t,i){var n=r(e,t,i);return scheduler.addMarkedTimespan(n)},scheduler.unblockTime=function(e,t,i){var n=r(e,t=t||"fullday",i);return scheduler.deleteMarkedTimespan(n)},scheduler.attachEvent("onBeforeViewChange",function(e,t,i,n){function s(e,t){var i=scheduler.config.limit_start,n=scheduler.config.limit_end,s=scheduler.date.add(e,1,t);return e.valueOf()>n.valueOf()||s<=i.valueOf()}return!scheduler.config.limit_view||!s(n=n||t,i=i||e)||t.valueOf()==n.valueOf()||(setTimeout(function(){var e=s(t,i)?scheduler.config.limit_start:t;scheduler.setCurrentView(s(e,i)?null:e,i)},1),!1)}),scheduler.checkInMarkedTimespan=function(t,i,s){i=i||n;for(var r=!0,o=new Date(t.start_date.valueOf()),a=scheduler.date.add(o,1,"day"),l=scheduler._marked_timespans;o<t.end_date;o=scheduler.date.date_part(a),a=scheduler.date.add(o,1,"day")){var h=+scheduler.date.date_part(new Date(o)),d=e(t,l,o.getDay(),h,i);if(d)for(var c=0;c<d.length;c+=2){var u=scheduler._get_zone_minutes(o),f=t.end_date>a||t.end_date.getDate()!=o.getDate()?1440:scheduler._get_zone_minutes(t.end_date),p=d[c],_=d[c+1];if(p<f&&_>u&&!(r="function"==typeof s&&s(t,u,f,p,_)))break}}return!r};var o=scheduler.checkLimitViolation=function(e){if(!e)return!0;if(!scheduler.config.check_limits)return!0;var t=scheduler,n=t.config,s=[];if(e.rec_type)for(var r=scheduler.getRecDates(e),o=0;o<r.length;o++){var a=scheduler._copy_event(e);scheduler._lame_copy(a,r[o]),s.push(a)}else s=[e];for(var l=!0,h=0;h<s.length;h++){var d=!0;(a=s[h])._timed=scheduler.isOneDayEvent(a),(d=!n.limit_start||!n.limit_end||a.start_date.valueOf()>=n.limit_start.valueOf()&&a.end_date.valueOf()<=n.limit_end.valueOf())&&(d=!scheduler.checkInMarkedTimespan(a,i,function(e,i,n,s,r){var o=!0;return i<=r&&i>=s&&((1440==r||n<r)&&(o=!1),e._timed&&t._drag_id&&"new-size"==t._drag_mode?(e.start_date.setHours(0),e.start_date.setMinutes(r)):o=!1),(n>=s&&n<r||i<s&&n>r)&&(e._timed&&t._drag_id&&"new-size"==t._drag_mode?(e.end_date.setHours(0),e.end_date.setMinutes(s)):o=!1),o})),d||(d=t.checkEvent("onLimitViolation")?t.callEvent("onLimitViolation",[a.id,a]):d),l=l&&d}return l||(t._drag_id=null,t._drag_mode=null),l};scheduler._get_blocked_zones=function(e,t,i,n,s){var r=[];if(e&&e[t])for(var o=e[t],a=this._get_relevant_blocked_zones(i,n,o,s),l=0;l<a.length;l++)r=this._add_timespan_zones(r,a[l].zones);return r},scheduler._get_relevant_blocked_zones=function(e,t,i,n){return i[t]&&i[t][n]?i[t][n]:i[e]&&i[e][n]?i[e][n]:[]},scheduler.attachEvent("onMouseDown",function(e){return!(e==i)}),scheduler.attachEvent("onBeforeDrag",function(e){return!e||o(scheduler.getEvent(e))}),scheduler.attachEvent("onClick",function(e){return o(scheduler.getEvent(e))}),scheduler.attachEvent("onBeforeLightbox",function(e){var i=scheduler.getEvent(e);return t=[i.start_date,i.end_date],o(i)}),scheduler.attachEvent("onEventSave",function(e,t){if(!t.start_date||!t.end_date){var i=scheduler.getEvent(e);t.start_date=new Date(i.start_date),t.end_date=new Date(i.end_date)}if(t.rec_type){var n=scheduler._lame_clone(t);return scheduler._roll_back_dates(n),o(n)}return o(t)}),scheduler.attachEvent("onEventAdded",function(e){if(!e)return!0;var t=scheduler.getEvent(e);return!o(t)&&scheduler.config.limit_start&&scheduler.config.limit_end&&(t.start_date<scheduler.config.limit_start&&(t.start_date=new Date(scheduler.config.limit_start)),t.start_date.valueOf()>=scheduler.config.limit_end.valueOf()&&(t.start_date=this.date.add(scheduler.config.limit_end,-1,"day")),t.end_date<scheduler.config.limit_start&&(t.end_date=new Date(scheduler.config.limit_start)),t.end_date.valueOf()>=scheduler.config.limit_end.valueOf()&&(t.end_date=this.date.add(scheduler.config.limit_end,-1,"day")),t.start_date.valueOf()>=t.end_date.valueOf()&&(t.end_date=this.date.add(t.start_date,this.config.event_duration||this.config.time_step,"minute")),t._timed=this.isOneDayEvent(t)),!0}),scheduler.attachEvent("onEventChanged",function(e){if(!e)return!0;var i=scheduler.getEvent(e);if(!o(i)){if(!t)return!1;i.start_date=t[0],i.end_date=t[1],i._timed=this.isOneDayEvent(i)}return!0}),scheduler.attachEvent("onBeforeEventChanged",function(e){return o(e)}),scheduler.attachEvent("onBeforeEventCreated",function(e){var t=scheduler.getActionData(e).date,i={_timed:!0,start_date:t,end_date:scheduler.date.add(t,scheduler.config.time_step,"minute")};return o(i)}),scheduler.attachEvent("onViewChange",function(){scheduler._mark_now()}),scheduler.attachEvent("onSchedulerResize",function(){return window.setTimeout(function(){scheduler._mark_now()},1),!0}),scheduler.attachEvent("onTemplatesReady",function(){scheduler._mark_now_timer=window.setInterval(function(){scheduler._is_initialized()&&scheduler._mark_now()},6e4)}),scheduler._mark_now=function(e){var t="dhx_now_time";this._els[t]||(this._els[t]=[]);var i=scheduler._currentDate(),n=this.config;if(scheduler._remove_mark_now(),!e&&n.mark_now&&i<this._max_date&&i>this._min_date&&i.getHours()>=n.first_hour&&i.getHours()<n.last_hour){var s=this.locate_holder_day(i);this._els[t]=scheduler._append_mark_now(s,i)}},scheduler._append_mark_now=function(e,t){var i="dhx_now_time",n=scheduler._get_zone_minutes(t),s={zones:[n,n+1],css:i,type:i};if(!this._table_view){if(this._props&&this._props[this._mode]){var r,o,a=this._props[this._mode],l=a.size||a.options.length;a.days>1?(r=e,o=e+l):o=(r=0)+l;for(var h=[],d=r;d<o;d++){var c=d;s.days=c;var u=scheduler._render_marked_timespan(s,null,c)[0];h.push(u)}return h}return s.days=e,scheduler._render_marked_timespan(s,null,e)}if("month"==this._mode)return s.days=+scheduler.date.date_part(t),scheduler._render_marked_timespan(s,null,null)},scheduler._remove_mark_now=function(){for(var e="dhx_now_time",t=this._els[e],i=0;i<t.length;i++){var n=t[i],s=n.parentNode;s&&s.removeChild(n)}this._els[e]=[]},scheduler._marked_timespans={global:{}},scheduler._get_zone_minutes=function(e){return 60*e.getHours()+e.getMinutes()},scheduler._prepare_timespan_options=function(e){var t=[],i=[];if("fullweek"==e.days&&(e.days=[0,1,2,3,4,5,6]),e.days instanceof Array){for(var s=e.days.slice(),r=0;r<s.length;r++){var o=scheduler._lame_clone(e);o.days=s[r],t.push.apply(t,scheduler._prepare_timespan_options(o))}return t}if(!e||!(e.start_date&&e.end_date&&e.end_date>e.start_date||e.days!==undefined&&e.zones)&&!e.type)return t;var a=0,l=1440;"fullday"==e.zones&&(e.zones=[a,l]),e.zones&&e.invert_zones&&(e.zones=scheduler.invertZones(e.zones)),e.id=scheduler.uid(),e.css=e.css||"",e.type=e.type||n;var h=e.sections;if(h){for(var d in h)if(h.hasOwnProperty(d)){var c=h[d];c instanceof Array||(c=[c]);for(r=0;r<c.length;r++){(v=scheduler._lame_copy({},e)).sections={},v.sections[d]=c[r],i.push(v)}}}else i.push(e);for(var u=0;u<i.length;u++){var f=i[u],p=f.start_date,_=f.end_date;if(p&&_)for(var g=scheduler.date.date_part(new Date(p)),m=scheduler.date.add(g,1,"day");g<_;){var v;delete(v=scheduler._lame_copy({},f)).start_date,delete v.end_date,v.days=g.valueOf();var y=p>g?scheduler._get_zone_minutes(p):a,b=_>m||_.getDate()!=g.getDate()?l:scheduler._get_zone_minutes(_);v.zones=[y,b],t.push(v),g=m,m=scheduler.date.add(m,1,"day")}else f.days instanceof Date&&(f.days=scheduler.date.date_part(f.days).valueOf()),f.zones=e.zones.slice(),t.push(f)}return t},scheduler._get_dates_by_index=function(e,t,i){var n=[];t=scheduler.date.date_part(new Date(t||scheduler._min_date)),i=new Date(i||scheduler._max_date);for(var s=t.getDay(),r=e-s>=0?e-s:7-t.getDay()+e,o=scheduler.date.add(t,r,"day");o<i;o=scheduler.date.add(o,1,"week"))n.push(o);return n},scheduler._get_css_classes_by_config=function(e){var t=[];return e.type==i&&(t.push(i),e.css&&t.push(i+"_reset")),t.push("dhx_marked_timespan",e.css),t.join(" ")},scheduler._get_block_by_config=function(e){var t=document.createElement("DIV");return e.html&&("string"==typeof e.html?t.innerHTML=e.html:t.appendChild(e.html)),t},scheduler._render_marked_timespan=function(e,t,i){var n=[],s=scheduler.config,r=this._min_date,o=this._max_date,a=!1;if(!s.display_marked_timespans)return n;if(!i&&0!==i){if(e.days<7)i=e.days;else{var l=new Date(e.days);if(a=+l,!(+o>+l&&+r<=+l))return n;i=l.getDay()}var h=r.getDay();h>i?i=7-(h-i):i-=h}var d=e.zones,c=scheduler._get_css_classes_by_config(e);if(scheduler._table_view&&"month"==scheduler._mode){var u=[],f=[];if(t)u.push(t),f.push(i);else{f=a?[a]:scheduler._get_dates_by_index(i);for(var p=0;p<f.length;p++)u.push(this._scales[f[p]])}for(p=0;p<u.length;p++){t=u[p],i=f[p];var _=Math.floor((this._correct_shift(i,1)-r.valueOf())/(864e5*this._cols.length)),g=this.locate_holder_day(i,!1)%this._cols.length;if(!this._ignores[g]){var m=scheduler._get_block_by_config(e),v=Math.max(t.offsetHeight-1,0),y=Math.max(t.offsetWidth-1,0),b=this._colsS[g],x=this._colsS.heights[_]+(this._colsS.height?this.xy.month_scale_height+2:2)-1;m.className=c,m.style.top=x+"px",m.style.lineHeight=m.style.height=v+"px";for(var w=0;w<d.length;w+=2){var k=d[p];if((T=d[p+1])<=k)return[];(S=m.cloneNode(!0)).style.left=b+Math.round(k/1440*y)+"px",S.style.width=Math.round((T-k)/1440*y)+"px",t.appendChild(S),n.push(S)}}}}else{var E=i;if(this._ignores[this.locate_holder_day(i,!1)])return n;if(this._props&&this._props[this._mode]&&e.sections&&e.sections[this._mode]){var C=this._props[this._mode];E=C.order[e.sections[this._mode]];var D=C.order[e.sections[this._mode]];if(C.days>1)E=E*(C.size||C.options.length)+D;else E=D,C.size&&E>C.position+C.size&&(E=0)}t=t||scheduler.locate_holder(E);for(p=0;p<d.length;p+=2){var T,S;k=Math.max(d[p],60*s.first_hour);if((T=Math.min(d[p+1],60*s.last_hour))<=k){if(p+2<d.length)continue;return[]}(S=scheduler._get_block_by_config(e)).className=c;var A=24*this.config.hour_size_px+1,O=36e5;S.style.top=Math.round((60*k*1e3-this.config.first_hour*O)*this.config.hour_size_px/O)%A+"px",S.style.lineHeight=S.style.height=Math.max(Math.round(60*(T-k)*1e3*this.config.hour_size_px/O)%A,1)+"px",t.appendChild(S),n.push(S)}}return n},scheduler._mark_timespans=function(){var e=this._els.dhx_cal_data[0],t=[];if(scheduler._table_view&&"month"==scheduler._mode)for(var i in this._scales){var n=new Date(+i);t.push.apply(t,scheduler._on_scale_add_marker(this._scales[i],n))}else{n=new Date(scheduler._min_date);for(var s=0,r=e.childNodes.length;s<r;s++){var o=e.childNodes[s];o.firstChild&&scheduler._getClassName(o.firstChild).indexOf("dhx_scale_hour")>-1||(t.push.apply(t,scheduler._on_scale_add_marker(o,n)),n=scheduler.date.add(n,1,"day"))}}return t},scheduler.markTimespan=function(e){var t=!1;this._els.dhx_cal_data||(scheduler.get_elements(),t=!0);var i=scheduler._marked_timespans_ids,n=scheduler._marked_timespans_types,s=scheduler._marked_timespans;scheduler.deleteMarkedTimespan(),scheduler.addMarkedTimespan(e);var r=scheduler._mark_timespans();return t&&(scheduler._els=[]),scheduler._marked_timespans_ids=i,scheduler._marked_timespans_types=n,scheduler._marked_timespans=s,r},scheduler.unmarkTimespan=function(e){if(e)for(var t=0;t<e.length;t++){var i=e[t];i.parentNode&&i.parentNode.removeChild(i)}},scheduler._addMarkerTimespanConfig=function(e){var t="global",i=scheduler._marked_timespans,n=e.id,s=scheduler._marked_timespans_ids;s[n]||(s[n]=[]);var r=e.days,o=e.sections,a=e.type;if(e.id=n,o){for(var l in o)if(o.hasOwnProperty(l)){i[l]||(i[l]={});var h=o[l],d=i[l];d[h]||(d[h]={}),d[h][r]||(d[h][r]={}),d[h][r][a]||(d[h][r][a]=[],scheduler._marked_timespans_types||(scheduler._marked_timespans_types={}),scheduler._marked_timespans_types[a]||(scheduler._marked_timespans_types[a]=!0));var c=d[h][r][a];e._array=c,c.push(e),s[n].push(e)}}else{i[t][r]||(i[t][r]={}),i[t][r][a]||(i[t][r][a]=[]),scheduler._marked_timespans_types||(scheduler._marked_timespans_types={}),scheduler._marked_timespans_types[a]||(scheduler._marked_timespans_types[a]=!0);c=i[t][r][a];e._array=c,c.push(e),s[n].push(e)}},scheduler._marked_timespans_ids={},scheduler.addMarkedTimespan=function(e){var t=scheduler._prepare_timespan_options(e);if(t.length){for(var i=t[0].id,n=0;n<t.length;n++)scheduler._addMarkerTimespanConfig(t[n]);return i}},scheduler._add_timespan_zones=function(e,t){var i=e.slice();if(t=t.slice(),!i.length)return t;for(var n=0;n<i.length;n+=2)for(var s=i[n],r=i[n+1],o=n+2==i.length,a=0;a<t.length;a+=2){var l=t[a],h=t[a+1];if(h>r&&l<=r||l<s&&h>=s)i[n]=Math.min(s,l),i[n+1]=Math.max(r,h),n-=2;else{if(!o)continue;var d=s>l?0:2;i.splice(n+d,0,l,h)}t.splice(a--,2);break}return i},scheduler._subtract_timespan_zones=function(e,t){for(var i=e.slice(),n=0;n<i.length;n+=2)for(var s=i[n],r=i[n+1],o=0;o<t.length;o+=2){var a=t[o],l=t[o+1];if(l>s&&a<r){var h=!1;s>=a&&r<=l&&i.splice(n,2),s<a&&(i.splice(n,2,s,a),h=!0),r>l&&i.splice(h?n+2:n,h?0:2,l,r),n-=2;break}}return i},scheduler.invertZones=function(e){return scheduler._subtract_timespan_zones([0,1440],e.slice())},scheduler._delete_marked_timespan_by_id=function(e){var t=scheduler._marked_timespans_ids[e];if(t)for(var i=0;i<t.length;i++)for(var n=t[i],s=n._array,r=0;r<s.length;r++)if(s[r]==n){s.splice(r,1);break}},scheduler._delete_marked_timespan_by_config=function(e){var t,i=scheduler._marked_timespans,s=e.sections,r=e.days,o=e.type||n;if(s){for(var a in s)if(s.hasOwnProperty(a)&&i[a]){var l=s[a];i[a][l]&&(t=i[a][l])}}else t=i.global;if(t)if(r!==undefined)t[r]&&t[r][o]&&(scheduler._addMarkerTimespanConfig(e),scheduler._delete_marked_timespans_list(t[r][o],e));else for(var h in t)if(t[h][o]){var d=scheduler._lame_clone(e);e.days=h,scheduler._addMarkerTimespanConfig(d),scheduler._delete_marked_timespans_list(t[h][o],e)}},scheduler._delete_marked_timespans_list=function(e,t){for(var i=0;i<e.length;i++){var n=e[i],s=scheduler._subtract_timespan_zones(n.zones,t.zones);if(s.length)n.zones=s;else{e.splice(i,1),i--;for(var r=scheduler._marked_timespans_ids[n.id],o=0;o<r.length;o++)if(r[o]==n){r.splice(o,1);break}}}},scheduler.deleteMarkedTimespan=function(e){if(arguments.length||(scheduler._marked_timespans={global:{}},scheduler._marked_timespans_ids={},scheduler._marked_timespans_types={}),"object"!=typeof e)scheduler._delete_marked_timespan_by_id(e);else{e.start_date&&e.end_date||(e.days!==undefined||e.type||(e.days="fullweek"),e.zones||(e.zones="fullday"));var t=[];if(e.type)t.push(e.type);else for(var i in scheduler._marked_timespans_types)t.push(i);for(var n=scheduler._prepare_timespan_options(e),s=0;s<n.length;s++)for(var r=n[s],o=0;o<t.length;o++){var a=scheduler._lame_clone(r);a.type=t[o],scheduler._delete_marked_timespan_by_config(a)}}},scheduler._get_types_to_render=function(e,t){var i=e?scheduler._lame_copy({},e):{};for(var n in t||{})t.hasOwnProperty(n)&&(i[n]=t[n]);return i},scheduler._get_configs_to_render=function(e){var t=[];for(var i in e)e.hasOwnProperty(i)&&t.push.apply(t,e[i]);return t},scheduler._on_scale_add_marker=function(e,t){if(!scheduler._table_view||"month"==scheduler._mode){var i=t.getDay(),n=t.valueOf(),s=this._mode,r=scheduler._marked_timespans,o=[],a=[];if(this._props&&this._props[s]){var l=this._props[s],h=l.options,d=h[scheduler._get_unit_index(l,t)];if(l.days>1){var c=864e5,u=Math.round((t-scheduler._min_date)/c);t=scheduler.date.add(scheduler._min_date,Math.floor(u/h.length),"day"),t=scheduler.date.date_part(t)}else t=scheduler.date.date_part(new Date(this._date));if(i=t.getDay(),n=t.valueOf(),r[s]&&r[s][d.key]){var f=r[s][d.key],p=scheduler._get_types_to_render(f[i],f[n]);o.push.apply(o,scheduler._get_configs_to_render(p))}}var _=r.global,g=_[n]||_[i];o.push.apply(o,scheduler._get_configs_to_render(g));for(var m=0;m<o.length;m++)a.push.apply(a,scheduler._render_marked_timespan(o[m],e,t));return a}},scheduler.attachEvent("onScaleAdd",function(){scheduler._on_scale_add_marker.apply(scheduler,arguments)}),scheduler.dblclick_dhx_marked_timespan=function(e,t){scheduler.callEvent("onScaleDblClick",[scheduler.getActionData(e).date,t,e]),scheduler.config.dblclick_create&&scheduler.addEventNow(scheduler.getActionData(e).date,null,e)}},scheduler._temp_limit_scope(),scheduler.attachEvent("onTemplatesReady",function(){function e(e,t,i,n){for(var s=t.getElementsByTagName(e),r=i.getElementsByTagName(e),o=r.length-1;o>=0;o--){i=r[o];if(n){var a=document.createElement("SPAN");a.className="dhx_text_disabled",a.innerHTML=n(s[o]),i.parentNode.insertBefore(a,i),i.parentNode.removeChild(i)}else i.disabled=!0,t.checked&&(i.checked=!0)}}var t=scheduler.config.lightbox.sections.slice(),i=scheduler.config.buttons_left.slice(),n=scheduler.config.buttons_right.slice();scheduler.attachEvent("onBeforeLightbox",function(e){if(this.config.readonly_form||this.getEvent(e).readonly){this.config.readonly_active=!0;for(var s=0;s<this.config.lightbox.sections.length;s++)this.config.lightbox.sections[s].focus=!1}else this.config.readonly_active=!1,scheduler.config.lightbox.sections=t.slice(),scheduler.config.buttons_left=i.slice(),scheduler.config.buttons_right=n.slice();var r=this.config.lightbox.sections;if(this.config.readonly_active){
for(s=0;s<r.length;s++)if("recurring"==r[s].type){this.config.readonly_active&&r.splice(s,1);break}var o=["dhx_delete_btn","dhx_save_btn"],a=[scheduler.config.buttons_left,scheduler.config.buttons_right];for(s=0;s<o.length;s++)for(var l=o[s],h=0;h<a.length;h++){for(var d=a[h],c=-1,u=0;u<d.length;u++)if(d[u]==l){c=u;break}-1!=c&&d.splice(c,1)}}return this.resetLightbox(),!0});var s=scheduler._fill_lightbox;scheduler._fill_lightbox=function(){var t=this.getLightbox();this.config.readonly_active&&(t.style.visibility="hidden",t.style.display="block");var i=s.apply(this,arguments);if(this.config.readonly_active&&(t.style.visibility="",t.style.display="none"),this.config.readonly_active){var n=this.getLightbox(),o=this._lightbox_r=n.cloneNode(!0);o.id=scheduler.uid(),e("textarea",n,o,function(e){return e.value}),e("input",n,o,!1),e("select",n,o,function(e){return e.options.length?e.options[Math.max(e.selectedIndex||0,0)].text:""}),n.parentNode.insertBefore(o,n),r.call(this,o),scheduler._lightbox&&scheduler._lightbox.parentNode.removeChild(scheduler._lightbox),this._lightbox=o,scheduler.config.drag_lightbox&&(o.firstChild.onmousedown=scheduler._ready_to_dnd),this.setLightboxSize(),o.onclick=function(e){var t=e?e.target:event.srcElement;if(scheduler._getClassName(t)||(t=t.previousSibling),t&&t.className)switch(scheduler._getClassName(t)){case"dhx_cancel_btn":scheduler.callEvent("onEventCancel",[scheduler._lightbox_id]),scheduler._edit_stop_event(scheduler.getEvent(scheduler._lightbox_id),!1),scheduler.hide_lightbox()}},o.onkeydown=function(e){var t=e||window.event,i=e.target||e.srcElement,n=i.querySelector("[dhx_button]");switch(n||(n=i.parentNode.querySelector(".dhx_custom_button, .dhx_readonly")),(e||t).keyCode){case 32:if((e||t).shiftKey)return;n&&n.click&&n.click();break;case scheduler.keys.edit_cancel:scheduler.cancel_lightbox()}}}return i};var r=scheduler.showCover;scheduler.showCover=function(){this.config.readonly_active||r.apply(this,arguments)};var o=scheduler.hide_lightbox;scheduler.hide_lightbox=function(){return this._lightbox_r&&(this._lightbox_r.parentNode.removeChild(this._lightbox_r),this._lightbox_r=this._lightbox=null),o.apply(this,arguments)}}),scheduler.form_blocks.recurring={render:function(){return scheduler.__recurring_template},_ds:{},_init_set_value:function(e,t,i){function n(e){for(var t=0;t<e.length;t++){var i=e[t];"checkbox"==i.type||"radio"==i.type?(c[i.name]||(c[i.name]=[]),c[i.name].push(i)):c[i.name]=i}}function s(e){for(var t=c[e],i=0;i<t.length;i++)if(t[i].checked)return t[i].value}function r(){u("dhx_repeat_day").style.display="none",u("dhx_repeat_week").style.display="none",u("dhx_repeat_month").style.display="none",u("dhx_repeat_year").style.display="none",u("dhx_repeat_"+this.value).style.display="block"}function o(e){var t=[s("repeat")];for(f[t[0]](t,e);t.length<5;)t.push("");var i="";if(c.end[0].checked)e.end=new Date(9999,1,1),i="no";else if(c.end[2].checked)e.end=l(c.date_of_end.value);else{scheduler.transpose_type(t.join("_"));i=Math.max(1,c.occurences_count.value);var n="week"==t[0]&&t[4]&&-1==t[4].toString().indexOf(scheduler.config.start_on_monday?1:0)?1:0;e.end=scheduler.date.add(new Date(e.start),i+n,t.join("_"))}return t.join("_")+"#"+i}function a(e,t){var i=e.split("#");e=i[0].split("_");p[e[0]](e,t);var n=c.repeat[{day:0,week:1,month:2,year:3}[e[0]]];switch(i[1]){case"no":c.end[0].checked=!0;break;case"":c.end[2].checked=!0,c.date_of_end.value=h(t.end);break;default:c.end[1].checked=!0,c.occurences_count.value=i[1]}n.checked=!0,n.onclick()}scheduler.form_blocks.recurring._ds={start:i.start_date,end:i._end_date};var l=scheduler.date.str_to_date(scheduler.config.repeat_date),h=scheduler.date.date_to_str(scheduler.config.repeat_date),d=e.getElementsByTagName("FORM")[0],c=[];n(d.getElementsByTagName("INPUT")),n(d.getElementsByTagName("SELECT"));var u=function(e){return document.getElementById(e)};scheduler.form_blocks.recurring._get_repeat_code=o;var f={month:function(e,t){"d"==s("month_type")?(e.push(Math.max(1,c.month_count.value)),t.start.setDate(c.month_day.value)):(e.push(Math.max(1,c.month_count2.value)),e.push(c.month_day2.value),e.push(Math.max(1,c.month_week2.value)),t.start.setDate(1)),t._start=!0},week:function(e,t){e.push(Math.max(1,c.week_count.value)),e.push(""),e.push("");for(var i=[],n=c.week_day,s=0;s<n.length;s++)n[s].checked&&i.push(n[s].value);i.length||i.push(t.start.getDay()),t.start=scheduler.date.week_start(t.start),t._start=!0,e.push(i.sort().join(","))},day:function(e){"d"==s("day_type")?e.push(Math.max(1,c.day_count.value)):(e.push("week"),e.push(1),e.push(""),e.push(""),e.push("1,2,3,4,5"),e.splice(0,1))},year:function(e,t){"d"==s("year_type")?(e.push("1"),t.start.setMonth(0),t.start.setDate(c.year_day.value),t.start.setMonth(c.year_month.value)):(e.push("1"),e.push(c.year_day2.value),e.push(c.year_week2.value),t.start.setDate(1),t.start.setMonth(c.year_month2.value)),t._start=!0}},p={week:function(e){c.week_count.value=e[1];for(var t=c.week_day,i=e[4].split(","),n={},s=0;s<i.length;s++)n[i[s]]=!0;for(s=0;s<t.length;s++)t[s].checked=!!n[t[s].value]},month:function(e,t){""==e[2]?(c.month_type[0].checked=!0,c.month_count.value=e[1],c.month_day.value=t.start.getDate()):(c.month_type[1].checked=!0,c.month_count2.value=e[1],c.month_week2.value=e[3],c.month_day2.value=e[2])},day:function(e){c.day_type[0].checked=!0,c.day_count.value=e[1]},year:function(e,t){""==e[2]?(c.year_type[0].checked=!0,c.year_day.value=t.start.getDate(),c.year_month.value=t.start.getMonth()):(c.year_type[1].checked=!0,c.year_week2.value=e[3],c.year_day2.value=e[2],c.year_month2.value=t.start.getMonth())}};scheduler.form_blocks.recurring._set_repeat_code=a;for(var _=0;_<d.elements.length;_++){var g=d.elements[_];switch(g.name){case"repeat":g.onclick=r}}scheduler._lightbox._rec_init_done=!0},set_value:function(e,t,i){var n=scheduler.form_blocks.recurring;scheduler._lightbox._rec_init_done||n._init_set_value(e,t,i),e.open=!i.rec_type,e.blocked=!(!i.event_pid||"0"==i.event_pid);var s=n._ds;s.start=i.start_date,s.end=i._end_date,n.button_click(0,e.previousSibling.firstChild.firstChild,e,e),t&&n._set_repeat_code(t,s)},get_value:function(e,t){if(e.open){var i=scheduler.form_blocks.recurring._ds;t.rec_type=scheduler.form_blocks.recurring._get_repeat_code(i),i._start?(t.start_date=new Date(i.start),t._start_date=new Date(i.start),i._start=!1):t._start_date=null,t._end_date=t.end_date=i.end,t.rec_pattern=t.rec_type.split("#")[0]}else t.rec_type=t.rec_pattern="",t._end_date=t.end_date;return t.rec_type},focus:function(){},button_click:function(e,t,i,n){n.open||n.blocked?(n.style.height="0px",t.style.backgroundPosition="-5px 20px",t.nextSibling.innerHTML=scheduler.locale.labels.button_recurring):(n.style.height="115px",t.style.backgroundPosition="-5px 0px",t.nextSibling.innerHTML=scheduler.locale.labels.button_recurring_open),n.open=!n.open,scheduler.setLightboxSize()}},scheduler._rec_markers={},scheduler._rec_markers_pull={},scheduler._add_rec_marker=function(e,t){e._pid_time=t,this._rec_markers[e.id]=e,this._rec_markers_pull[e.event_pid]||(this._rec_markers_pull[e.event_pid]={}),this._rec_markers_pull[e.event_pid][t]=e},scheduler._get_rec_marker=function(e,t){var i=this._rec_markers_pull[t];return i?i[e]:null},scheduler._get_rec_markers=function(e){return this._rec_markers_pull[e]||[]},scheduler._rec_temp=[],scheduler.attachEvent("onEventLoading",function(e){return 0!=e.event_pid&&scheduler._add_rec_marker(e,1e3*e.event_length),e.rec_type&&(e.rec_pattern=e.rec_type.split("#")[0]),!0}),scheduler.attachEvent("onEventIdChange",function(e,t){if(!this._ignore_call){this._ignore_call=!0;for(var i=0;i<this._rec_temp.length;i++){var n=this._rec_temp[i];n.event_pid==e&&(n.event_pid=t,this.changeEventId(n.id,t+"#"+n.id.split("#")[1]))}delete this._ignore_call}}),scheduler.attachEvent("onBeforeEventDelete",function(e){var t=this.getEvent(e);if(-1!=e.toString().indexOf("#")||t.event_pid&&"0"!=t.event_pid&&"none"!=t.rec_type){e=e.split("#");var i=this.uid(),n=e[1]?e[1]:t._pid_time/1e3,s=this._copy_event(t);s.id=i,s.event_pid=t.event_pid||e[0],s.event_length=n,s.rec_type=s.rec_pattern="none",this.addEvent(s),this._add_rec_marker(s,1e3*n)}else{t.rec_type&&this._roll_back_dates(t);var r,o=this._get_rec_markers(e);for(r in o)o.hasOwnProperty(r)&&(e=o[r].id,this.getEvent(e)&&this.deleteEvent(e,!0))}return!0}),scheduler.attachEvent("onEventChanged",function(e){if(this._loading)return!0;var t=this.getEvent(e);if(-1!=e.toString().indexOf("#")){e=e.split("#");var i=this.uid();this._not_render=!0;var n=this._copy_event(t);n.id=i,n.event_pid=e[0],n.event_length=e[1],n.rec_type=n.rec_pattern="",this.addEvent(n),this._not_render=!1,this._add_rec_marker(n,1e3*e[1])}else{t.rec_type&&this._roll_back_dates(t);var s,r=this._get_rec_markers(e);for(s in r)r.hasOwnProperty(s)&&(delete this._rec_markers[r[s].id],this.deleteEvent(r[s].id,!0));delete this._rec_markers_pull[e];for(var o=!1,a=0;a<this._rendered.length;a++)this._rendered[a].getAttribute("event_id")==e&&(o=!0);o||(this._select_id=null)}return!0}),scheduler.attachEvent("onEventAdded",function(e){if(!this._loading){var t=this.getEvent(e);t.rec_type&&!t.event_length&&this._roll_back_dates(t)}return!0}),scheduler.attachEvent("onEventSave",function(e,t){return!this.getEvent(e).rec_type&&t.rec_type&&-1==(e+"").indexOf("#")&&(this._select_id=null),!0}),scheduler.attachEvent("onEventCreated",function(e){var t=this.getEvent(e);return t.rec_type||(t.rec_type=t.rec_pattern=t.event_length=t.event_pid=""),!0}),scheduler.attachEvent("onEventCancel",function(e){var t=this.getEvent(e);t.rec_type&&(this._roll_back_dates(t),this.render_view_data())}),scheduler._roll_back_dates=function(e){e.event_length=(e.end_date.valueOf()-e.start_date.valueOf())/1e3,e.end_date=e._end_date,e._start_date&&(e.start_date.setMonth(0),e.start_date.setDate(e._start_date.getDate()),e.start_date.setMonth(e._start_date.getMonth()),e.start_date.setFullYear(e._start_date.getFullYear()))},scheduler.validId=function(e){return-1==e.toString().indexOf("#")},scheduler.showLightbox_rec=scheduler.showLightbox,scheduler.showLightbox=function(e){var t=this.getEvent(e).event_pid;return-1!=e.toString().indexOf("#")&&(t=e.split("#")[0]),t&&0!=t&&this.locale.labels.confirm_recurring&&confirm(this.locale.labels.confirm_recurring)?((t=this.getEvent(t))._end_date=t.end_date,t.end_date=new Date(t.start_date.valueOf()+1e3*t.event_length),this.showLightbox_rec(t.id)):this.showLightbox_rec(e)},scheduler.get_visible_events_rec=scheduler.get_visible_events,scheduler.get_visible_events=function(){for(var e=0;e<this._rec_temp.length;e++)delete this._events[this._rec_temp[e].id];this._rec_temp=[];var t=this.get_visible_events_rec(),i=[];for(e=0;e<t.length;e++)t[e].rec_type?"none"!=t[e].rec_pattern&&this.repeat_date(t[e],i):i.push(t[e]);return i},function(){var e=scheduler.is_one_day_event;scheduler.is_one_day_event=function(t){return!!t.rec_type||e.call(this,t)}}(),scheduler.transponse_size={day:1,week:7,month:1,year:12},scheduler.date.day_week=function(e,t,i){e.setDate(1);var n=1*t+(i=7*(i-1))-e.getDay()+1;e.setDate(n<=i?n+7:n)},scheduler.transpose_day_week=function(e,t,i,n,s){for(var r=(e.getDay()||(scheduler.config.start_on_monday?7:0))-i,o=0;o<t.length;o++)if(t[o]>r)return e.setDate(e.getDate()+1*t[o]-r-(n?i:s));this.transpose_day_week(e,t,i+n,null,i)},scheduler.transpose_type=function(e){var t="transpose_"+e;if(!this.date[t]){var i=e.split("_"),n=864e5,s="add_"+e,r=this.transponse_size[i[0]]*i[1];if("day"==i[0]||"week"==i[0]){var o=null;if(i[4]&&(o=i[4].split(","),scheduler.config.start_on_monday)){for(var a=0;a<o.length;a++)o[a]=1*o[a]||7;o.sort()}this.date[t]=function(e,t){var i=Math.floor((t.valueOf()-e.valueOf())/(n*r));i>0&&e.setDate(e.getDate()+i*r),o&&scheduler.transpose_day_week(e,o,1,r)},this.date[s]=function(e,t){var i=new Date(e.valueOf());if(o)for(var n=0;n<t;n++)scheduler.transpose_day_week(i,o,0,r);else i.setDate(i.getDate()+t*r);return i}}else"month"!=i[0]&&"year"!=i[0]||(this.date[t]=function(e,t){var n=Math.ceil((12*t.getFullYear()+1*t.getMonth()-(12*e.getFullYear()+1*e.getMonth()))/r);n>=0&&e.setMonth(e.getMonth()+n*r),i[3]&&scheduler.date.day_week(e,i[2],i[3])},this.date[s]=function(e,t){var n=new Date(e.valueOf());return n.setMonth(n.getMonth()+t*r),i[3]&&scheduler.date.day_week(n,i[2],i[3]),n})}},scheduler.repeat_date=function(e,t,i,n,s){n=n||this._min_date,s=s||this._max_date;var r=new Date(e.start_date.valueOf());for(!e.rec_pattern&&e.rec_type&&(e.rec_pattern=e.rec_type.split("#")[0]),this.transpose_type(e.rec_pattern),scheduler.date["transpose_"+e.rec_pattern](r,n);r<e.start_date||r.valueOf()+1e3*e.event_length<=n.valueOf();)r=this.date.add(r,1,e.rec_pattern);for(;r<s&&r<e.end_date;){var o=this._get_rec_marker(r.valueOf(),e.id);if(o)i&&t.push(o);else{var a=new Date(r.valueOf()+1e3*e.event_length),l=this._copy_event(e);l.text=e.text,l.start_date=r,l.event_pid=e.id,l.id=e.id+"#"+Math.ceil(r.valueOf()/1e3),l.end_date=a;var h=l.start_date.getTimezoneOffset()-l.end_date.getTimezoneOffset();if(h&&(l.end_date=h>0?new Date(r.valueOf()+1e3*e.event_length-6e4*h):new Date(l.end_date.valueOf()+6e4*h)),l._timed=this.is_one_day_event(l),!l._timed&&!this._table_view&&!this.config.multi_day)break;t.push(l),i||(this._events[l.id]=l,this._rec_temp.push(l))}r=this.date.add(r,1,e.rec_pattern)}},scheduler.getRecDates=function(e,t){var i="object"==typeof e?e:scheduler.getEvent(e),n=0,s=[],r=(t=t||1e3,new Date(i.start_date.valueOf())),o=new Date(r.valueOf());if(!i.rec_type)return[{start_date:i.start_date,end_date:i.end_date}];for(this.transpose_type(i.rec_pattern),scheduler.date["transpose_"+i.rec_pattern](r,o);r<i.start_date||r.valueOf()+1e3*i.event_length<=o.valueOf();)r=this.date.add(r,1,i.rec_pattern);for(;r<i.end_date;){var a=this._get_rec_marker(r.valueOf(),i.id),l=!0;if(a)"none"==a.rec_type?l=!1:s.push({start_date:a.start_date,end_date:a.end_date});else{var h=new Date(r.valueOf()+1e3*i.event_length),d=new Date(r);s.push({start_date:d,end_date:h})}if(r=this.date.add(r,1,i.rec_pattern),l&&++n==t)break}return s},scheduler.getEvents=function(e,t){var i,n=[];for(i in this._events){var s=this._events[i];if(s&&s.start_date<t&&s.end_date>e)if(s.rec_pattern){if("none"!=s.rec_pattern){var r=[];this.repeat_date(s,r,!0,e,t);for(var o=0;o<r.length;o++)!r[o].rec_pattern&&r[o].start_date<t&&r[o].end_date>e&&!this._rec_markers[r[o].id]&&n.push(r[o])}}else-1==s.id.toString().indexOf("#")&&n.push(s)}return n},scheduler.config.repeat_date="%m.%d.%Y",scheduler.config.lightbox.sections=[{name:"description",height:130,map_to:"text",type:"textarea",focus:!0},{name:"recurring",type:"recurring",map_to:"rec_type",button:"recurring"},{name:"time",height:72,type:"time",map_to:"auto"}],scheduler._copy_dummy=function(){this.start_date=new Date(this.start_date),this.end_date=new Date(this.end_date),this.event_length=this.event_pid=this.rec_pattern=this.rec_type=this._timed=null},scheduler.__recurring_template='<div class="dhx_form_repeat"> <form> <div class="dhx_repeat_left"> <label><input class="dhx_repeat_radio" type="radio" name="repeat" value="day" />Daily</label><br /> <label><input class="dhx_repeat_radio" type="radio" name="repeat" value="week"/>Weekly</label><br /> <label><input class="dhx_repeat_radio" type="radio" name="repeat" value="month" checked />Monthly</label><br /> <label><input class="dhx_repeat_radio" type="radio" name="repeat" value="year" />Yearly</label> </div> <div class="dhx_repeat_divider"></div> <div class="dhx_repeat_center"> <div style="display:none;" id="dhx_repeat_day"> <label><input class="dhx_repeat_radio" type="radio" name="day_type" value="d"/>Every</label><input class="dhx_repeat_text" type="text" name="day_count" value="1" />day<br /> <label><input class="dhx_repeat_radio" type="radio" name="day_type" checked value="w"/>Every workday</label> </div> <div style="display:none;" id="dhx_repeat_week"> Repeat every<input class="dhx_repeat_text" type="text" name="week_count" value="1" />week next days:<br /> <table class="dhx_repeat_days"> <tr> <td> <label><input class="dhx_repeat_checkbox" type="checkbox" name="week_day" value="1" />Monday</label><br /> <label><input class="dhx_repeat_checkbox" type="checkbox" name="week_day" value="4" />Thursday</label> </td> <td> <label><input class="dhx_repeat_checkbox" type="checkbox" name="week_day" value="2" />Tuesday</label><br /> <label><input class="dhx_repeat_checkbox" type="checkbox" name="week_day" value="5" />Friday</label> </td> <td> <label><input class="dhx_repeat_checkbox" type="checkbox" name="week_day" value="3" />Wednesday</label><br /> <label><input class="dhx_repeat_checkbox" type="checkbox" name="week_day" value="6" />Saturday</label> </td> <td> <label><input class="dhx_repeat_checkbox" type="checkbox" name="week_day" value="0" />Sunday</label><br /><br /> </td> </tr> </table> </div> <div id="dhx_repeat_month"> <label><input class="dhx_repeat_radio" type="radio" name="month_type" value="d"/>Repeat</label><input class="dhx_repeat_text" type="text" name="month_day" value="1" />day every<input class="dhx_repeat_text" type="text" name="month_count" value="1" />month<br /> <label><input class="dhx_repeat_radio" type="radio" name="month_type" checked value="w"/>On</label><input class="dhx_repeat_text" type="text" name="month_week2" value="1" /><select name="month_day2"><option value="1" selected >Monday<option value="2">Tuesday<option value="3">Wednesday<option value="4">Thursday<option value="5">Friday<option value="6">Saturday<option value="0">Sunday</select>every<input class="dhx_repeat_text" type="text" name="month_count2" value="1" />month<br /> </div> <div style="display:none;" id="dhx_repeat_year"> <label><input class="dhx_repeat_radio" type="radio" name="year_type" value="d"/>Every</label><input class="dhx_repeat_text" type="text" name="year_day" value="1" />day<select name="year_month"><option value="0" selected >January<option value="1">February<option value="2">March<option value="3">April<option value="4">May<option value="5">June<option value="6">July<option value="7">August<option value="8">September<option value="9">October<option value="10">November<option value="11">December</select>month<br /> <label><input class="dhx_repeat_radio" type="radio" name="year_type" checked value="w"/>On</label><input class="dhx_repeat_text" type="text" name="year_week2" value="1" /><select name="year_day2"><option value="1" selected >Monday<option value="2">Tuesday<option value="3">Wednesday<option value="4">Thursday<option value="5">Friday<option value="6">Saturday<option value="7">Sunday</select>of<select name="year_month2"><option value="0" selected >January<option value="1">February<option value="2">March<option value="3">April<option value="4">May<option value="5">June<option value="6">July<option value="7">August<option value="8">September<option value="9">October<option value="10">November<option value="11">December</select><br /> </div> </div> <div class="dhx_repeat_divider"></div> <div class="dhx_repeat_right"> <label><input class="dhx_repeat_radio" type="radio" name="end" checked/>No end date</label><br /> <label><input class="dhx_repeat_radio" type="radio" name="end" />After</label><input class="dhx_repeat_text" type="text" name="occurences_count" value="1" />occurrences<br /> <label><input class="dhx_repeat_radio" type="radio" name="end" />End by</label><input class="dhx_repeat_date" type="text" name="date_of_end" value="'+scheduler.config.repeat_date_of_end+'" /><br /> </div> </form> </div> <div style="clear:both"> </div>',function(){function e(){for(var e=scheduler.get_visible_events(),t=[],i=0;i<this.y_unit.length;i++)t[i]=[];for(t[n]||(t[n]=[]),i=0;i<e.length;i++){for(var n=this.order[e[i][this.y_property]],s=0;this._trace_x[s+1]&&e[i].start_date>=this._trace_x[s+1];)s++;for(;this._trace_x[s]&&e[i].end_date>this._trace_x[s];)t[n][s]||(t[n][s]=[]),t[n][s].push(e[i]),s++}return t}function t(e){for(var t=0,i=this._trace_x;t<i.length-1&&+e>=+i[t+1];)t++;return t}function i(e,i,n){var s=0,r=n._step,o=n.round_position,a=0,l=i?e.end_date:e.start_date;l.valueOf()>scheduler._max_date.valueOf()&&(l=scheduler._max_date);var h=l-scheduler._min_date_timeline;if(h>0){for(var d=t.call(n,l),c=0;c<d;c++)s+=scheduler._cols[c];var u=scheduler.date.add(scheduler._min_date_timeline,scheduler.matrix[scheduler._mode].x_step*d,scheduler.matrix[scheduler._mode].x_unit);o?+l>+u&&i&&(a=scheduler._cols[d]):(h=l-u,a=Math.round(h/r))}return s+=i?0==h||o?a-14:a-12:a+1}function n(e,i){var n=t.call(this,e),s=this._trace_x[n];return i&&+e!=+this._trace_x[n]&&(s=this._trace_x[n+1]?this._trace_x[n+1]:scheduler.date.add(this._trace_x[n],this.x_step,this.x_unit)),new Date(s)}function s(e){var t="";if(e&&"cell"!=this.render){e.sort(this.sort||function(e,t){return e.start_date.valueOf()==t.start_date.valueOf()?e.id>t.id?1:-1:e.start_date>t.start_date?1:-1});for(var i=[],s=e.length,r=0;r<s;r++){var o=e[r];o._inner=!1;var a=this.round_position?n.apply(this,[o.start_date,!1]):o.start_date;for(this.round_position?n.apply(this,[o.end_date,!0]):o.end_date;i.length;){if(!(i[i.length-1].end_date.valueOf()<=a.valueOf()))break;i.splice(i.length-1,1)}for(var l=!1,h=0;h<i.length;h++){var d=i[h];if(d.end_date.valueOf()<=a.valueOf()){l=!0,o._sorder=d._sorder,i.splice(h,1),o._inner=!0;break}}if(i.length&&(i[i.length-1]._inner=!0),!l)if(i.length)if(i.length<=i[i.length-1]._sorder){if(i[i.length-1]._sorder)for(var c=0;c<i.length;c++){for(var u=!1,f=0;f<i.length;f++)if(i[f]._sorder==c){u=!0;break}if(!u){o._sorder=c;break}}else o._sorder=0;o._inner=!0}else{u=i[0]._sorder;for(var p=1;p<i.length;p++)i[p]._sorder>u&&(u=i[p]._sorder);o._sorder=u+1,o._inner=!1}else o._sorder=0;i.push(o),i.length>(i.max_count||0)?(i.max_count=i.length,o._count=i.length):o._count=o._count?o._count:1}for(var _=0;_<e.length;_++)e[_]._count=i.max_count;for(var g=0;g<s;g++)t+=scheduler.render_timeline_event.call(this,e[g],!1)}return t}function r(t){var i="<table style='table-layout:fixed;' cellspacing='0' cellpadding='0'>",n=[];if(scheduler._load_mode&&scheduler._load(),"cell"==this.render)n=e.call(this);else for(var r=scheduler.get_visible_events(),o=this.order,a=0;a<r.length;a++){var l=r[a],h=l[this.y_property],d=this.order[h];if(this.show_unassigned&&!h){for(var c in o)if(o.hasOwnProperty(c)){n[d=o[c]]||(n[d]=[]);var u=scheduler._lame_copy({},l);u[this.y_property]=c,n[d].push(u)}}else n[d]||(n[d]=[]),n[d].push(l)}for(var f=0,p=0;p<scheduler._cols.length;p++)f+=scheduler._cols[p];var _=new Date;this._step=_=(scheduler.date.add(_,this.x_step*this.x_size,this.x_unit)-_)/f,this._summ=f;var g=scheduler._colsS.heights=[];for(this._events_height={},this._section_height={},p=0;p<this.y_unit.length;p++){var m=this._logic(this.render,this.y_unit[p],this);scheduler._merge(m,{height:this.dy}),this.section_autoheight&&(this.y_unit.length*m.height<t.offsetHeight&&(m.height=Math.max(m.height,Math.floor((t.offsetHeight-1)/this.y_unit.length))),this._section_height[this.y_unit[p].key]=m.height),scheduler._merge(m,{tr_className:"",style_height:"height:"+m.height+"px;",style_width:"width:"+(this.dx-1)+"px;",td_className:"dhx_matrix_scell"+(scheduler.templates[this.name+"_scaley_class"](this.y_unit[p].key,this.y_unit[p].label,this.y_unit[p])?" "+scheduler.templates[this.name+"_scaley_class"](this.y_unit[p].key,this.y_unit[p].label,this.y_unit[p]):""),td_content:scheduler.templates[this.name+"_scale_label"](this.y_unit[p].key,this.y_unit[p].label,this.y_unit[p]),summ_width:"width:"+f+"px;",table_className:""});var v=s.call(this,n[p]);if(this.fit_events){var y=this._events_height[this.y_unit[p].key]||0;m.height=y>m.height?y:m.height,m.style_height="height:"+m.height+"px;",this._section_height[this.y_unit[p].key]=m.height}if(i+="<tr class='"+m.tr_className+"' style='"+m.style_height+"'><td class='"+m.td_className+"' style='"+m.style_width+" height:"+(m.height-1)+"px;'>"+m.td_content+"</td>","cell"==this.render)for(a=0;a<scheduler._cols.length;a++)i+="<td class='dhx_matrix_cell "+scheduler.templates[this.name+"_cell_class"](n[p][a],this._trace_x[a],this.y_unit[p])+"' style='width:"+(scheduler._cols[a]-1)+"px'><div style='width:"+(scheduler._cols[a]-1)+"px'>"+scheduler.templates[this.name+"_cell_value"](n[p][a])+"</div></td>";else{for(i+="<td><div style='"+m.summ_width+" "+m.style_height+" position:relative;' class='dhx_matrix_line'>",i+=v,i+="<table class='"+m.table_className+"' cellpadding='0' cellspacing='0' style='"+m.summ_width+" "+m.style_height+"' >",a=0;a<scheduler._cols.length;a++)i+="<td class='dhx_matrix_cell "+scheduler.templates[this.name+"_cell_class"](n[p],this._trace_x[a],this.y_unit[p])+"' style='width:"+(scheduler._cols[a]-1)+"px'><div style='width:"+(scheduler._cols[a]-1)+"px'></div></td>";i+="</table>",i+="</div></td>"}i+="</tr>"}i+="</table>",this._matrix=n,t.innerHTML=i,scheduler._rendered=[];var b=scheduler._obj.getElementsByTagName("DIV");for(p=0;p<b.length;p++)b[p].getAttribute("event_id")&&scheduler._rendered.push(b[p]);for(this._scales={},p=0;p<t.firstChild.rows.length;p++){g.push(t.firstChild.rows[p].offsetHeight);var x=this.y_unit[p].key,w=this._scales[x]=scheduler._isRender("cell")?t.firstChild.rows[p]:t.firstChild.rows[p].childNodes[1].getElementsByTagName("div")[0];scheduler.callEvent("onScaleAdd",[w,x])}}function o(e){var t=scheduler.xy.scale_height,i=this._header_resized||scheduler.xy.scale_height;scheduler._cols=[],scheduler._colsS={height:0},this._trace_x=[];var n=scheduler._x-this.dx-18,s=[this.dx];scheduler._els.dhx_cal_header[0].style.width=s[0]+n+"px";for(var r=scheduler._min_date_timeline=scheduler._min_date,o=0;o<this.x_size;o++)this._trace_x[o]=new Date(r),r=scheduler.date.add(r,this.x_step,this.x_unit),scheduler._cols[o]=Math.floor(n/(this.x_size-o)),n-=scheduler._cols[o],s[o+1]=s[o]+scheduler._cols[o];if(e.innerHTML="<div></div>",this.second_scale){for(var l=this.second_scale.x_unit,h=[this._trace_x[0]],d=[],c=[this.dx,this.dx],u=0,p=0;p<this._trace_x.length;p++){var _=this._trace_x[p];a(l,_,h[u])&&(h[++u]=_,c[u+1]=c[u]);var g=u+1;d[u]=scheduler._cols[p]+(d[u]||0),c[g]+=scheduler._cols[p]}e.innerHTML="<div></div><div></div>";var m=e.firstChild;m.style.height=i+"px",e.lastChild.style.position="relative";for(var v=0;v<h.length;v++){var y=h[v],b=scheduler.templates[this.name+"_second_scalex_class"](y),x=document.createElement("DIV");x.className="dhx_scale_bar dhx_second_scale_bar"+(b?" "+b:""),scheduler.set_xy(x,d[v]-1,i-3,c[v],0),x.innerHTML=scheduler.templates[this.name+"_second_scale_date"](y),m.appendChild(x)}}scheduler.xy.scale_height=i;e=e.lastChild;for(var w=0;w<this._trace_x.length;w++){r=this._trace_x[w],scheduler._render_x_header(w,s[w],r,e);var k=scheduler.templates[this.name+"_scalex_class"](r);k&&(e.lastChild.className+=" "+k)}scheduler.xy.scale_height=t;var E=this._trace_x;e.onclick=function(e){var t=f(e);t&&scheduler.callEvent("onXScaleClick",[t.x,E[t.x],e||event])},e.ondblclick=function(e){var t=f(e);t&&scheduler.callEvent("onXScaleDblClick",[t.x,E[t.x],e||event])}}function a(e,t,i){switch(e){case"hour":return t.getHours()!=i.getHours()||a("day",t,i);case"day":return!(t.getDate()==i.getDate()&&t.getMonth()==i.getMonth()&&t.getFullYear()==i.getFullYear());case"week":return!(scheduler.date.getISOWeek(t)==scheduler.date.getISOWeek(i)&&t.getFullYear()==i.getFullYear());case"month":return!(t.getMonth()==i.getMonth()&&t.getFullYear()==i.getFullYear());case"year":return t.getFullYear()!=i.getFullYear();default:return!1}}function l(e){if(e){scheduler.set_sizes(),c();var t=scheduler._min_date;o.call(this,scheduler._els.dhx_cal_header[0]),r.call(this,scheduler._els.dhx_cal_data[0]),scheduler._min_date=t,scheduler._els.dhx_cal_date[0].innerHTML=scheduler.templates[this.name+"_date"](scheduler._min_date,scheduler._max_date),scheduler.markNow&&scheduler.markNow()}h()}function h(){scheduler._tooltip&&(scheduler._tooltip.style.display="none",scheduler._tooltip.date="")}function d(e,t,i){if("cell"==e.render){var n=t.x+"_"+t.y,s=e._matrix[t.y][t.x];if(!s)return h();if(s.sort(function(e,t){return e.start_date>t.start_date?1:-1}),scheduler._tooltip){if(scheduler._tooltip.date==n)return;scheduler._tooltip.innerHTML=""}else{var r=scheduler._tooltip=document.createElement("DIV");r.className="dhx_year_tooltip",document.body.appendChild(r),r.onclick=scheduler._click.dhx_cal_data}for(var o="",a=0;a<s.length;a++){var l=s[a].color?"background-color:"+s[a].color+";":"",d=s[a].textColor?"color:"+s[a].textColor+";":"";o+="<div class='dhx_tooltip_line' event_id='"+s[a].id+"' style='"+l+d+"'>",o+="<div class='dhx_tooltip_date'>"+(s[a]._timed?scheduler.templates.event_date(s[a].start_date):"")+"</div>",o+="<div class='dhx_event_icon icon_details'>&nbsp;</div>",o+=scheduler.templates[e.name+"_tooltip"](s[a].start_date,s[a].end_date,s[a])+"</div>"}scheduler._tooltip.style.display="",scheduler._tooltip.style.top="0px",scheduler._tooltip.style.left=document.body.offsetWidth-i.left-scheduler._tooltip.offsetWidth<0?i.left-scheduler._tooltip.offsetWidth+"px":i.left+t.src.offsetWidth+"px",scheduler._tooltip.date=n,scheduler._tooltip.innerHTML=o,scheduler._tooltip.style.top=document.body.offsetHeight-i.top-scheduler._tooltip.offsetHeight<0?i.top-scheduler._tooltip.offsetHeight+t.src.offsetHeight+"px":i.top+"px"}}function c(){dhtmlxEvent(scheduler._els.dhx_cal_data[0],"mouseover",function(e){var t=scheduler.matrix[scheduler._mode];if(t&&"cell"==t.render){if(t){var i=scheduler._locate_cell_timeline(e);(e=e||event).target||e.srcElement;if(i)return d(t,i,getOffset(i.src))}h()}}),c=function(){}}function u(e){for(var t=e.parentNode.childNodes,i=0;i<t.length;i++)if(t[i]==e)return i;return-1}function f(e){for(var t=(e=e||event).target?e.target:e.srcElement;t&&"DIV"!=t.tagName;)t=t.parentNode;if(t&&"DIV"==t.tagName&&"dhx_scale_bar"==t.className.split(" ")[0])return{x:u(t),y:-1,src:t,scale:!0}}scheduler.matrix={},scheduler._merge=function(e,t){for(var i in t)"undefined"==typeof e[i]&&(e[i]=t[i])},scheduler.createTimelineView=function(e){scheduler._merge(e,{section_autoheight:!0,name:"matrix",x:"time",y:"time",x_step:1,x_unit:"hour",y_unit:"day",y_step:1,x_start:0,x_size:24,y_start:0,y_size:7,render:"cell",dx:200,dy:50,event_dy:scheduler.xy.bar_height-5,event_min_dy:scheduler.xy.bar_height-5,resize_events:!0,fit_events:!0,show_unassigned:!1,second_scale:!1,round_position:!1,_logic:function(e,t,i){var n={};return scheduler.checkEvent("onBeforeViewRender")&&(n=scheduler.callEvent("onBeforeViewRender",[e,t,i])),n}}),e._original_x_start=e.x_start,scheduler.checkEvent("onTimelineCreated")&&scheduler.callEvent("onTimelineCreated",[e]);var t=scheduler.render_data;scheduler.render_data=function(i,n){if(this._mode!=e.name)return t.apply(this,arguments);if(n&&!e.show_unassigned&&"cell"!=e.render)for(var s=0;s<i.length;s++)this.clear_event(i[s]),this.render_timeline_event.call(this.matrix[this._mode],i[s],!0);else scheduler.renderMatrix.call(e,!0,!0)},scheduler.matrix[e.name]=e,scheduler.templates[e.name+"_cell_value"]=function(e){return e?e.length:""},scheduler.templates[e.name+"_cell_class"]=function(){return""},scheduler.templates[e.name+"_scalex_class"]=function(){return""},scheduler.templates[e.name+"_second_scalex_class"]=function(){return""},scheduler.templates[e.name+"_scaley_class"]=function(){return""},scheduler.templates[e.name+"_scale_label"]=function(e,t){return t},scheduler.templates[e.name+"_tooltip"]=function(e,t,i){return i.text},scheduler.templates[e.name+"_date"]=function(e,t){return e.getDay()==t.getDay()&&t-e<864e5||+e==+scheduler.date.date_part(new Date(t))||+scheduler.date.add(e,1,"day")==+t&&0==t.getHours()&&0==t.getMinutes()?scheduler.templates.day_date(e):e.getDay()!=t.getDay()&&t-e<864e5?scheduler.templates.day_date(e)+" &ndash; "+scheduler.templates.day_date(t):scheduler.templates.week_date(e,t)},scheduler.templates[e.name+"_scale_date"]=scheduler.date.date_to_str(e.x_date||scheduler.config.hour_date),scheduler.templates[e.name+"_second_scale_date"]=scheduler.date.date_to_str(e.second_scale&&e.second_scale.x_date?e.second_scale.x_date:scheduler.config.hour_date),scheduler.date["add_"+e.name]=function(t,i){var n=scheduler.date.add(t,(e.x_length||e.x_size)*i*e.x_step,e.x_unit);if(("minute"==e.x_unit||"hour"==e.x_unit)&&!e.x_length)if(+scheduler.date.date_part(new Date(t))==+scheduler.date.date_part(new Date(n)))e.x_start+=i*e.x_size;else{var s="hour"==e.x_unit?60*e.x_step:e.x_step,r=1440/(e.x_size*s)-1;i>0?e.x_start-=r*e.x_size:e.x_start=r*e.x_size+e.x_start}return n},scheduler.attachEvent("onBeforeTodayDisplayed",function(){return e.x_start=e._original_x_start,!0}),scheduler.date[e.name+"_start"]=function(t){var i=(scheduler.date[e.x_unit+"_start"]||scheduler.date.day_start).call(scheduler.date,t);return scheduler.date.add(i,e.x_step*e.x_start,e.x_unit)},
scheduler.attachEvent("onSchedulerResize",function(){return this._mode!=e.name||(scheduler.renderMatrix.call(e,!0,!0),!1)}),scheduler.attachEvent("onOptionsLoad",function(){e.order={},scheduler.callEvent("onOptionsLoadStart",[]);for(var t=0;t<e.y_unit.length;t++)e.order[e.y_unit[t].key]=t;scheduler.callEvent("onOptionsLoadFinal",[]),scheduler._date&&e.name==scheduler._mode&&scheduler.setCurrentView(scheduler._date,scheduler._mode)}),scheduler.callEvent("onOptionsLoad",[e]),scheduler[e.name+"_view"]=function(){scheduler.renderMatrix.apply(e,arguments)};var i=new Date;scheduler.date.add(i,e.x_step,e.x_unit).valueOf(),i.valueOf();scheduler["mouse_"+e.name]=function(t){var i,s=this._drag_event;this._drag_id&&(s=this.getEvent(this._drag_id),this._drag_event._dhx_changed=!0),t.x-=e.dx;for(var r=0,o=0,a=0;o<=this._cols.length-1;o++){var l=this._cols[o];if((r+=l)>t.x){var h=(h=(t.x-(r-l))/l)<0?0:h;break}}for(r=0;a<this._colsS.heights.length&&!((r+=this._colsS.heights[a])>t.y);a++);if(t.fields={},e.y_unit[a]||(a=e.y_unit.length-1),a>=0&&e.y_unit[a]&&(t.section=t.fields[e.y_property]=e.y_unit[a].key,s)&&(s[e.y_property]=t.section),t.x=0,t.force_redraw=!0,t.custom=!0,o>=e._trace_x.length)i=scheduler.date.add(e._trace_x[e._trace_x.length-1],e.x_step,e.x_unit);else{var d=e._trace_x[o+1]?e._trace_x[o+1]:scheduler.date.add(e._trace_x[e._trace_x.length-1],e.x_step,e.x_unit),c=Math.ceil(h*(d-e._trace_x[o]));i=new Date(+e._trace_x[o]+c)}if("move"==this._drag_mode&&this._drag_id&&this._drag_event){s=this.getEvent(this._drag_id);var u=this._drag_event;u._move_delta||(u._move_delta=(s.start_date-i)/6e4),i=scheduler.date.add(i,u._move_delta,"minute")}if("resize"==this._drag_mode&&s&&(t.resize_from_start=!!(Math.abs(s.start_date-i)<Math.abs(s.end_date-i))),e.round_position)switch(this._drag_mode){case"move":i=n.call(e,i,!1),"day"==e.x_unit&&(t.custom=!1);break;case"resize":this._drag_event&&(null==this._drag_event._resize_from_start&&(this._drag_event._resize_from_start=t.resize_from_start),t.resize_from_start=this._drag_event._resize_from_start,i=n.call(e,i,!this._drag_event._resize_from_start))}return t.y=Math.round((i-this._min_date)/(6e4*this.config.time_step)),t.shift=this.config.time_step,t}},scheduler.render_timeline_event=function(e,t){var n=e[this.y_property];if(!n)return"";var s=e._sorder,r=i(e,!1,this),o=i(e,!0,this),a=this.event_dy;"full"==this.event_dy&&(a=this.section_autoheight?this._section_height[n]-6:this.dy-3),this.resize_events&&(a=Math.max(Math.floor(a/e._count),this.event_min_dy));var l=a-2;!e._inner&&"full"==this.event_dy&&(l=(l+2)*(e._count-s)-2);var h=2+s*a+(s?2*s:0);scheduler.config.cascade_event_display&&(h=2+s*scheduler.config.cascade_event_margin+(s?2*s:0));var d=a+h+2;(!this._events_height[n]||this._events_height[n]<d)&&(this._events_height[n]=d);var c="dhx_cal_event_line "+((c=scheduler.templates.event_class(e.start_date,e.end_date,e))||""),u=e.color?"background:"+e.color+";":"",f=e.textColor?"color:"+e.textColor+";":"",p=scheduler.templates.event_bar_text(e.start_date,e.end_date,e),_='<div event_id="'+e.id+'" class="'+c+'" style="'+u+f+"position:absolute; top:"+h+"px; height: "+l+"px; left:"+r+"px; width:"+Math.max(0,o-r)+"px;"+(e._text_style||"")+'">';if(scheduler.config.drag_resize&&!scheduler.config.readonly){var g="dhx_event_resize";_+="<div class='"+g+" "+g+"_start' style='height: "+l+"px;'></div><div class='"+g+" "+g+"_end' style='height: "+l+"px;'></div>"}if(_+=p+"</div>",!t)return _;var m=document.createElement("DIV");m.innerHTML=_;var v=this.order[n],y=scheduler._els.dhx_cal_data[0].firstChild.rows[v].cells[1].firstChild;scheduler._rendered.push(m.firstChild),y.appendChild(m.firstChild)},scheduler.renderMatrix=function(e,t){if(t||(scheduler._els.dhx_cal_data[0].scrollTop=0),scheduler._min_date=scheduler.date[this.name+"_start"](scheduler._date),scheduler._max_date=scheduler.date.add(scheduler._min_date,this.x_size*this.x_step,this.x_unit),scheduler._table_view=!0,this.second_scale&&(e&&!this._header_resized&&(this._header_resized=scheduler.xy.scale_height,scheduler.xy.scale_height*=2,scheduler._els.dhx_cal_header[0].className+=" dhx_second_cal_header"),!e&&this._header_resized)){scheduler.xy.scale_height/=2,this._header_resized=!1;var i=scheduler._els.dhx_cal_header[0];i.className=i.className.replace(/ dhx_second_cal_header/gi,"")}l.call(this,e)},scheduler._locate_cell_timeline=function(e){for(var t=(e=e||event).target?e.target:e.srcElement,i={},n=scheduler.matrix[scheduler._mode],s=scheduler.getActionData(e),r=0;r<n._trace_x.length-1&&!(+s.date<n._trace_x[r+1]);r++);i.x=r,i.y=n.order[s.section];var o=scheduler._isRender("cell")?1:0;i.src=n._scales[s.section]?n._scales[s.section].getElementsByTagName("td")[r+o]:null;for(var a=!1;0==i.x&&"dhx_cal_data"!=t.className&&t.parentNode;){if("dhx_matrix_scell"==t.className.split(" ")[0]){a=!0;break}t=t.parentNode}return a&&(i.x=-1,i.src=t,i.scale=!0),i};var p=scheduler._click.dhx_cal_data;scheduler._click.dhx_marked_timespan=scheduler._click.dhx_cal_data=function(e){var t=p.apply(this,arguments),i=scheduler.matrix[scheduler._mode];if(i){var n=scheduler._locate_cell_timeline(e);n&&(n.scale?scheduler.callEvent("onYScaleClick",[n.y,i.y_unit[n.y],e||event]):scheduler.callEvent("onCellClick",[n.x,n.y,i._trace_x[n.x],(i._matrix[n.y]||{})[n.x]||[],e||event]))}return t},scheduler.dblclick_dhx_marked_timespan=scheduler.dblclick_dhx_matrix_cell=function(e){var t=scheduler.matrix[scheduler._mode];if(t){var i=scheduler._locate_cell_timeline(e);i&&(i.scale?scheduler.callEvent("onYScaleDblClick",[i.y,t.y_unit[i.y],e||event]):scheduler.callEvent("onCellDblClick",[i.x,i.y,t._trace_x[i.x],(t._matrix[i.y]||{})[i.x]||[],e||event]))}},scheduler.dblclick_dhx_matrix_scell=function(e){return scheduler.dblclick_dhx_matrix_cell(e)},scheduler._isRender=function(e){return scheduler.matrix[scheduler._mode]&&scheduler.matrix[scheduler._mode].render==e},scheduler.attachEvent("onCellDblClick",function(e,t,i,n,s){if(!this.config.readonly&&("dblclick"!=s.type||this.config.dblclick_create)){var r=scheduler.matrix[scheduler._mode],o={};o.start_date=r._trace_x[e],o.end_date=r._trace_x[e+1]?r._trace_x[e+1]:scheduler.date.add(r._trace_x[e],r.x_step,r.x_unit),o[r.y_property]=r.y_unit[t].key,scheduler.addEventNow(o,null,s)}}),scheduler.attachEvent("onBeforeDrag",function(){return!scheduler._isRender("cell")}),scheduler.attachEvent("onEventChanged",function(e,t){t._timed=this.is_one_day_event(t)});var _=scheduler._render_marked_timespan;scheduler._render_marked_timespan=function(e,t,n){if(!scheduler.config.display_marked_timespans)return[];if(!scheduler.matrix||!scheduler.matrix[scheduler._mode])return _.apply(scheduler,[e,t,n]);if(!scheduler._isRender("cell")){var s=scheduler.matrix[scheduler._mode],r=[],o=[],a=[];if(n)a=[t],o=[n];else{var l,h=s.order;for(l in h)h.hasOwnProperty(l)&&(o.push(l),a.push(s._scales[l]))}var d=scheduler._min_date,c=scheduler._max_date,u=[];if(e.days>6){var f=new Date(e.days);scheduler.date.date_part(new Date(d))<=+f&&+c>=+f&&u.push(f)}else u.push.apply(u,scheduler._get_dates_by_index(e.days));for(var p=e.zones,g=scheduler._get_css_classes_by_config(e),m=0;m<o.length;m++){t=a[m],n=o[m];for(var v=0;v<u.length;v++)for(var y=u[v],b=0;b<p.length;b+=2){var x=p[b],w=p[b+1],k=new Date(+y+6e4*x),E=new Date(+y+6e4*w);if(scheduler._min_date<E&&scheduler._max_date>k){var C=scheduler._get_block_by_config(e);C.className=g;var D=i({start_date:k},!1,s)-1,T=i({start_date:E},!1,s)-1,S=Math.max(1,T-D-1),A=s._section_height[n]-1;C.style.cssText="height: "+A+"px; left: "+D+"px; width: "+S+"px; top: 0;",t.insertBefore(C,t.firstChild),r.push(C)}}}return r}};var g=scheduler._append_mark_now;scheduler._append_mark_now=function(e,t){if(scheduler.matrix&&scheduler.matrix[scheduler._mode]){var i=scheduler._currentDate(),n=scheduler._get_zone_minutes(i),s={days:+scheduler.date.date_part(i),zones:[n,n+1],css:"dhx_matrix_now_time",type:"dhx_now_time"};return scheduler._render_marked_timespan(s)}return g.apply(scheduler,[e,t])},scheduler.attachEvent("onScaleAdd",function(e,t){var i=scheduler._marked_timespans;if(i&&scheduler.matrix&&scheduler.matrix[scheduler._mode])for(var n=scheduler._mode,s=scheduler._min_date,r=scheduler._max_date,o=i.global,a=scheduler.date.date_part(new Date(s));a<r;a=scheduler.date.add(a,1,"day")){var l=+a,h=a.getDay(),d=[],c=o[l]||o[h];if(d.push.apply(d,scheduler._get_configs_to_render(c)),i[n]&&i[n][t]){var u=scheduler._get_types_to_render(i[n][t][h],i[n][t][l]);d.push.apply(d,scheduler._get_configs_to_render(u))}for(var f=0;f<d.length;f++){var p=d[f],_=p.days;_<7?(_=l,scheduler._render_marked_timespan(p,e,t),_=h):scheduler._render_marked_timespan(p,e,t)}}})}(),function(){}.call(this),jQuery(function(){$("#event_paciente").autocomplete({source:$("#event_paciente").data("autocomplete-source")}),$("#event_medico").autocomplete({source:$("#event_medico").data("autocomplete-source")}),$("#event_equipo").autocomplete({source:$("#event_equipo").data("autocomplete-source")})}),scheduler.locale={date:{month_full:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],month_short:["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],day_full:["Domingo","Lunes","Martes","Mi\xe9rcoles","Jueves","Viernes","S\xe1bado"],day_short:["Dom","Lun","Mar","Mi\xe9","Jue","Vie","S\xe1b"]},labels:{dhx_cal_today_button:"Hoy",day_tab:"D\xeda",week_tab:"Semana",month_tab:"Mes",new_event:"Nuevo evento",icon_save:"Guardar",icon_cancel:"Cancelar",icon_details:"Detalles",icon_edit:"Editar",icon_delete:"Eliminar",confirm_closing:"",confirm_deleting:"El evento se borrar\xe1 definitivamente, \xbfcontinuar?",section_description:"Descripci\xf3n",section_time:"Per\xedodo",full_day:"Todo el d\xeda",confirm_recurring:"\xbfDesea modificar el conjunto de eventos repetidos?",section_recurring:"Repita el evento",button_recurring:"Impedido",button_recurring_open:"Permitido",button_edit_series:"Editar la serie",button_edit_occurrence:"Editar una copia",agenda_tab:"D\xeda",date:"Fecha",description:"Descripci\xf3n",year_tab:"A\xf1o",week_agenda_tab:"D\xeda",grid_tab:"Reja",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute"}},function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("jquery"),require("popper.js")):"function"==typeof define&&define.amd?define(["exports","jquery","popper.js"],t):t(e.bootstrap={},e.jQuery,e.Popper)}(this,function(e,t,i){"use strict";function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function o(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}t=t&&t.hasOwnProperty("default")?t["default"]:t,i=i&&i.hasOwnProperty("default")?i["default"]:i;var a,l,h,d,c,u,f,p,_,g,m,v,y,b,x,w,k,E,C,D,T,S,A,O,N,I,M,L,P,H,j,R,z,F,W,B,q,V,U,Y,X,K,G,$,Q,J,Z,ee,te,ie,ne,se,re,oe,ae,le,he,de,ce,ue,fe,pe,_e,ge,me,ve,ye,be,xe,we,ke,Ee,Ce,De,Te,Se,Ae,Oe,Ne,Ie,Me,Le,Pe,He,je,Re,ze,Fe,We,Be,qe,Ve,Ue,Ye,Xe,Ke,Ge,$e,Qe,Je,Ze,et,tt,it,nt,st,rt,ot,at,lt,ht,dt,ct,ut,ft,pt,_t,gt,mt,vt,yt,bt,xt,wt,kt,Et,Ct,Dt,Tt,St,At,Ot,Nt,It,Mt,Lt,Pt,Ht,jt,Rt,zt,Ft,Wt,Bt,qt,Vt,Ut,Yt,Xt,Kt,Gt,$t=function(e){function t(e){return{}.toString.call(e).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}function i(){return{bindType:a.end,delegateType:a.end,handle:function(t){return e(t.target).is(this)?t.handleObj.handler.apply(this,arguments):undefined}}}function n(){return!window.QUnit&&{end:"transitionend"}}function s(t){var i=this,n=!1;return e(this).one(h.TRANSITION_END,function(){n=!0}),setTimeout(function(){n||h.triggerTransitionEnd(i)},t),this}function r(){a=n(),e.fn.emulateTransitionEnd=s,h.supportsTransitionEnd()&&(e.event.special[h.TRANSITION_END]=i())}function o(t){return t="function"==typeof e.escapeSelector?e.escapeSelector(t).substr(1):t.replace(/(:|\.|\[|\]|,|=|@)/g,"\\$1")}var a=!1,l=1e6,h={TRANSITION_END:"bsTransitionEnd",getUID:function(e){do{e+=~~(Math.random()*l)}while(document.getElementById(e));return e},getSelectorFromElement:function(t){var i=t.getAttribute("data-target");i&&"#"!==i||(i=t.getAttribute("href")||""),"#"===i.charAt(0)&&(i=o(i));try{return e(document).find(i).length>0?i:null}catch(n){return null}},reflow:function(e){return e.offsetHeight},triggerTransitionEnd:function(t){e(t).trigger(a.end)},supportsTransitionEnd:function(){return Boolean(a)},isElement:function(e){return(e[0]||e).nodeType},typeCheckConfig:function(e,i,n){for(var s in n)if(Object.prototype.hasOwnProperty.call(n,s)){var r=n[s],o=i[s],a=o&&h.isElement(o)?"element":t(o);if(!new RegExp(r).test(a))throw new Error(e.toUpperCase()+': Option "'+s+'" provided type "'+a+'" but expected type "'+r+'".')}}};return r(),h}(t),Qt=(l="alert",h="4.0.0-beta.3",c="."+(d="bs.alert"),u=".data-api",f=(a=t).fn[l],p=150,_={DISMISS:'[data-dismiss="alert"]'},g={CLOSE:"close"+c,CLOSED:"closed"+c,CLICK_DATA_API:"click"+c+u},m={ALERT:"alert",FADE:"fade",SHOW:"show"},v=function(){function e(e){this._element=e}var t=e.prototype;return t.close=function(e){e=e||this._element;var t=this._getRootElement(e);this._triggerCloseEvent(t).isDefaultPrevented()||this._removeElement(t)},t.dispose=function(){a.removeData(this._element,d),this._element=null},t._getRootElement=function(e){var t=$t.getSelectorFromElement(e),i=!1;return t&&(i=a(t)[0]),i||(i=a(e).closest("."+m.ALERT)[0]),i},t._triggerCloseEvent=function(e){var t=a.Event(g.CLOSE);return a(e).trigger(t),t},t._removeElement=function(e){var t=this;a(e).removeClass(m.SHOW),$t.supportsTransitionEnd()&&a(e).hasClass(m.FADE)?a(e).one($t.TRANSITION_END,function(i){return t._destroyElement(e,i)}).emulateTransitionEnd(p):this._destroyElement(e)},t._destroyElement=function(e){a(e).detach().trigger(g.CLOSED).remove()},e._jQueryInterface=function(t){return this.each(function(){var i=a(this),n=i.data(d);n||(n=new e(this),i.data(d,n)),"close"===t&&n[t](this)})},e._handleDismiss=function(e){return function(t){t&&t.preventDefault(),e.close(this)}},s(e,null,[{key:"VERSION",get:function(){return h}}]),e}(),a(document).on(g.CLICK_DATA_API,_.DISMISS,v._handleDismiss(new v)),a.fn[l]=v._jQueryInterface,a.fn[l].Constructor=v,a.fn[l].noConflict=function(){return a.fn[l]=f,v._jQueryInterface},v),Jt=(b="button",x="4.0.0-beta.3",k="."+(w="bs.button"),E=".data-api",C=(y=t).fn[b],D={ACTIVE:"active",BUTTON:"btn",FOCUS:"focus"},T={DATA_TOGGLE_CARROT:'[data-toggle^="button"]',DATA_TOGGLE:'[data-toggle="buttons"]',INPUT:"input",ACTIVE:".active",BUTTON:".btn"},S={CLICK_DATA_API:"click"+k+E,FOCUS_BLUR_DATA_API:"focus"+k+E+" blur"+k+E},A=function(){function e(e){this._element=e}var t=e.prototype;return t.toggle=function(){var e=!0,t=!0,i=y(this._element).closest(T.DATA_TOGGLE)[0];if(i){var n=y(this._element).find(T.INPUT)[0];if(n){if("radio"===n.type)if(n.checked&&y(this._element).hasClass(D.ACTIVE))e=!1;else{var s=y(i).find(T.ACTIVE)[0];s&&y(s).removeClass(D.ACTIVE)}if(e){if(n.hasAttribute("disabled")||i.hasAttribute("disabled")||n.classList.contains("disabled")||i.classList.contains("disabled"))return;n.checked=!y(this._element).hasClass(D.ACTIVE),y(n).trigger("change")}n.focus(),t=!1}}t&&this._element.setAttribute("aria-pressed",!y(this._element).hasClass(D.ACTIVE)),e&&y(this._element).toggleClass(D.ACTIVE)},t.dispose=function(){y.removeData(this._element,w),this._element=null},e._jQueryInterface=function(t){return this.each(function(){var i=y(this).data(w);i||(i=new e(this),y(this).data(w,i)),"toggle"===t&&i[t]()})},s(e,null,[{key:"VERSION",get:function(){return x}}]),e}(),y(document).on(S.CLICK_DATA_API,T.DATA_TOGGLE_CARROT,function(e){e.preventDefault();var t=e.target;y(t).hasClass(D.BUTTON)||(t=y(t).closest(T.BUTTON)),A._jQueryInterface.call(y(t),"toggle")}).on(S.FOCUS_BLUR_DATA_API,T.DATA_TOGGLE_CARROT,function(e){var t=y(e.target).closest(T.BUTTON)[0];y(t).toggleClass(D.FOCUS,/^focus(in)?$/.test(e.type))}),y.fn[b]=A._jQueryInterface,y.fn[b].Constructor=A,y.fn[b].noConflict=function(){return y.fn[b]=C,A._jQueryInterface},A),Zt=(N="carousel",I="4.0.0-beta.3",L="."+(M="bs.carousel"),P=".data-api",H=(O=t).fn[N],j=600,R=37,z=39,F=500,W={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0},B={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean"},q={NEXT:"next",PREV:"prev",LEFT:"left",RIGHT:"right"},V={SLIDE:"slide"+L,SLID:"slid"+L,KEYDOWN:"keydown"+L,MOUSEENTER:"mouseenter"+L,MOUSELEAVE:"mouseleave"+L,TOUCHEND:"touchend"+L,LOAD_DATA_API:"load"+L+P,CLICK_DATA_API:"click"+L+P},U={CAROUSEL:"carousel",ACTIVE:"active",SLIDE:"slide",RIGHT:"carousel-item-right",LEFT:"carousel-item-left",NEXT:"carousel-item-next",PREV:"carousel-item-prev",ITEM:"carousel-item"},Y={ACTIVE:".active",ACTIVE_ITEM:".active.carousel-item",ITEM:".carousel-item",NEXT_PREV:".carousel-item-next, .carousel-item-prev",INDICATORS:".carousel-indicators",DATA_SLIDE:"[data-slide], [data-slide-to]",DATA_RIDE:'[data-ride="carousel"]'},X=function(){function e(e,t){this._items=null,this._interval=null,this._activeElement=null,this._isPaused=!1,this._isSliding=!1,this.touchTimeout=null,this._config=this._getConfig(t),this._element=O(e)[0],this._indicatorsElement=O(this._element).find(Y.INDICATORS)[0],this._addEventListeners()}var t=e.prototype;return t.next=function(){this._isSliding||this._slide(q.NEXT)},t.nextWhenVisible=function(){!document.hidden&&O(this._element).is(":visible")&&"hidden"!==O(this._element).css("visibility")&&this.next()},t.prev=function(){this._isSliding||this._slide(q.PREV)},t.pause=function(e){e||(this._isPaused=!0),O(this._element).find(Y.NEXT_PREV)[0]&&$t.supportsTransitionEnd()&&($t.triggerTransitionEnd(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null},t.cycle=function(e){e||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config.interval&&!this._isPaused&&(this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))},t.to=function(e){var t=this;this._activeElement=O(this._element).find(Y.ACTIVE_ITEM)[0];var i=this._getItemIndex(this._activeElement);if(!(e>this._items.length-1||e<0))if(this._isSliding)O(this._element).one(V.SLID,function(){return t.to(e)});else{if(i===e)return this.pause(),void this.cycle();var n=e>i?q.NEXT:q.PREV;this._slide(n,this._items[e])}},t.dispose=function(){O(this._element).off(L),O.removeData(this._element,M),this._items=null,this._config=null,this._element=null,this._interval=null,this._isPaused=null,this._isSliding=null,this._activeElement=null,this._indicatorsElement=null},t._getConfig=function(e){return e=r({},W,e),$t.typeCheckConfig(N,e,B),e},t._addEventListeners=function(){var e=this;this._config.keyboard&&O(this._element).on(V.KEYDOWN,function(t){return e._keydown(t)}),"hover"===this._config.pause&&(O(this._element).on(V.MOUSEENTER,function(t){return e.pause(t)}).on(V.MOUSELEAVE,function(t){return e.cycle(t)}),"ontouchstart"in document.documentElement&&O(this._element).on(V.TOUCHEND,function(){e.pause(),e.touchTimeout&&clearTimeout(e.touchTimeout),e.touchTimeout=setTimeout(function(t){return e.cycle(t)},F+e._config.interval)}))},t._keydown=function(e){if(!/input|textarea/i.test(e.target.tagName))switch(e.which){case R:e.preventDefault(),this.prev();break;case z:e.preventDefault(),this.next();break;default:return}},t._getItemIndex=function(e){return this._items=O.makeArray(O(e).parent().find(Y.ITEM)),this._items.indexOf(e)},t._getItemByDirection=function(e,t){var i=e===q.NEXT,n=e===q.PREV,s=this._getItemIndex(t),r=this._items.length-1;if((n&&0===s||i&&s===r)&&!this._config.wrap)return t;var o=(s+(e===q.PREV?-1:1))%this._items.length;return-1===o?this._items[this._items.length-1]:this._items[o]},t._triggerSlideEvent=function(e,t){var i=this._getItemIndex(e),n=this._getItemIndex(O(this._element).find(Y.ACTIVE_ITEM)[0]),s=O.Event(V.SLIDE,{relatedTarget:e,direction:t,from:n,to:i});return O(this._element).trigger(s),s},t._setActiveIndicatorElement=function(e){if(this._indicatorsElement){O(this._indicatorsElement).find(Y.ACTIVE).removeClass(U.ACTIVE);var t=this._indicatorsElement.children[this._getItemIndex(e)];t&&O(t).addClass(U.ACTIVE)}},t._slide=function(e,t){var i,n,s,r=this,o=O(this._element).find(Y.ACTIVE_ITEM)[0],a=this._getItemIndex(o),l=t||o&&this._getItemByDirection(e,o),h=this._getItemIndex(l),d=Boolean(this._interval);if(e===q.NEXT?(i=U.LEFT,n=U.NEXT,s=q.LEFT):(i=U.RIGHT,n=U.PREV,s=q.RIGHT),l&&O(l).hasClass(U.ACTIVE))this._isSliding=!1;else if(!this._triggerSlideEvent(l,s).isDefaultPrevented()&&o&&l){this._isSliding=!0,d&&this.pause(),this._setActiveIndicatorElement(l);var c=O.Event(V.SLID,{relatedTarget:l,direction:s,from:a,to:h});$t.supportsTransitionEnd()&&O(this._element).hasClass(U.SLIDE)?(O(l).addClass(n),$t.reflow(l),O(o).addClass(i),O(l).addClass(i),O(o).one($t.TRANSITION_END,function(){O(l).removeClass(i+" "+n).addClass(U.ACTIVE),O(o).removeClass(U.ACTIVE+" "+n+" "+i),r._isSliding=!1,setTimeout(function(){return O(r._element).trigger(c)},0)}).emulateTransitionEnd(j)):(O(o).removeClass(U.ACTIVE),O(l).addClass(U.ACTIVE),this._isSliding=!1,O(this._element).trigger(c)),d&&this.cycle()}},e._jQueryInterface=function(t){return this.each(function(){var i=O(this).data(M),n=r({},W,O(this).data());"object"==typeof t&&(n=r({},n,t));var s="string"==typeof t?t:n.slide;if(i||(i=new e(this,n),O(this).data(M,i)),"number"==typeof t)i.to(t);else if("string"==typeof s){if("undefined"==typeof i[s])throw new Error('No method named "'+s+'"');i[s]()}else n.interval&&(i.pause(),i.cycle())})},e._dataApiClickHandler=function(t){var i=$t.getSelectorFromElement(this);if(i){var n=O(i)[0];if(n&&O(n).hasClass(U.CAROUSEL)){var s=r({},O(n).data(),O(this).data()),o=this.getAttribute("data-slide-to");o&&(s.interval=!1),e._jQueryInterface.call(O(n),s),o&&O(n).data(M).to(o),t.preventDefault()}}},s(e,null,[{key:"VERSION",get:function(){return I}},{key:"Default",get:function(){return W}}]),e}(),O(document).on(V.CLICK_DATA_API,Y.DATA_SLIDE,X._dataApiClickHandler),O(window).on(V.LOAD_DATA_API,function(){O(Y.DATA_RIDE).each(function(){var e=O(this);X._jQueryInterface.call(e,e.data())})}),O.fn[N]=X._jQueryInterface,O.fn[N].Constructor=X,O.fn[N].noConflict=function(){return O.fn[N]=H,X._jQueryInterface},X),ei=(G="collapse",$="4.0.0-beta.3",J="."+(Q="bs.collapse"),Z=".data-api",ee=(K=t).fn[G],te=600,ie={toggle:!0,parent:""},ne={toggle:"boolean",parent:"(string|element)"},se={SHOW:"show"+J,SHOWN:"shown"+J,HIDE:"hide"+J,HIDDEN:"hidden"+J,CLICK_DATA_API:"click"+J+Z},re={SHOW:"show",COLLAPSE:"collapse",COLLAPSING:"collapsing",COLLAPSED:"collapsed"},oe={WIDTH:"width",HEIGHT:"height"},ae={ACTIVES:".show, .collapsing",DATA_TOGGLE:'[data-toggle="collapse"]'},le=function(){function e(e,t){this._isTransitioning=!1,this._element=e,this._config=this._getConfig(t),this._triggerArray=K.makeArray(K('[data-toggle="collapse"][href="#'+e.id+'"],[data-toggle="collapse"][data-target="#'+e.id+'"]'));for(var i=K(ae.DATA_TOGGLE),n=0;n<i.length;n++){var s=i[n],r=$t.getSelectorFromElement(s);null!==r&&K(r).filter(e).length>0&&this._triggerArray.push(s)}this._parent=this._config.parent?this._getParent():null,this._config.parent||this._addAriaAndCollapsedClass(this._element,this._triggerArray),this._config.toggle&&this.toggle()}var t=e.prototype;return t.toggle=function(){K(this._element).hasClass(re.SHOW)?this.hide():this.show()},t.show=function(){var t,i,n=this;if(!this._isTransitioning&&!K(this._element).hasClass(re.SHOW)&&(this._parent&&((t=K.makeArray(K(this._parent).children().children(ae.ACTIVES))).length||(t=null)),!(t&&(i=K(t).data(Q))&&i._isTransitioning))){var s=K.Event(se.SHOW);if(K(this._element).trigger(s),!s.isDefaultPrevented()){t&&(e._jQueryInterface.call(K(t),"hide"),i||K(t).data(Q,null));var r=this._getDimension();K(this._element).removeClass(re.COLLAPSE).addClass(re.COLLAPSING),this._element.style[r]=0,this._triggerArray.length&&K(this._triggerArray).removeClass(re.COLLAPSED).attr("aria-expanded",!0),this.setTransitioning(!0);var o=function(){K(n._element).removeClass(re.COLLAPSING).addClass(re.COLLAPSE).addClass(re.SHOW),n._element.style[r]="",n.setTransitioning(!1),K(n._element).trigger(se.SHOWN)};if($t.supportsTransitionEnd()){var a="scroll"+(r[0].toUpperCase()+r.slice(1));K(this._element).one($t.TRANSITION_END,o).emulateTransitionEnd(te),this._element.style[r]=this._element[a]+"px"}else o()}}},t.hide=function(){var e=this;if(!this._isTransitioning&&K(this._element).hasClass(re.SHOW)){var t=K.Event(se.HIDE);if(K(this._element).trigger(t),!t.isDefaultPrevented()){var i=this._getDimension();if(this._element.style[i]=this._element.getBoundingClientRect()[i]+"px",$t.reflow(this._element),K(this._element).addClass(re.COLLAPSING).removeClass(re.COLLAPSE).removeClass(re.SHOW),this._triggerArray.length)for(var n=0;n<this._triggerArray.length;n++){var s=this._triggerArray[n],r=$t.getSelectorFromElement(s);if(null!==r)K(r).hasClass(re.SHOW)||K(s).addClass(re.COLLAPSED).attr("aria-expanded",!1)}this.setTransitioning(!0);var o=function(){e.setTransitioning(!1),K(e._element).removeClass(re.COLLAPSING).addClass(re.COLLAPSE).trigger(se.HIDDEN)};this._element.style[i]="",$t.supportsTransitionEnd()?K(this._element).one($t.TRANSITION_END,o).emulateTransitionEnd(te):o()}}},t.setTransitioning=function(e){this._isTransitioning=e},t.dispose=function(){K.removeData(this._element,Q),this._config=null,this._parent=null,this._element=null,this._triggerArray=null,this._isTransitioning=null},t._getConfig=function(e){return(e=r({},ie,e)).toggle=Boolean(e.toggle),$t.typeCheckConfig(G,e,ne),e},t._getDimension=function(){return K(this._element).hasClass(oe.WIDTH)?oe.WIDTH:oe.HEIGHT},t._getParent=function(){var t=this,i=null;$t.isElement(this._config.parent)?(i=this._config.parent,"undefined"!=typeof this._config.parent.jquery&&(i=this._config.parent[0])):i=K(this._config.parent)[0];var n='[data-toggle="collapse"][data-parent="'+this._config.parent+'"]';return K(i).find(n).each(function(i,n){t._addAriaAndCollapsedClass(e._getTargetFromElement(n),[n])}),i},t._addAriaAndCollapsedClass=function(e,t){if(e){var i=K(e).hasClass(re.SHOW);t.length&&K(t).toggleClass(re.COLLAPSED,!i).attr("aria-expanded",i)}},e._getTargetFromElement=function(e){var t=$t.getSelectorFromElement(e);return t?K(t)[0]:null},e._jQueryInterface=function(t){return this.each(function(){var i=K(this),n=i.data(Q),s=r({},ie,i.data(),"object"==typeof t&&t);if(!n&&s.toggle&&/show|hide/.test(t)&&(s.toggle=!1),n||(n=new e(this,s),i.data(Q,n)),"string"==typeof t){if("undefined"==typeof n[t])throw new Error('No method named "'+t+'"');n[t]()}})},s(e,null,[{key:"VERSION",get:function(){return $}},{key:"Default",get:function(){return ie}}]),e}(),K(document).on(se.CLICK_DATA_API,ae.DATA_TOGGLE,function(e){"A"===e.currentTarget.tagName&&e.preventDefault();var t=K(this),i=$t.getSelectorFromElement(this);K(i).each(function(){var e=K(this),i=e.data(Q)?"toggle":t.data();le._jQueryInterface.call(e,i)})}),K.fn[G]=le._jQueryInterface,K.fn[G].Constructor=le,K.fn[G].noConflict=function(){return K.fn[G]=ee,le._jQueryInterface},le),ti=(de="dropdown",ce="4.0.0-beta.3",fe="."+(ue="bs.dropdown"),pe=".data-api",_e=(he=t).fn[de],ge=27,me=32,ve=9,ye=38,be=40,xe=3,we=new RegExp(ye+"|"+be+"|"+ge),ke={HIDE:"hide"+fe,HIDDEN:"hidden"+fe,SHOW:"show"+fe,SHOWN:"shown"+fe,CLICK:"click"+fe,CLICK_DATA_API:"click"+fe+pe,KEYDOWN_DATA_API:"keydown"+fe+pe,KEYUP_DATA_API:"keyup"+fe+pe},Ee={DISABLED:"disabled",SHOW:"show",DROPUP:"dropup",DROPRIGHT:"dropright",DROPLEFT:"dropleft",MENURIGHT:"dropdown-menu-right",MENULEFT:"dropdown-menu-left",POSITION_STATIC:"position-static"},Ce={DATA_TOGGLE:'[data-toggle="dropdown"]',FORM_CHILD:".dropdown form",MENU:".dropdown-menu",NAVBAR_NAV:".navbar-nav",VISIBLE_ITEMS:".dropdown-menu .dropdown-item:not(.disabled)"},De={TOP:"top-start",TOPEND:"top-end",BOTTOM:"bottom-start",BOTTOMEND:"bottom-end",RIGHT:"right-start",RIGHTEND:"right-end",LEFT:"left-start",LEFTEND:"left-end"},Te={offset:0,flip:!0,boundary:"scrollParent"},Se={offset:"(number|string|function)",flip:"boolean",boundary:"(string|element)"},Ae=function(){function e(e,t){this._element=e,this._popper=null,this._config=this._getConfig(t),this._menu=this._getMenuElement(),this._inNavbar=this._detectNavbar(),this._addEventListeners()}var t=e.prototype;return t.toggle=function(){if(!this._element.disabled&&!he(this._element).hasClass(Ee.DISABLED)){var t=e._getParentFromElement(this._element),n=he(this._menu).hasClass(Ee.SHOW);if(e._clearMenus(),!n){var s={relatedTarget:this._element},r=he.Event(ke.SHOW,s);if(he(t).trigger(r),!r.isDefaultPrevented()){if(!this._inNavbar){if(void 0===i)throw new Error("Bootstrap dropdown require Popper.js (https://popper.js.org)");var o=this._element;he(t).hasClass(Ee.DROPUP)&&(he(this._menu).hasClass(Ee.MENULEFT)||he(this._menu).hasClass(Ee.MENURIGHT))&&(o=t),"scrollParent"!==this._config.boundary&&he(t).addClass(Ee.POSITION_STATIC),this._popper=new i(o,this._menu,this._getPopperConfig())}"ontouchstart"in document.documentElement&&!he(t).closest(Ce.NAVBAR_NAV).length&&he("body").children().on("mouseover",null,he.noop),this._element.focus(),this._element.setAttribute("aria-expanded",!0),he(this._menu).toggleClass(Ee.SHOW),he(t).toggleClass(Ee.SHOW).trigger(he.Event(ke.SHOWN,s))}}}},t.dispose=function(){he.removeData(this._element,ue),he(this._element).off(fe),this._element=null,this._menu=null,null!==this._popper&&(this._popper.destroy(),this._popper=null)},t.update=function(){this._inNavbar=this._detectNavbar(),null!==this._popper&&this._popper.scheduleUpdate()},t._addEventListeners=function(){var e=this;he(this._element).on(ke.CLICK,function(t){t.preventDefault(),t.stopPropagation(),e.toggle()})},t._getConfig=function(e){return e=r({},this.constructor.Default,he(this._element).data(),e),$t.typeCheckConfig(de,e,this.constructor.DefaultType),e},t._getMenuElement=function(){if(!this._menu){var t=e._getParentFromElement(this._element);this._menu=he(t).find(Ce.MENU)[0]}return this._menu},t._getPlacement=function(){var e=he(this._element).parent(),t=De.BOTTOM;return e.hasClass(Ee.DROPUP)?(t=De.TOP,he(this._menu).hasClass(Ee.MENURIGHT)&&(t=De.TOPEND)):e.hasClass(Ee.DROPRIGHT)?t=De.RIGHT:e.hasClass(Ee.DROPLEFT)?t=De.LEFT:he(this._menu).hasClass(Ee.MENURIGHT)&&(t=De.BOTTOMEND),t},t._detectNavbar=function(){return he(this._element).closest(".navbar").length>0},t._getPopperConfig=function(){var e=this,t={};return"function"==typeof this._config.offset?t.fn=function(t){return t.offsets=r({},t.offsets,e._config.offset(t.offsets)||{}),t}:t.offset=this._config.offset,{placement:this._getPlacement(),modifiers:{offset:t,flip:{enabled:this._config.flip},preventOverflow:{boundariesElement:this._config.boundary}}}},e._jQueryInterface=function(t){return this.each(function(){var i=he(this).data(ue);if(i||(i=new e(this,"object"==typeof t?t:null),he(this).data(ue,i)),"string"==typeof t){if("undefined"==typeof i[t])throw new Error('No method named "'+t+'"');i[t]()}})},e._clearMenus=function(t){if(!t||t.which!==xe&&("keyup"!==t.type||t.which===ve))for(var i=he.makeArray(he(Ce.DATA_TOGGLE)),n=0;n<i.length;n++){var s=e._getParentFromElement(i[n]),r=he(i[n]).data(ue),o={relatedTarget:i[n]};if(r){var a=r._menu;if(he(s).hasClass(Ee.SHOW)&&!(t&&("click"===t.type&&/input|textarea/i.test(t.target.tagName)||"keyup"===t.type&&t.which===ve)&&he.contains(s,t.target))){var l=he.Event(ke.HIDE,o);he(s).trigger(l),l.isDefaultPrevented()||("ontouchstart"in document.documentElement&&he("body").children().off("mouseover",null,he.noop),i[n].setAttribute("aria-expanded","false"),he(a).removeClass(Ee.SHOW),he(s).removeClass(Ee.SHOW).trigger(he.Event(ke.HIDDEN,o)))}}}},e._getParentFromElement=function(e){var t,i=$t.getSelectorFromElement(e);return i&&(t=he(i)[0]),t||e.parentNode},e._dataApiKeydownHandler=function(t){if((/input|textarea/i.test(t.target.tagName)?!(t.which===me||t.which!==ge&&(t.which!==be&&t.which!==ye||he(t.target).closest(Ce.MENU).length)):we.test(t.which))&&(t.preventDefault(),t.stopPropagation(),!this.disabled&&!he(this).hasClass(Ee.DISABLED))){var i=e._getParentFromElement(this),n=he(i).hasClass(Ee.SHOW);if((n||t.which===ge&&t.which===me)&&(!n||t.which!==ge&&t.which!==me)){var s=he(i).find(Ce.VISIBLE_ITEMS).get();if(s.length){var r=s.indexOf(t.target);t.which===ye&&r>0&&r--,
t.which===be&&r<s.length-1&&r++,r<0&&(r=0),s[r].focus()}}else{if(t.which===ge){var o=he(i).find(Ce.DATA_TOGGLE)[0];he(o).trigger("focus")}he(this).trigger("click")}}},s(e,null,[{key:"VERSION",get:function(){return ce}},{key:"Default",get:function(){return Te}},{key:"DefaultType",get:function(){return Se}}]),e}(),he(document).on(ke.KEYDOWN_DATA_API,Ce.DATA_TOGGLE,Ae._dataApiKeydownHandler).on(ke.KEYDOWN_DATA_API,Ce.MENU,Ae._dataApiKeydownHandler).on(ke.CLICK_DATA_API+" "+ke.KEYUP_DATA_API,Ae._clearMenus).on(ke.CLICK_DATA_API,Ce.DATA_TOGGLE,function(e){e.preventDefault(),e.stopPropagation(),Ae._jQueryInterface.call(he(this),"toggle")}).on(ke.CLICK_DATA_API,Ce.FORM_CHILD,function(e){e.stopPropagation()}),he.fn[de]=Ae._jQueryInterface,he.fn[de].Constructor=Ae,he.fn[de].noConflict=function(){return he.fn[de]=_e,Ae._jQueryInterface},Ae),ii=(Ne="modal",Ie="4.0.0-beta.3",Le="."+(Me="bs.modal"),Pe=".data-api",He=(Oe=t).fn[Ne],je=300,Re=150,ze=27,Fe={backdrop:!0,keyboard:!0,focus:!0,show:!0},We={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean",show:"boolean"},Be={HIDE:"hide"+Le,HIDDEN:"hidden"+Le,SHOW:"show"+Le,SHOWN:"shown"+Le,FOCUSIN:"focusin"+Le,RESIZE:"resize"+Le,CLICK_DISMISS:"click.dismiss"+Le,KEYDOWN_DISMISS:"keydown.dismiss"+Le,MOUSEUP_DISMISS:"mouseup.dismiss"+Le,MOUSEDOWN_DISMISS:"mousedown.dismiss"+Le,CLICK_DATA_API:"click"+Le+Pe},qe={SCROLLBAR_MEASURER:"modal-scrollbar-measure",BACKDROP:"modal-backdrop",OPEN:"modal-open",FADE:"fade",SHOW:"show"},Ve={DIALOG:".modal-dialog",DATA_TOGGLE:'[data-toggle="modal"]',DATA_DISMISS:'[data-dismiss="modal"]',FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"},Ue=function(){function e(e,t){this._config=this._getConfig(t),this._element=e,this._dialog=Oe(e).find(Ve.DIALOG)[0],this._backdrop=null,this._isShown=!1,this._isBodyOverflowing=!1,this._ignoreBackdropClick=!1,this._originalBodyPadding=0,this._scrollbarWidth=0}var t=e.prototype;return t.toggle=function(e){return this._isShown?this.hide():this.show(e)},t.show=function(e){var t=this;if(!this._isTransitioning&&!this._isShown){$t.supportsTransitionEnd()&&Oe(this._element).hasClass(qe.FADE)&&(this._isTransitioning=!0);var i=Oe.Event(Be.SHOW,{relatedTarget:e});Oe(this._element).trigger(i),this._isShown||i.isDefaultPrevented()||(this._isShown=!0,this._checkScrollbar(),this._setScrollbar(),this._adjustDialog(),Oe(document.body).addClass(qe.OPEN),this._setEscapeEvent(),this._setResizeEvent(),Oe(this._element).on(Be.CLICK_DISMISS,Ve.DATA_DISMISS,function(e){return t.hide(e)}),Oe(this._dialog).on(Be.MOUSEDOWN_DISMISS,function(){Oe(t._element).one(Be.MOUSEUP_DISMISS,function(e){Oe(e.target).is(t._element)&&(t._ignoreBackdropClick=!0)})}),this._showBackdrop(function(){return t._showElement(e)}))}},t.hide=function(e){var t=this;if(e&&e.preventDefault(),!this._isTransitioning&&this._isShown){var i=Oe.Event(Be.HIDE);if(Oe(this._element).trigger(i),this._isShown&&!i.isDefaultPrevented()){this._isShown=!1;var n=$t.supportsTransitionEnd()&&Oe(this._element).hasClass(qe.FADE);n&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),Oe(document).off(Be.FOCUSIN),Oe(this._element).removeClass(qe.SHOW),Oe(this._element).off(Be.CLICK_DISMISS),Oe(this._dialog).off(Be.MOUSEDOWN_DISMISS),n?Oe(this._element).one($t.TRANSITION_END,function(e){return t._hideModal(e)}).emulateTransitionEnd(je):this._hideModal()}}},t.dispose=function(){Oe.removeData(this._element,Me),Oe(window,document,this._element,this._backdrop).off(Le),this._config=null,this._element=null,this._dialog=null,this._backdrop=null,this._isShown=null,this._isBodyOverflowing=null,this._ignoreBackdropClick=null,this._scrollbarWidth=null},t.handleUpdate=function(){this._adjustDialog()},t._getConfig=function(e){return e=r({},Fe,e),$t.typeCheckConfig(Ne,e,We),e},t._showElement=function(e){var t=this,i=$t.supportsTransitionEnd()&&Oe(this._element).hasClass(qe.FADE);this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.appendChild(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.scrollTop=0,i&&$t.reflow(this._element),Oe(this._element).addClass(qe.SHOW),this._config.focus&&this._enforceFocus();var n=Oe.Event(Be.SHOWN,{relatedTarget:e}),s=function(){t._config.focus&&t._element.focus(),t._isTransitioning=!1,Oe(t._element).trigger(n)};i?Oe(this._dialog).one($t.TRANSITION_END,s).emulateTransitionEnd(je):s()},t._enforceFocus=function(){var e=this;Oe(document).off(Be.FOCUSIN).on(Be.FOCUSIN,function(t){document===t.target||e._element===t.target||Oe(e._element).has(t.target).length||e._element.focus()})},t._setEscapeEvent=function(){var e=this;this._isShown&&this._config.keyboard?Oe(this._element).on(Be.KEYDOWN_DISMISS,function(t){t.which===ze&&(t.preventDefault(),e.hide())}):this._isShown||Oe(this._element).off(Be.KEYDOWN_DISMISS)},t._setResizeEvent=function(){var e=this;this._isShown?Oe(window).on(Be.RESIZE,function(t){return e.handleUpdate(t)}):Oe(window).off(Be.RESIZE)},t._hideModal=function(){var e=this;this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._isTransitioning=!1,this._showBackdrop(function(){Oe(document.body).removeClass(qe.OPEN),e._resetAdjustments(),e._resetScrollbar(),Oe(e._element).trigger(Be.HIDDEN)})},t._removeBackdrop=function(){this._backdrop&&(Oe(this._backdrop).remove(),this._backdrop=null)},t._showBackdrop=function(e){var t=this,i=Oe(this._element).hasClass(qe.FADE)?qe.FADE:"";if(this._isShown&&this._config.backdrop){var n=$t.supportsTransitionEnd()&&i;if(this._backdrop=document.createElement("div"),this._backdrop.className=qe.BACKDROP,i&&Oe(this._backdrop).addClass(i),Oe(this._backdrop).appendTo(document.body),Oe(this._element).on(Be.CLICK_DISMISS,function(e){t._ignoreBackdropClick?t._ignoreBackdropClick=!1:e.target===e.currentTarget&&("static"===t._config.backdrop?t._element.focus():t.hide())}),n&&$t.reflow(this._backdrop),Oe(this._backdrop).addClass(qe.SHOW),!e)return;if(!n)return void e();Oe(this._backdrop).one($t.TRANSITION_END,e).emulateTransitionEnd(Re)}else if(!this._isShown&&this._backdrop){Oe(this._backdrop).removeClass(qe.SHOW);var s=function(){t._removeBackdrop(),e&&e()};$t.supportsTransitionEnd()&&Oe(this._element).hasClass(qe.FADE)?Oe(this._backdrop).one($t.TRANSITION_END,s).emulateTransitionEnd(Re):s()}else e&&e()},t._adjustDialog=function(){var e=this._element.scrollHeight>document.documentElement.clientHeight;!this._isBodyOverflowing&&e&&(this._element.style.paddingLeft=this._scrollbarWidth+"px"),this._isBodyOverflowing&&!e&&(this._element.style.paddingRight=this._scrollbarWidth+"px")},t._resetAdjustments=function(){this._element.style.paddingLeft="",this._element.style.paddingRight=""},t._checkScrollbar=function(){var e=document.body.getBoundingClientRect();this._isBodyOverflowing=e.left+e.right<window.innerWidth,this._scrollbarWidth=this._getScrollbarWidth()},t._setScrollbar=function(){var e=this;if(this._isBodyOverflowing){Oe(Ve.FIXED_CONTENT).each(function(t,i){var n=Oe(i)[0].style.paddingRight,s=Oe(i).css("padding-right");Oe(i).data("padding-right",n).css("padding-right",parseFloat(s)+e._scrollbarWidth+"px")}),Oe(Ve.STICKY_CONTENT).each(function(t,i){var n=Oe(i)[0].style.marginRight,s=Oe(i).css("margin-right");Oe(i).data("margin-right",n).css("margin-right",parseFloat(s)-e._scrollbarWidth+"px")}),Oe(Ve.NAVBAR_TOGGLER).each(function(t,i){var n=Oe(i)[0].style.marginRight,s=Oe(i).css("margin-right");Oe(i).data("margin-right",n).css("margin-right",parseFloat(s)+e._scrollbarWidth+"px")});var t=document.body.style.paddingRight,i=Oe("body").css("padding-right");Oe("body").data("padding-right",t).css("padding-right",parseFloat(i)+this._scrollbarWidth+"px")}},t._resetScrollbar=function(){Oe(Ve.FIXED_CONTENT).each(function(e,t){var i=Oe(t).data("padding-right");void 0!==i&&Oe(t).css("padding-right",i).removeData("padding-right")}),Oe(Ve.STICKY_CONTENT+", "+Ve.NAVBAR_TOGGLER).each(function(e,t){var i=Oe(t).data("margin-right");void 0!==i&&Oe(t).css("margin-right",i).removeData("margin-right")});var e=Oe("body").data("padding-right");void 0!==e&&Oe("body").css("padding-right",e).removeData("padding-right")},t._getScrollbarWidth=function(){var e=document.createElement("div");e.className=qe.SCROLLBAR_MEASURER,document.body.appendChild(e);var t=e.getBoundingClientRect().width-e.clientWidth;return document.body.removeChild(e),t},e._jQueryInterface=function(t,i){return this.each(function(){var n=Oe(this).data(Me),s=r({},e.Default,Oe(this).data(),"object"==typeof t&&t);if(n||(n=new e(this,s),Oe(this).data(Me,n)),"string"==typeof t){if("undefined"==typeof n[t])throw new Error('No method named "'+t+'"');n[t](i)}else s.show&&n.show(i)})},s(e,null,[{key:"VERSION",get:function(){return Ie}},{key:"Default",get:function(){return Fe}}]),e}(),Oe(document).on(Be.CLICK_DATA_API,Ve.DATA_TOGGLE,function(e){var t,i=this,n=$t.getSelectorFromElement(this);n&&(t=Oe(n)[0]);var s=Oe(t).data(Me)?"toggle":r({},Oe(t).data(),Oe(this).data());"A"!==this.tagName&&"AREA"!==this.tagName||e.preventDefault();var o=Oe(t).one(Be.SHOW,function(e){e.isDefaultPrevented()||o.one(Be.HIDDEN,function(){Oe(i).is(":visible")&&i.focus()})});Ue._jQueryInterface.call(Oe(t),s,this)}),Oe.fn[Ne]=Ue._jQueryInterface,Oe.fn[Ne].Constructor=Ue,Oe.fn[Ne].noConflict=function(){return Oe.fn[Ne]=He,Ue._jQueryInterface},Ue),ni=(Xe="tooltip",Ke="4.0.0-beta.3",$e="."+(Ge="bs.tooltip"),Qe=(Ye=t).fn[Xe],Je=150,Ze="bs-tooltip",et=new RegExp("(^|\\s)"+Ze+"\\S+","g"),tt={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(number|string)",container:"(string|element|boolean)",fallbackPlacement:"(string|array)",boundary:"(string|element)"},it={AUTO:"auto",TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left"},nt={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:0,container:!1,fallbackPlacement:"flip",boundary:"scrollParent"},st={SHOW:"show",OUT:"out"},rt={HIDE:"hide"+$e,HIDDEN:"hidden"+$e,SHOW:"show"+$e,SHOWN:"shown"+$e,INSERTED:"inserted"+$e,CLICK:"click"+$e,FOCUSIN:"focusin"+$e,FOCUSOUT:"focusout"+$e,MOUSEENTER:"mouseenter"+$e,MOUSELEAVE:"mouseleave"+$e},ot={FADE:"fade",SHOW:"show"},at={TOOLTIP:".tooltip",TOOLTIP_INNER:".tooltip-inner",ARROW:".arrow"},lt={HOVER:"hover",FOCUS:"focus",CLICK:"click",MANUAL:"manual"},ht=function(){function e(e,t){if(void 0===i)throw new Error("Bootstrap tooltips require Popper.js (https://popper.js.org)");this._isEnabled=!0,this._timeout=0,this._hoverState="",this._activeTrigger={},this._popper=null,this.element=e,this.config=this._getConfig(t),this.tip=null,this._setListeners()}var t=e.prototype;return t.enable=function(){this._isEnabled=!0},t.disable=function(){this._isEnabled=!1},t.toggleEnabled=function(){this._isEnabled=!this._isEnabled},t.toggle=function(e){if(this._isEnabled)if(e){var t=this.constructor.DATA_KEY,i=Ye(e.currentTarget).data(t);i||(i=new this.constructor(e.currentTarget,this._getDelegateConfig()),Ye(e.currentTarget).data(t,i)),i._activeTrigger.click=!i._activeTrigger.click,i._isWithActiveTrigger()?i._enter(null,i):i._leave(null,i)}else{if(Ye(this.getTipElement()).hasClass(ot.SHOW))return void this._leave(null,this);this._enter(null,this)}},t.dispose=function(){clearTimeout(this._timeout),Ye.removeData(this.element,this.constructor.DATA_KEY),Ye(this.element).off(this.constructor.EVENT_KEY),Ye(this.element).closest(".modal").off("hide.bs.modal"),this.tip&&Ye(this.tip).remove(),this._isEnabled=null,this._timeout=null,this._hoverState=null,this._activeTrigger=null,null!==this._popper&&this._popper.destroy(),this._popper=null,this.element=null,this.config=null,this.tip=null},t.show=function(){var t=this;if("none"===Ye(this.element).css("display"))throw new Error("Please use show on visible elements");var n=Ye.Event(this.constructor.Event.SHOW);if(this.isWithContent()&&this._isEnabled){Ye(this.element).trigger(n);var s=Ye.contains(this.element.ownerDocument.documentElement,this.element);if(n.isDefaultPrevented()||!s)return;var r=this.getTipElement(),o=$t.getUID(this.constructor.NAME);r.setAttribute("id",o),this.element.setAttribute("aria-describedby",o),this.setContent(),this.config.animation&&Ye(r).addClass(ot.FADE);var a="function"==typeof this.config.placement?this.config.placement.call(this,r,this.element):this.config.placement,l=this._getAttachment(a);this.addAttachmentClass(l);var h=!1===this.config.container?document.body:Ye(this.config.container);Ye(r).data(this.constructor.DATA_KEY,this),Ye.contains(this.element.ownerDocument.documentElement,this.tip)||Ye(r).appendTo(h),Ye(this.element).trigger(this.constructor.Event.INSERTED),this._popper=new i(this.element,r,{placement:l,modifiers:{offset:{offset:this.config.offset},flip:{behavior:this.config.fallbackPlacement},arrow:{element:at.ARROW},preventOverflow:{boundariesElement:this.config.boundary}},onCreate:function(e){e.originalPlacement!==e.placement&&t._handlePopperPlacementChange(e)},onUpdate:function(e){t._handlePopperPlacementChange(e)}}),Ye(r).addClass(ot.SHOW),"ontouchstart"in document.documentElement&&Ye("body").children().on("mouseover",null,Ye.noop);var d=function(){t.config.animation&&t._fixTransition();var e=t._hoverState;t._hoverState=null,Ye(t.element).trigger(t.constructor.Event.SHOWN),e===st.OUT&&t._leave(null,t)};$t.supportsTransitionEnd()&&Ye(this.tip).hasClass(ot.FADE)?Ye(this.tip).one($t.TRANSITION_END,d).emulateTransitionEnd(e._TRANSITION_DURATION):d()}},t.hide=function(e){var t=this,i=this.getTipElement(),n=Ye.Event(this.constructor.Event.HIDE),s=function(){t._hoverState!==st.SHOW&&i.parentNode&&i.parentNode.removeChild(i),t._cleanTipClass(),t.element.removeAttribute("aria-describedby"),Ye(t.element).trigger(t.constructor.Event.HIDDEN),null!==t._popper&&t._popper.destroy(),e&&e()};Ye(this.element).trigger(n),n.isDefaultPrevented()||(Ye(i).removeClass(ot.SHOW),"ontouchstart"in document.documentElement&&Ye("body").children().off("mouseover",null,Ye.noop),this._activeTrigger[lt.CLICK]=!1,this._activeTrigger[lt.FOCUS]=!1,this._activeTrigger[lt.HOVER]=!1,$t.supportsTransitionEnd()&&Ye(this.tip).hasClass(ot.FADE)?Ye(i).one($t.TRANSITION_END,s).emulateTransitionEnd(Je):s(),this._hoverState="")},t.update=function(){null!==this._popper&&this._popper.scheduleUpdate()},t.isWithContent=function(){return Boolean(this.getTitle())},t.addAttachmentClass=function(e){Ye(this.getTipElement()).addClass(Ze+"-"+e)},t.getTipElement=function(){return this.tip=this.tip||Ye(this.config.template)[0],this.tip},t.setContent=function(){var e=Ye(this.getTipElement());this.setElementContent(e.find(at.TOOLTIP_INNER),this.getTitle()),e.removeClass(ot.FADE+" "+ot.SHOW)},t.setElementContent=function(e,t){var i=this.config.html;"object"==typeof t&&(t.nodeType||t.jquery)?i?Ye(t).parent().is(e)||e.empty().append(t):e.text(Ye(t).text()):e[i?"html":"text"](t)},t.getTitle=function(){var e=this.element.getAttribute("data-original-title");return e||(e="function"==typeof this.config.title?this.config.title.call(this.element):this.config.title),e},t._getAttachment=function(e){return it[e.toUpperCase()]},t._setListeners=function(){var e=this;this.config.trigger.split(" ").forEach(function(t){if("click"===t)Ye(e.element).on(e.constructor.Event.CLICK,e.config.selector,function(t){return e.toggle(t)});else if(t!==lt.MANUAL){var i=t===lt.HOVER?e.constructor.Event.MOUSEENTER:e.constructor.Event.FOCUSIN,n=t===lt.HOVER?e.constructor.Event.MOUSELEAVE:e.constructor.Event.FOCUSOUT;Ye(e.element).on(i,e.config.selector,function(t){return e._enter(t)}).on(n,e.config.selector,function(t){return e._leave(t)})}Ye(e.element).closest(".modal").on("hide.bs.modal",function(){return e.hide()})}),this.config.selector?this.config=r({},this.config,{trigger:"manual",selector:""}):this._fixTitle()},t._fixTitle=function(){var e=typeof this.element.getAttribute("data-original-title");(this.element.getAttribute("title")||"string"!==e)&&(this.element.setAttribute("data-original-title",this.element.getAttribute("title")||""),this.element.setAttribute("title",""))},t._enter=function(e,t){var i=this.constructor.DATA_KEY;(t=t||Ye(e.currentTarget).data(i))||(t=new this.constructor(e.currentTarget,this._getDelegateConfig()),Ye(e.currentTarget).data(i,t)),e&&(t._activeTrigger["focusin"===e.type?lt.FOCUS:lt.HOVER]=!0),Ye(t.getTipElement()).hasClass(ot.SHOW)||t._hoverState===st.SHOW?t._hoverState=st.SHOW:(clearTimeout(t._timeout),t._hoverState=st.SHOW,t.config.delay&&t.config.delay.show?t._timeout=setTimeout(function(){t._hoverState===st.SHOW&&t.show()},t.config.delay.show):t.show())},t._leave=function(e,t){var i=this.constructor.DATA_KEY;(t=t||Ye(e.currentTarget).data(i))||(t=new this.constructor(e.currentTarget,this._getDelegateConfig()),Ye(e.currentTarget).data(i,t)),e&&(t._activeTrigger["focusout"===e.type?lt.FOCUS:lt.HOVER]=!1),t._isWithActiveTrigger()||(clearTimeout(t._timeout),t._hoverState=st.OUT,t.config.delay&&t.config.delay.hide?t._timeout=setTimeout(function(){t._hoverState===st.OUT&&t.hide()},t.config.delay.hide):t.hide())},t._isWithActiveTrigger=function(){for(var e in this._activeTrigger)if(this._activeTrigger[e])return!0;return!1},t._getConfig=function(e){return"number"==typeof(e=r({},this.constructor.Default,Ye(this.element).data(),e)).delay&&(e.delay={show:e.delay,hide:e.delay}),"number"==typeof e.title&&(e.title=e.title.toString()),"number"==typeof e.content&&(e.content=e.content.toString()),$t.typeCheckConfig(Xe,e,this.constructor.DefaultType),e},t._getDelegateConfig=function(){var e={};if(this.config)for(var t in this.config)this.constructor.Default[t]!==this.config[t]&&(e[t]=this.config[t]);return e},t._cleanTipClass=function(){var e=Ye(this.getTipElement()),t=e.attr("class").match(et);null!==t&&t.length>0&&e.removeClass(t.join(""))},t._handlePopperPlacementChange=function(e){this._cleanTipClass(),this.addAttachmentClass(this._getAttachment(e.placement))},t._fixTransition=function(){var e=this.getTipElement(),t=this.config.animation;null===e.getAttribute("x-placement")&&(Ye(e).removeClass(ot.FADE),this.config.animation=!1,this.hide(),this.show(),this.config.animation=t)},e._jQueryInterface=function(t){return this.each(function(){var i=Ye(this).data(Ge),n="object"==typeof t&&t;if((i||!/dispose|hide/.test(t))&&(i||(i=new e(this,n),Ye(this).data(Ge,i)),"string"==typeof t)){if("undefined"==typeof i[t])throw new Error('No method named "'+t+'"');i[t]()}})},s(e,null,[{key:"VERSION",get:function(){return Ke}},{key:"Default",get:function(){return nt}},{key:"NAME",get:function(){return Xe}},{key:"DATA_KEY",get:function(){return Ge}},{key:"Event",get:function(){return rt}},{key:"EVENT_KEY",get:function(){return $e}},{key:"DefaultType",get:function(){return tt}}]),e}(),Ye.fn[Xe]=ht._jQueryInterface,Ye.fn[Xe].Constructor=ht,Ye.fn[Xe].noConflict=function(){return Ye.fn[Xe]=Qe,ht._jQueryInterface},ht),si=(ct="popover",ut="4.0.0-beta.3",pt="."+(ft="bs.popover"),_t=(dt=t).fn[ct],gt="bs-popover",mt=new RegExp("(^|\\s)"+gt+"\\S+","g"),vt=r({},ni.Default,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'}),yt=r({},ni.DefaultType,{content:"(string|element|function)"}),bt={FADE:"fade",SHOW:"show"},xt={TITLE:".popover-header",CONTENT:".popover-body"},wt={HIDE:"hide"+pt,HIDDEN:"hidden"+pt,SHOW:"show"+pt,SHOWN:"shown"+pt,INSERTED:"inserted"+pt,CLICK:"click"+pt,FOCUSIN:"focusin"+pt,FOCUSOUT:"focusout"+pt,MOUSEENTER:"mouseenter"+pt,MOUSELEAVE:"mouseleave"+pt},kt=function(e){function t(){return e.apply(this,arguments)||this}o(t,e);var i=t.prototype;return i.isWithContent=function(){return this.getTitle()||this._getContent()},i.addAttachmentClass=function(e){dt(this.getTipElement()).addClass(gt+"-"+e)},i.getTipElement=function(){return this.tip=this.tip||dt(this.config.template)[0],this.tip},i.setContent=function(){var e=dt(this.getTipElement());this.setElementContent(e.find(xt.TITLE),this.getTitle());var t=this._getContent();"function"==typeof t&&(t=t.call(this.element)),this.setElementContent(e.find(xt.CONTENT),t),e.removeClass(bt.FADE+" "+bt.SHOW)},i._getContent=function(){return this.element.getAttribute("data-content")||this.config.content},i._cleanTipClass=function(){var e=dt(this.getTipElement()),t=e.attr("class").match(mt);null!==t&&t.length>0&&e.removeClass(t.join(""))},t._jQueryInterface=function(e){return this.each(function(){var i=dt(this).data(ft),n="object"==typeof e?e:null;if((i||!/destroy|hide/.test(e))&&(i||(i=new t(this,n),dt(this).data(ft,i)),"string"==typeof e)){if("undefined"==typeof i[e])throw new Error('No method named "'+e+'"');i[e]()}})},s(t,null,[{key:"VERSION",get:function(){return ut}},{key:"Default",get:function(){return vt}},{key:"NAME",get:function(){return ct}},{key:"DATA_KEY",get:function(){return ft}},{key:"Event",get:function(){return wt}},{key:"EVENT_KEY",get:function(){return pt}},{key:"DefaultType",get:function(){return yt}}]),t}(ni),dt.fn[ct]=kt._jQueryInterface,dt.fn[ct].Constructor=kt,dt.fn[ct].noConflict=function(){return dt.fn[ct]=_t,kt._jQueryInterface},kt),ri=(Ct="scrollspy",Dt="4.0.0-beta.3",St="."+(Tt="bs.scrollspy"),At=".data-api",Ot=(Et=t).fn[Ct],Nt={offset:10,method:"auto",target:""},It={offset:"number",method:"string",target:"(string|element)"},Mt={ACTIVATE:"activate"+St,SCROLL:"scroll"+St,LOAD_DATA_API:"load"+St+At},Lt={DROPDOWN_ITEM:"dropdown-item",DROPDOWN_MENU:"dropdown-menu",ACTIVE:"active"},Pt={DATA_SPY:'[data-spy="scroll"]',ACTIVE:".active",NAV_LIST_GROUP:".nav, .list-group",NAV_LINKS:".nav-link",NAV_ITEMS:".nav-item",LIST_ITEMS:".list-group-item",DROPDOWN:".dropdown",DROPDOWN_ITEMS:".dropdown-item",DROPDOWN_TOGGLE:".dropdown-toggle"},Ht={OFFSET:"offset",POSITION:"position"},jt=function(){function e(e,t){var i=this;this._element=e,this._scrollElement="BODY"===e.tagName?window:e,this._config=this._getConfig(t),this._selector=this._config.target+" "+Pt.NAV_LINKS+","+this._config.target+" "+Pt.LIST_ITEMS+","+this._config.target+" "+Pt.DROPDOWN_ITEMS,this._offsets=[],this._targets=[],this._activeTarget=null,this._scrollHeight=0,Et(this._scrollElement).on(Mt.SCROLL,function(e){return i._process(e)}),this.refresh(),this._process()}var t=e.prototype;return t.refresh=function(){var e=this,t=this._scrollElement!==this._scrollElement.window?Ht.POSITION:Ht.OFFSET,i="auto"===this._config.method?t:this._config.method,n=i===Ht.POSITION?this._getScrollTop():0;this._offsets=[],this._targets=[],this._scrollHeight=this._getScrollHeight(),Et.makeArray(Et(this._selector)).map(function(e){var t,s=$t.getSelectorFromElement(e);if(s&&(t=Et(s)[0]),t){var r=t.getBoundingClientRect();if(r.width||r.height)return[Et(t)[i]().top+n,s]}return null}).filter(function(e){return e}).sort(function(e,t){return e[0]-t[0]}).forEach(function(t){e._offsets.push(t[0]),e._targets.push(t[1])})},t.dispose=function(){Et.removeData(this._element,Tt),Et(this._scrollElement).off(St),this._element=null,this._scrollElement=null,this._config=null,this._selector=null,this._offsets=null,this._targets=null,this._activeTarget=null,this._scrollHeight=null},t._getConfig=function(e){if("string"!=typeof(e=r({},Nt,e)).target){var t=Et(e.target).attr("id");t||(t=$t.getUID(Ct),Et(e.target).attr("id",t)),e.target="#"+t}return $t.typeCheckConfig(Ct,e,It),e},t._getScrollTop=function(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop},t._getScrollHeight=function(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)},t._getOffsetHeight=function(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height},t._process=function(){var e=this._getScrollTop()+this._config.offset,t=this._getScrollHeight(),i=this._config.offset+t-this._getOffsetHeight();if(this._scrollHeight!==t&&this.refresh(),e>=i){var n=this._targets[this._targets.length-1];this._activeTarget!==n&&this._activate(n)}else{if(this._activeTarget&&e<this._offsets[0]&&this._offsets[0]>0)return this._activeTarget=null,void this._clear();for(var s=this._offsets.length;s--;){this._activeTarget!==this._targets[s]&&e>=this._offsets[s]&&("undefined"==typeof this._offsets[s+1]||e<this._offsets[s+1])&&this._activate(this._targets[s])}}},t._activate=function(e){this._activeTarget=e,this._clear();var t=this._selector.split(",");t=t.map(function(t){return t+'[data-target="'+e+'"],'+t+'[href="'+e+'"]'});var i=Et(t.join(","));i.hasClass(Lt.DROPDOWN_ITEM)?(i.closest(Pt.DROPDOWN).find(Pt.DROPDOWN_TOGGLE).addClass(Lt.ACTIVE),i.addClass(Lt.ACTIVE)):(i.addClass(Lt.ACTIVE),i.parents(Pt.NAV_LIST_GROUP).prev(Pt.NAV_LINKS+", "+Pt.LIST_ITEMS).addClass(Lt.ACTIVE),i.parents(Pt.NAV_LIST_GROUP).prev(Pt.NAV_ITEMS).children(Pt.NAV_LINKS).addClass(Lt.ACTIVE)),Et(this._scrollElement).trigger(Mt.ACTIVATE,{relatedTarget:e})},t._clear=function(){Et(this._selector).filter(Pt.ACTIVE).removeClass(Lt.ACTIVE)},e._jQueryInterface=function(t){return this.each(function(){var i=Et(this).data(Tt);if(i||(i=new e(this,"object"==typeof t&&t),Et(this).data(Tt,i)),"string"==typeof t){if("undefined"==typeof i[t])throw new Error('No method named "'+t+'"');i[t]()}})},s(e,null,[{key:"VERSION",get:function(){return Dt}},{key:"Default",get:function(){return Nt}}]),e}(),Et(window).on(Mt.LOAD_DATA_API,function(){for(var e=Et.makeArray(Et(Pt.DATA_SPY)),t=e.length;t--;){var i=Et(e[t]);jt._jQueryInterface.call(i,i.data())}}),Et.fn[Ct]=jt._jQueryInterface,Et.fn[Ct].Constructor=jt,Et.fn[Ct].noConflict=function(){return Et.fn[Ct]=Ot,jt._jQueryInterface},jt),oi=(zt="tab",Ft="4.0.0-beta.3",Bt="."+(Wt="bs.tab"),qt=".data-api",Vt=(Rt=t).fn[zt],Ut=150,Yt={HIDE:"hide"+Bt,HIDDEN:"hidden"+Bt,SHOW:"show"+Bt,SHOWN:"shown"+Bt,CLICK_DATA_API:"click"+Bt+qt},Xt={DROPDOWN_MENU:"dropdown-menu",ACTIVE:"active",DISABLED:"disabled",FADE:"fade",SHOW:"show"},Kt={DROPDOWN:".dropdown",NAV_LIST_GROUP:".nav, .list-group",ACTIVE:".active",ACTIVE_UL:"> li > .active",DATA_TOGGLE:'[data-toggle="tab"], [data-toggle="pill"], [data-toggle="list"]',DROPDOWN_TOGGLE:".dropdown-toggle",DROPDOWN_ACTIVE_CHILD:"> .dropdown-menu .active"},Gt=function(){function e(e){this._element=e}var t=e.prototype;return t.show=function(){var e=this;if(!(this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&Rt(this._element).hasClass(Xt.ACTIVE)||Rt(this._element).hasClass(Xt.DISABLED))){var t,i,n=Rt(this._element).closest(Kt.NAV_LIST_GROUP)[0],s=$t.getSelectorFromElement(this._element);if(n){var r="UL"===n.nodeName?Kt.ACTIVE_UL:Kt.ACTIVE;i=(i=Rt.makeArray(Rt(n).find(r)))[i.length-1]}var o=Rt.Event(Yt.HIDE,{relatedTarget:this._element}),a=Rt.Event(Yt.SHOW,{relatedTarget:i});if(i&&Rt(i).trigger(o),Rt(this._element).trigger(a),!a.isDefaultPrevented()&&!o.isDefaultPrevented()){s&&(t=Rt(s)[0]),this._activate(this._element,n);var l=function(){var t=Rt.Event(Yt.HIDDEN,{relatedTarget:e._element}),n=Rt.Event(Yt.SHOWN,{relatedTarget:i});Rt(i).trigger(t),Rt(e._element).trigger(n)};t?this._activate(t,t.parentNode,l):l()}}},t.dispose=function(){Rt.removeData(this._element,Wt),this._element=null},t._activate=function(e,t,i){var n=this,s=("UL"===t.nodeName?Rt(t).find(Kt.ACTIVE_UL):Rt(t).children(Kt.ACTIVE))[0],r=i&&$t.supportsTransitionEnd()&&s&&Rt(s).hasClass(Xt.FADE),o=function(){return n._transitionComplete(e,s,i)};s&&r?Rt(s).one($t.TRANSITION_END,o).emulateTransitionEnd(Ut):o()},t._transitionComplete=function(e,t,i){if(t){Rt(t).removeClass(Xt.SHOW+" "+Xt.ACTIVE);var n=Rt(t.parentNode).find(Kt.DROPDOWN_ACTIVE_CHILD)[0];n&&Rt(n).removeClass(Xt.ACTIVE),"tab"===t.getAttribute("role")&&t.setAttribute("aria-selected",!1)}if(Rt(e).addClass(Xt.ACTIVE),"tab"===e.getAttribute("role")&&e.setAttribute("aria-selected",!0),$t.reflow(e),Rt(e).addClass(Xt.SHOW),e.parentNode&&Rt(e.parentNode).hasClass(Xt.DROPDOWN_MENU)){var s=Rt(e).closest(Kt.DROPDOWN)[0];s&&Rt(s).find(Kt.DROPDOWN_TOGGLE).addClass(Xt.ACTIVE),e.setAttribute("aria-expanded",!0)}i&&i()},e._jQueryInterface=function(t){return this.each(function(){var i=Rt(this),n=i.data(Wt);if(n||(n=new e(this),i.data(Wt,n)),"string"==typeof t){if("undefined"==typeof n[t])throw new Error('No method named "'+t+'"');n[t]()}})},s(e,null,[{key:"VERSION",get:function(){return Ft}}]),e}(),Rt(document).on(Yt.CLICK_DATA_API,Kt.DATA_TOGGLE,function(e){e.preventDefault(),Gt._jQueryInterface.call(Rt(this),"show")}),Rt.fn[zt]=Gt._jQueryInterface,Rt.fn[zt].Constructor=Gt,Rt.fn[zt].noConflict=function(){return Rt.fn[zt]=Vt,Gt._jQueryInterface},Gt);!function(e){if(void 0===e)throw new Error("Bootstrap's JavaScript requires jQuery. jQuery must be included before Bootstrap's JavaScript.");var t=e.fn.jquery.split(" ")[0].split("."),i=1,n=2,s=9,r=1,o=4;if(t[0]<n&&t[1]<s||t[0]===i&&t[1]===s&&t[2]<r||t[0]>=o)throw new Error("Bootstrap's JavaScript requires at least jQuery v1.9.1 but less than v4.0.0")}(t),e.Util=$t,e.Alert=Qt,e.Button=Jt,e.Carousel=Zt,e.Collapse=ei,e.Dropdown=ti,e.Modal=ii,e.Popover=si,e.Scrollspy=ri,e.Tab=oi,e.Tooltip=ni,Object.defineProperty(e,"__esModule",{value:!0})});