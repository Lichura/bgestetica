
<head>

</head>
<div id="scheduler_here" class="dhx_cal_container" style='margin-top: 10vh; position: absolute; width:100%; height:900px;'>


 <div class="dhx_cal_navline">
        <div class="dhx_cal_prev_button">&nbsp;</div>
        <div class="dhx_cal_next_button">&nbsp;</div>
        <div class="dhx_cal_today_button"></div>
        <div class="dhx_cal_date"></div>
        <div class="dhx_cal_tab" name="day_tab" style="right:204px;"></div>
        <div class="dhx_cal_tab" name="week_tab" style="right:140px;"></div>
        <div class="dhx_cal_tab" name="month_tab" style="right:76px;"></div>
   <div class="dhx_cal_tab" name="agenda_tab" style="right: 280px;"></div>
   <div class="dhx_cal_tab" name="equipos_tab" style="right:350px;"></div>
   <div class="dhx_cal_tab" name="medicos_tab" style="right:350px;"></div>
 </div>
 <div class="dhx_cal_header">
 </div>
 <div class="dhx_cal_data">
 </div>
</div>



<script>
    var data = <%= @events.html_safe %>;
    

// we can block specific dates


    scheduler.config.multi_day = true;
    scheduler.config.xml_date = "%Y-%m-%d %H:%i";
    scheduler.config.first_hour = 8;
    scheduler.config.last_hour = 22;
    scheduler.config.time_step  = 30;
    scheduler.config.details_on_create = true;

    scheduler.init("scheduler_here");


    scheduler.config.show_loading = true;
    scheduler.parse(JSON.stringify(data), "json");
    
    scheduler.updateView();
    var dp = new dataProcessor("<%= db_action_path %>");

    dp.init(scheduler);
    scheduler.getEvent("64").readonly = true;
    dp.setTransactionMode("GET", false);
    dp.action_param = "dhx_editor_status";
    console.log(scheduler.getEvent(64));

</script>
